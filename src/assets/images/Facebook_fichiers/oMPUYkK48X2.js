;/*FB_PKG_DELIM*/

__d("AppEventField",[],(function(a,b,c,d,e,f){e.exports={ANALYTICS_PARTNER_APP_ID:"_analyticsPartnerAppid",APP_USER_ID:"_app_user_id",APP_VERSION:"_appVersion",EVENT_NAME:"_eventName",EVENT_NAME_MD5:"_eventName_md5",FB_CURRENCY:"_currency",IMPLICITLY_LOGGED:"_implicitlyLogged",IN_BACKGROUND:"_inBackground",IS_TIMED_EVENT:"_isTimedEvent",LOG_TIME:"_logTime",ORDER_ID:"fb_order_id",SESSION_ID:"_session_id",UI:"_ui",VALUE_TO_SUM:"_valueToSum",VALUE_TO_UPDATE:"_valueToUpdate",EVENT_NAME_BEFORE_REMAPPED:"_event_name_before_remapped",IS_CODELESS:"_is_fb_codeless",IS_SUGGESTED_EVENT:"_is_suggested_event",IS_REFERRED_PIXEL_EVENT:"_fb_pixel_referral_id",FB_PIXEL_PARAMETER:"fb_pixel_id",TRACE_ID:"trace_id",USER_AGENT:"user_agent",SUBSCRIPTION_ID:"subscription_id",SUBSCRIPTION_SID:"subscription_sid",PREDICTED_LTV:"predicted_ltv",BACKEND_INFERRED:"_backendInferred",ANALYTICS_TRACE:"_analyticsTrace",IP_ADDRESS:"ip_address",EVENT_ID:"event_id",RESTRICTED_PARAMS:"_restrictedParams",ON_DEVICE_PARAMS:"_onDeviceParams",PURCHASE_VALID_RESULT_TYPE:"purchase_valid_result_type",CORE_LIB_INCLUDED:"core_lib_included",LOGIN_LIB_INCLUDED:"login_lib_included",SHARE_LIB_INCLUDED:"share_lib_included",PLACE_LIB_INCLUDED:"place_lib_included",MESSENGER_LIB_INCLUDED:"messenger_lib_included",APPLINKS_LIB_INCLUDED:"applinks_lib_included",MARKETING_LIB_INCLUDED:"marketing_lib_included",CODELESS_DEBUG_ACTION:"_codeless_action",MARKETING_LIB_INITIALIZED:"sdk_initialized",BILLING_CLIENT_LIB_INCLUDED:"billing_client_lib_included",BILLING_SERVICE_LIB_INCLUDED:"billing_service_lib_included",USER_DATA_KEYS:"user_data_keys",DEVICE_PUSH_TOKEN:"device_push_token",FB_MOBILE_PCKG_FP:"fb_mobile_pckg_fp",FB_MOBILE_APP_CERT_HASH:"fb_mobile_app_cert_hash",ORIGINAL_EVENT_NAME:"original_event_name",APP_EVENT_SEPARABLE_ID:"app_event_user_separable_id_DO_NOT_USE",ENCRYPTED_APP_EVENT_SEPARABLE_ID:"encrypted_app_event_user_separable_id_DO_NOT_USE",AGGREGATE_ID:"_aggregate_id",ANONYMOUS_ID:"_anonymous_id",COUNT:"$aggr.count"}}),null);
__d("useAFXCommunityStandardsScreenNextRequest",["IXReliabilityLogging.react","useCIXShowErrorScreen","useCometIXTNextMutation"],(function(a,b,c,d,e,f){"use strict";function a(){var a=b("useCIXShowErrorScreen")(),c=b("useCometIXTNextMutation")();return function(d,e){return c({afx_community_standards:d},function(c){d.serialized_state!=null&&b("IXReliabilityLogging.react").ixtReliabilityLogging(c,d.serialized_state);return e!=null?e(c):a()})}}e.exports=a}),null);
__d("useAFXFeedbackFollowUpScreenNextRequest",["IXReliabilityLogging.react","useCIXShowErrorScreen","useCometIXTNextMutation"],(function(a,b,c,d,e,f){"use strict";function a(){var a=b("useCIXShowErrorScreen")(),c=b("useCometIXTNextMutation")();return function(d,e){return c({afx_feedback_follow_up:d},function(c){d.serialized_state!=null&&b("IXReliabilityLogging.react").ixtReliabilityLogging(c,d.serialized_state);return e!=null?e(c):a()})}}e.exports=a}),null);
__d("useAFXFeedbackOptionsScreenNextRequest",["IXReliabilityLogging.react","useCIXShowErrorScreen","useCometIXTNextMutation"],(function(a,b,c,d,e,f){"use strict";function a(){var a=b("useCIXShowErrorScreen")(),c=b("useCometIXTNextMutation")();return function(d,e){return c({afx_feedback_options:d},function(c){d.serialized_state!=null&&b("IXReliabilityLogging.react").ixtReliabilityLogging(c,d.serialized_state);return e!=null?e(c):a()})}}e.exports=a}),null);
__d("AFXCommunityStandardsCometScreen_data$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}];return{kind:"SplitOperation",metadata:{},name:"AFXCommunityStandardsCometScreen_data$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_description_intro",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_description_bullets",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_description_footer",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_description_footer_bullets",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_next_button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_back_button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_framework_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_screen_props",storageKey:null}]}}();e.exports=a}),null);
__d("AFXCommunityStandardsCometScreen_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AFXCommunityStandardsCometScreen_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_description_intro",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_description_bullets",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_description_footer",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_description_footer_bullets",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_next_button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"community_standards_back_button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_framework_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_screen_props",storageKey:null}],type:"AFXCommunityStandardsScreenViewModel",abstractKey:null}}();e.exports=a}),null);
__d("AFXFeedbackFollowUpCometScreen_data$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}];return{kind:"SplitOperation",metadata:{},name:"AFXFeedbackFollowUpCometScreen_data$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_follow_up_title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_follow_up_body",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_follow_up_subheading",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_follow_up_footer_with_link",plural:!0,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_follow_up_footer_with_link_url",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_follow_up_next_button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"feedback_follow_up_item_with_token",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isNode"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"AFXCometNodeRenderer_data",fragmentName:"CometAFXFeedUnitWrapper_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXFeedUnitWrapper",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"AFXCometNodeRenderer_data",fragmentName:"CometAFXCommentWrapper_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXCommentWrapper",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"AFXCometNodeRenderer_data",fragmentName:"CometAFXHolisticSegmentPreviewWrapper_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"HolisticStorySegment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"AFXCometNodeRenderer_data",fragmentName:"CometIXTPagePreviewWrapper_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_screen_props",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_framework_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_state",storageKey:null}]}}();e.exports=a}),null);
__d("AFXFeedbackFollowUpCometScreen_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AFXFeedbackFollowUpCometScreen_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_follow_up_title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_follow_up_body",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_follow_up_subheading",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_follow_up_footer_with_link",plural:!0,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_follow_up_footer_with_link_url",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_follow_up_next_button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"feedback_follow_up_item_with_token",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"AFXCometNodeRenderer_data"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_screen_props",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_framework_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_state",storageKey:null}],type:"AFXFeedbackFollowUpScreenViewModel",abstractKey:null}}();e.exports=a}),null);
__d("AFXFeedbackOptionsCometScreen_data$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}];return{kind:"SplitOperation",metadata:{},name:"AFXFeedbackOptionsCometScreen_data$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_options_title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_options_body",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_options_next_button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_options_back_button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"AFXFeedbackOptionViewModel",kind:"LinkedField",name:"feedback_options",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_option_title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_option_description",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_option",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_framework_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_screen_props",storageKey:null}]}}();e.exports=a}),null);
__d("AFXFeedbackOptionsCometScreen_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AFXFeedbackOptionsCometScreen_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_options_title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_options_body",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_options_next_button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_options_back_button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"AFXFeedbackOptionViewModel",kind:"LinkedField",name:"feedback_options",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"AFXFeedbackOptionsRadioItems_data"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_framework_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"afx_flow_screen_props",storageKey:null}],type:"AFXFeedbackOptionsScreenViewModel",abstractKey:null}}();e.exports=a}),null);
__d("AFXIntegrityErrorFLXViolationsHistoryDialogCometScreen_data$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}];return{kind:"SplitOperation",metadata:{},name:"AFXIntegrityErrorFLXViolationsHistoryDialogCometScreen_data$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"afx_flow_screen_props",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body_text",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"primary_cta",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primary_cta_url",storageKey:null},{alias:null,args:null,concreteType:"ViolationHistorySupportCase",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("AFXIntegrityErrorFLXViolationsHistoryDialogCometScreen_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AFXIntegrityErrorFLXViolationsHistoryDialogCometScreen_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"afx_flow_screen_props",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},action:"THROW",path:"title"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body_text",plural:!1,selections:a,storageKey:null},action:"THROW",path:"body_text"},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"primary_cta",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primary_cta_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometIEXViolationHistoryList_cause"}],type:"AFXIntegrityErrorFLXViolationsHistoryDialogScreenViewModel",abstractKey:null}}();e.exports=a}),null);
__d("AFXFeedbackOptionsRadioItems_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AFXFeedbackOptionsRadioItems_data",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_option_title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"feedback_option_description",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_option",storageKey:null}],type:"AFXFeedbackOptionViewModel",abstractKey:null}}();e.exports=a}),null);
__d("CloudGamingPlayerContainer_game.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"cloud_binary_id",variableName:"cloudBinaryID"}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"automatedInputConfigName"},{defaultValue:null,kind:"LocalArgument",name:"cloudBinaryID"}],kind:"Fragment",metadata:null,name:"CloudGamingPlayerContainer_game",selections:[{alias:"cloudGameActiveWarningTimeout",args:null,kind:"ScalarField",name:"cloud_game_active_warning_timeout",storageKey:null},{alias:"cloudGameConfigFlags",args:a,concreteType:"CloudGameConfigFlags",kind:"LinkedField",name:"cloud_game_config_flags",plural:!1,selections:[{alias:"enableFullyLockedMouse",args:null,kind:"ScalarField",name:"enable_fully_locked_mouse",storageKey:null},{alias:"enableLockedMouse",args:null,kind:"ScalarField",name:"enable_locked_mouse",storageKey:null},{alias:"enableMultiTouchOverlay",args:null,kind:"ScalarField",name:"enable_multi_touch_overlay",storageKey:null},{alias:"enableWarningAlerts",args:null,kind:"ScalarField",name:"enable_warning_alerts",storageKey:null},{alias:"useSDKDebugPrint",args:null,kind:"ScalarField",name:"use_sdk_debug_print",storageKey:null}],storageKey:null},{alias:"cloudGameFixedAspectRatioOnPC",args:null,kind:"ScalarField",name:"cloud_game_fixed_aspect_ratio_on_pc",storageKey:null},{alias:"cloudGameID",args:null,kind:"ScalarField",name:"cloud_game_id",storageKey:null},{alias:"gameName",args:null,kind:"ScalarField",name:"game_name",storageKey:null},{alias:"gameOrientation",args:a,kind:"ScalarField",name:"game_orientation",storageKey:null},{alias:"gamesProviderType",args:null,kind:"ScalarField",name:"games_provider_type",storageKey:null},{args:[{kind:"Variable",name:"cloudBinaryID",variableName:"cloudBinaryID"}],kind:"FragmentSpread",name:"CloudGamingPlayerMobileContainer_game"},{args:[{kind:"Variable",name:"automatedInputConfigName",variableName:"automatedInputConfigName"}],kind:"FragmentSpread",name:"CloudGamingStandaloneStarter_game"}],type:"GamesInstantPlayStyleInfo",abstractKey:null}}();e.exports=a}),null);
__d("CloudGamingPlayerMobileContainer_game.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"cloudBinaryID"}],kind:"Fragment",metadata:null,name:"CloudGamingPlayerMobileContainer_game",selections:[{args:[{kind:"Variable",name:"cloudBinaryID",variableName:"cloudBinaryID"}],kind:"FragmentSpread",name:"useGamesMobileContainerStyle_game"}],type:"GamesInstantPlayStyleInfo",abstractKey:null};e.exports=a}),null);
__d("IGPlatformToSLoadingView_fragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGPlatformToSLoadingView_fragment",selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:[{alias:"gameInfo",args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[{alias:"socialContext",args:null,kind:"ScalarField",name:"social_context",storageKey:null},{args:null,kind:"FragmentSpread",name:"InstantGamesLoadingViewGameIcon_fragment"}],storageKey:null}],storageKey:null}],type:"InstantApplicationUserScope",abstractKey:null};e.exports=a}),null);
__d("CloudGamingContainer_game.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"automatedInputConfigName"}],kind:"Fragment",metadata:null,name:"CloudGamingContainer_game",selections:[{alias:"automatedInputConfig",args:[{kind:"Variable",name:"config_name",variableName:"automatedInputConfigName"}],kind:"ScalarField",name:"cloud_game_automated_inputs",storageKey:null},{alias:"sendEscOnFocusLost",args:null,kind:"ScalarField",name:"send_esc_on_focus_lost",storageKey:null}],type:"GamesInstantPlayStyleInfo",abstractKey:null};e.exports=a}),null);
__d("CloudGamingStandaloneStarter_game.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"automatedInputConfigName"}],kind:"Fragment",metadata:null,name:"CloudGamingStandaloneStarter_game",selections:[{args:[{kind:"Variable",name:"automatedInputConfigName",variableName:"automatedInputConfigName"}],kind:"FragmentSpread",name:"CloudGamingContainer_game"}],type:"GamesInstantPlayStyleInfo",abstractKey:null};e.exports=a}),null);
__d("CloudHorizonMobileTopBarQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5359832804107821"}),null);
__d("CloudHorizonMobileTopBarQuery.graphql",["CloudHorizonMobileTopBarQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"appID"}],c=[{kind:"Variable",name:"id",variableName:"appID"}],d={alias:"allowMobileFullscreen",args:null,kind:"ScalarField",name:"allow_mobile_fullscreen",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CloudHorizonMobileTopBarQuery",selections:[{alias:"application",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"gameInfo",args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[d],storageKey:null}],type:"Application",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CloudHorizonMobileTopBarQuery",selections:[{alias:"application",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:"gameInfo",args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[d,e],storageKey:null}],type:"Application",abstractKey:null},e],storageKey:null}]},params:{id:b("CloudHorizonMobileTopBarQuery_facebookRelayOperation"),metadata:{},name:"CloudHorizonMobileTopBarQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CloudGamingVirtualGamepadConfigQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5034761426607732"}),null);
__d("CloudGamingVirtualGamepadConfigQuery.graphql",["CloudGamingVirtualGamepadConfigQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"appID"}],c=[{kind:"Variable",name:"game",variableName:"appID"}],d={alias:null,args:null,kind:"ScalarField",name:"collision_shape",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"widget_color",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"game_state",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"widget_image_uri",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"is_toggle",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"keycode",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"widget_orientation",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"pos_x",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"pos_y",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"press_color",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"toggle_color",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"toggle_time",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"widget_type",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"widget_gyro_turn_limit",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"widget_gyro_pitch_limit",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"widget_vibration",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"blocking_region_size_x",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"blocking_region_size_y",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CloudGamingVirtualGamepadConfigQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"InstantGameInfoWithSupportCheck",kind:"LinkedField",name:"instant_game_info_with_support_check",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:[{alias:null,args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[{alias:null,args:null,concreteType:"CloudGamingVirtualGamepad",kind:"LinkedField",name:"gredos_virtual_gamepad",plural:!0,selections:[d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CloudGamingVirtualGamepadConfigQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"InstantGameInfoWithSupportCheck",kind:"LinkedField",name:"instant_game_info_with_support_check",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:[{alias:null,args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[{alias:null,args:null,concreteType:"CloudGamingVirtualGamepad",kind:"LinkedField",name:"gredos_virtual_gamepad",plural:!0,selections:[d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y],storageKey:null},y],storageKey:null},y],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CloudGamingVirtualGamepadConfigQuery_facebookRelayOperation"),metadata:{},name:"CloudGamingVirtualGamepadConfigQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ExternalLinkAllowedDomainsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4727036477393716"}),null);
__d("ExternalLinkAllowedDomainsQuery.graphql",["ExternalLinkAllowedDomainsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"appID"}],c=[{kind:"Variable",name:"game",variableName:"appID"}],d={alias:null,args:null,kind:"ScalarField",name:"allowed_domains_for_external_links",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ExternalLinkAllowedDomainsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"InstantGameInfoWithSupportCheck",kind:"LinkedField",name:"instant_game_info_with_support_check",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:[{alias:null,args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ExternalLinkAllowedDomainsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"InstantGameInfoWithSupportCheck",kind:"LinkedField",name:"instant_game_info_with_support_check",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:[{alias:null,args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[d,e],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("ExternalLinkAllowedDomainsQuery_facebookRelayOperation"),metadata:{},name:"ExternalLinkAllowedDomainsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCloudGamingNegotiateSDPMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5190342997760129"}),null);
__d("useCloudGamingNegotiateSDPMutation.graphql",["useCloudGamingNegotiateSDPMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XFBCloudNegotiateSDPTResponsePayload",kind:"LinkedField",name:"xfb_cloud_gaming_negotiate_sdp",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sdp_answer",storageKey:null},{alias:null,args:null,concreteType:"XFBCloudNegotiateSDPScreenSize",kind:"LinkedField",name:"screen_size",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"error_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"input_channel_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lifecycle_channel_label",storageKey:null},{alias:null,args:null,concreteType:"XFBRTCPurposeToLabel",kind:"LinkedField",name:"purpose_to_label",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"input",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lifecycle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"input_unreliable",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCloudGamingNegotiateSDPMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCloudGamingNegotiateSDPMutation",selections:c},params:{id:b("useCloudGamingNegotiateSDPMutation_facebookRelayOperation"),metadata:{},name:"useCloudGamingNegotiateSDPMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useGamesMobileContainerStyle_game.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"cloudBinaryID"}],kind:"Fragment",metadata:null,name:"useGamesMobileContainerStyle_game",selections:[{alias:"gameOrientation",args:[{kind:"Variable",name:"cloud_binary_id",variableName:"cloudBinaryID"}],kind:"ScalarField",name:"game_orientation",storageKey:null},{alias:"gameRotationAllowed",args:null,kind:"ScalarField",name:"game_rotation_allowed",storageKey:null}],type:"GamesInstantPlayStyleInfo",abstractKey:null};e.exports=a}),null);
__d("InstantGamesSplashScreen_gameInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstantGamesSplashScreen_gameInfo",selections:[{alias:"splashURI",args:null,kind:"ScalarField",name:"splash_uri",storageKey:null}],type:"GamesInstantPlayStyleInfo",abstractKey:null};e.exports=a}),null);
__d("GamesInstantPlayStyleInfoTosDialogPropsResolver.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"session_id"}],kind:"Fragment",metadata:null,name:"GamesInstantPlayStyleInfoTosDialogPropsResolver",selections:[{alias:"cloudTOSParams",args:[{kind:"Variable",name:"session_id",variableName:"session_id"}],kind:"ScalarField",name:"cloud_tos_params",storageKey:null}],type:"GamesInstantPlayStyleInfo",abstractKey:null};e.exports=a}),null);
__d("GamesInstantPlayStyleInfo-tos_dialog_props-resolver",["GamesInstantPlayStyleInfoTosDialogPropsResolver.graphql","relay-runtime/store/ResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("GamesInstantPlayStyleInfoTosDialogPropsResolver.graphql");function a(a){a=d("relay-runtime/store/ResolverFragments").readFragment(i,a);a=a==null?void 0:a.cloudTOSParams;return a==null?null:JSON.parse(a)}g.tos_dialog_props=a}),98);
__d("InstantGamesTOSContainer_gameFragment.graphql",["GamesInstantPlayStyleInfo-tos_dialog_props-resolver"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"sessionID"}],kind:"Fragment",metadata:null,name:"InstantGamesTOSContainer_gameFragment",selections:[{alias:"cloudTOSProps",args:null,fragment:{args:[{kind:"Variable",name:"session_id",variableName:"sessionID"}],kind:"FragmentSpread",name:"GamesInstantPlayStyleInfoTosDialogPropsResolver"},kind:"RelayResolver",name:"tos_dialog_props",resolverModule:b("GamesInstantPlayStyleInfo-tos_dialog_props-resolver").tos_dialog_props,path:"cloudTOSProps"},{alias:"gameID",args:null,kind:"ScalarField",name:"instant_game_id",storageKey:null},{alias:"interactive360",args:null,concreteType:"Interactive360",kind:"LinkedField",name:"interactive_360",plural:!1,selections:[{alias:"cta",args:null,kind:"ScalarField",name:"interactive_360_cta",storageKey:null}],storageKey:null},{alias:"orientation",args:null,kind:"ScalarField",name:"game_orientation",storageKey:null},{alias:"useOnPlatformAuth",args:null,kind:"ScalarField",name:"use_on_platform_auth",storageKey:null}],type:"GamesInstantPlayStyleInfo",abstractKey:null};e.exports=a}),null);
__d("InstantGamesTOSContainer_scopeFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"sessionID"}],kind:"Fragment",metadata:null,name:"InstantGamesTOSContainer_scopeFragment",selections:[{alias:"privacyNotice",args:null,concreteType:"InstantGamePrivacyNotice",kind:"LinkedField",name:"privacy_notice",plural:!1,selections:[{alias:"permissions",args:null,concreteType:"InstantGamePermissionLine",kind:"LinkedField",name:"lines",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null}],storageKey:null}],storageKey:null},{alias:"gamesServiceUser",args:null,concreteType:"GamesServiceUser",kind:"LinkedField",name:"games_service_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"games_service_user_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:[{alias:null,args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_cloud_game_tosed",storageKey:null}],storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"sessionID",variableName:"sessionID"}],kind:"FragmentSpread",name:"InstantGamesLoadingViewContainer_fragment"}],type:"InstantApplicationUserScope",abstractKey:null};e.exports=a}),null);
__d("InstantGamesLoadingViewContainer_fragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"sessionID"}],kind:"Fragment",metadata:null,name:"InstantGamesLoadingViewContainer_fragment",selections:[{alias:"privacyNotice",args:null,concreteType:"InstantGamePrivacyNotice",kind:"LinkedField",name:"privacy_notice",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:[{alias:"gameID",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"IGPlatformToSLoadingView_fragment"},{args:null,kind:"FragmentSpread",name:"InstantGamesLoadingView_fragment"}],type:"InstantApplicationUserScope",abstractKey:null};e.exports=a}),null);
__d("InstantGamesLoadingViewPrivacyContent_fragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstantGamesLoadingViewPrivacyContent_fragment",selections:[{alias:"privacyNotice",args:null,concreteType:"InstantGamePrivacyNotice",kind:"LinkedField",name:"privacy_notice",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null}],type:"InstantApplicationUserScope",abstractKey:null};e.exports=a}),null);
__d("InstantGamesLoadingView_fragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstantGamesLoadingView_fragment",selections:[{alias:"privacyNotice",args:null,concreteType:"InstantGamePrivacyNotice",kind:"LinkedField",name:"privacy_notice",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:[{alias:"gameID",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"gameInfo",args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[{alias:"developerPrivacyNotice",args:null,kind:"ScalarField",name:"developer_privacy_notice",storageKey:null},{args:null,kind:"FragmentSpread",name:"InstantGamesLoadingViewGameIcon_fragment"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"InstantGamesLoadingViewPrivacyContent_fragment"}],type:"InstantApplicationUserScope",abstractKey:null};e.exports=a}),null);
__d("InstantGamesLoadingViewGameIcon_fragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstantGamesLoadingViewGameIcon_fragment",selections:[{alias:"iconURI",args:null,kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:"socialContext",args:null,kind:"ScalarField",name:"social_context",storageKey:null}],type:"GamesInstantPlayStyleInfo",abstractKey:null};e.exports=a}),null);
__d("InstantGamesCustomInviteGenericDialogQuery$Parameters",["InstantGamesCustomInviteGenericDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("InstantGamesCustomInviteGenericDialogQuery_facebookRelayOperation"),metadata:{},name:"InstantGamesCustomInviteGenericDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("InstantGamesViewStreamersDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6027310000647740"}),null);
__d("InstantGamesViewStreamersDialogQuery$Parameters",["InstantGamesViewStreamersDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("InstantGamesViewStreamersDialogQuery_facebookRelayOperation"),metadata:{},name:"InstantGamesViewStreamersDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("InstantGamesRelayPermissions_GrantPermissionsMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4924182494304081"}),null);
__d("InstantGamesRelayPermissions_GrantPermissionsMutation.graphql",["InstantGamesRelayPermissions_GrantPermissionsMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"is_tosed",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_cloud_game_tosed",storageKey:null},g={alias:"privacyNotice",args:null,concreteType:"InstantGamePrivacyNotice",kind:"LinkedField",name:"privacy_notice",plural:!1,selections:[{alias:"permissions",args:null,concreteType:"InstantGamePermissionLine",kind:"LinkedField",name:"lines",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"InstantGamesRelayPermissions_GrantPermissionsMutation",selections:[{alias:null,args:c,concreteType:"InstantGameGrantPermissionResponsePayload",kind:"LinkedField",name:"instant_game_grant_permission",plural:!1,selections:[{alias:"userScope",args:null,concreteType:"InstantApplicationUserScope",kind:"LinkedField",name:"instant_application_user_scope",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:[d,{alias:null,args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[e,f],storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"InstantGamesRelayPermissions_GrantPermissionsMutation",selections:[{alias:null,args:c,concreteType:"InstantGameGrantPermissionResponsePayload",kind:"LinkedField",name:"instant_game_grant_permission",plural:!1,selections:[{alias:"userScope",args:null,concreteType:"InstantApplicationUserScope",kind:"LinkedField",name:"instant_application_user_scope",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:[d,{alias:null,args:null,concreteType:"GamesInstantPlayStyleInfo",kind:"LinkedField",name:"instant_game_info",plural:!1,selections:[e,f,d],storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}]},params:{id:b("InstantGamesRelayPermissions_GrantPermissionsMutation_facebookRelayOperation"),metadata:{},name:"InstantGamesRelayPermissions_GrantPermissionsMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("InteractivePluginTOSDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5738671596192051"}),null);
__d("InteractivePluginTOSDialogQuery$Parameters",["InteractivePluginTOSDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("InteractivePluginTOSDialogQuery_facebookRelayOperation"),metadata:{},name:"InteractivePluginTOSDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIEXViolationHistoryList_cause.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometIEXViolationHistoryList_cause",selections:[{alias:null,args:null,concreteType:"ViolationHistorySupportCase",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null}],storageKey:null}],type:"AFXIntegrityErrorFLXViolationsHistoryDialogScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("FleetBeaconSubscriptionNetwork_LogMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5522532457760182"}),null);
__d("FleetBeaconSubscriptionNetwork_LogMutation.graphql",["FleetBeaconSubscriptionNetwork_LogMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FleetBeaconLogResponsePayload",kind:"LinkedField",name:"fleet_beacon_log",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FleetBeaconSubscriptionNetwork_LogMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FleetBeaconSubscriptionNetwork_LogMutation",selections:c},params:{id:b("FleetBeaconSubscriptionNetwork_LogMutation_facebookRelayOperation"),metadata:{},name:"FleetBeaconSubscriptionNetwork_LogMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FleetBeaconSubscriptionNetwork_PublishMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4993530164018171"}),null);
__d("FleetBeaconSubscriptionNetwork_PublishMutation.graphql",["FleetBeaconSubscriptionNetwork_PublishMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FleetBeaconPublishResponsePayload",kind:"LinkedField",name:"fleet_beacon_publish",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FleetBeaconSubscriptionNetwork_PublishMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FleetBeaconSubscriptionNetwork_PublishMutation",selections:c},params:{id:b("FleetBeaconSubscriptionNetwork_PublishMutation_facebookRelayOperation"),metadata:{},name:"FleetBeaconSubscriptionNetwork_PublishMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FleetBeaconSubscriptionNetwork_Subscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8189523354422598"}),null);
__d("FleetBeaconSubscriptionNetwork_Subscription.graphql",["FleetBeaconSubscriptionNetwork_Subscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"TestFleetBeaconSubscribeResponsePayload",kind:"LinkedField",name:"test_fleet_beacon_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"test_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FleetBeaconSubscriptionNetwork_Subscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FleetBeaconSubscriptionNetwork_Subscription",selections:c},params:{id:b("FleetBeaconSubscriptionNetwork_Subscription_facebookRelayOperation"),metadata:{subscriptionName:"test_fleet_beacon_subscribe"},name:"FleetBeaconSubscriptionNetwork_Subscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("Aperture_ResourceClosedCode",[],(function(a,b,c,d,e,f){a=Object.freeze({WINDOW_CLOSED:1,USER_INTERACTION:2,EXCEPTION_IN_SERVER:3,MARKED_AS_DONE:4,SERVER_SHUTTING_DOWN:5,DESTROY_CALLED:6,BROWSER_PEER_LOST:7,RESOURCE_PEER_LOST:8,ONEWORLD_CLIENT_DIED:9,CLIENT_HEARTBEAT_TIMEOUT:10});f["default"]=a}),66);
__d("ApertureCodes",["Aperture_ResourceClosedCode"],(function(a,b,c,d,e,f,g){function h(a){switch(a){case"BROWSER_UNSUPPORTED":return"Your browser is unsupported, please use the Aperture App or Chrome";case"CREATE_OFFER_FAILURE":return"Failed to create an offer. This can mean that you're not connected to the internet, or the Aperture backend is down";case"NO_CONFIG_PROVIDED":return"An invalid config was provided to Aperture";case"NO_HEARTBEATS_FROM_SERVER":return"The Aperture backend stopped sending heartbeats";case"NO_MATCHING_RESOURCES":return"There are no resources matching the provided configuration";case"PEER_CONNECTION_CLOSED":return"The RTC peer connection is closed by the server.";default:return"An unknown error occured"}}function i(a){switch(a){case c("Aperture_ResourceClosedCode").WINDOW_CLOSED:return"You closed the window";case c("Aperture_ResourceClosedCode").USER_INTERACTION:return"You manually closed the session";case c("Aperture_ResourceClosedCode").EXCEPTION_IN_SERVER:return"There was an exception in the backend";case c("Aperture_ResourceClosedCode").MARKED_AS_DONE:return"The session was marked as done";case c("Aperture_ResourceClosedCode").SERVER_SHUTTING_DOWN:return"The backend is shutting down";case c("Aperture_ResourceClosedCode").DESTROY_CALLED:return"The session was destroyed with a Thrift call";case c("Aperture_ResourceClosedCode").BROWSER_PEER_LOST:return"The video streaming service detected that the viewer went away";case c("Aperture_ResourceClosedCode").RESOURCE_PEER_LOST:return"The video streaming service detected that the resource went away";case c("Aperture_ResourceClosedCode").ONEWORLD_CLIENT_DIED:return"There was an error inside One World, which manages the resource";case c("Aperture_ResourceClosedCode").CLIENT_HEARTBEAT_TIMEOUT:return"The backend detected a timeout. This can mean that you have been disconnected from the internet for a period of time";default:return"The resource closed for an unknown reason"}}function a(a){switch(a){case c("Aperture_ResourceClosedCode").WINDOW_CLOSED:return"Window Closed";case c("Aperture_ResourceClosedCode").USER_INTERACTION:return"User Requested";case c("Aperture_ResourceClosedCode").EXCEPTION_IN_SERVER:return"Exception in Server";case c("Aperture_ResourceClosedCode").MARKED_AS_DONE:return"Marked as done";case c("Aperture_ResourceClosedCode").SERVER_SHUTTING_DOWN:return"Server shutting down";case c("Aperture_ResourceClosedCode").DESTROY_CALLED:return"Destroy called";case c("Aperture_ResourceClosedCode").BROWSER_PEER_LOST:return"Browser peer lost";case c("Aperture_ResourceClosedCode").RESOURCE_PEER_LOST:return"Resource peer lost";case c("Aperture_ResourceClosedCode").ONEWORLD_CLIENT_DIED:return"One World client died";case c("Aperture_ResourceClosedCode").CLIENT_HEARTBEAT_TIMEOUT:return"Client heartbeat timeout";default:return"Unknown"}}function b(a){switch(a.phase){case"done":return i(a.code);case"error":return h(a.code)}return null}g.errorCodeToMessage=h;g.resourceClosedCodeToMessage=i;g.resourceClosedReasonFromCode=a;g.connectionStateToMessage=b}),98);
__d("ApertureRTCAction",["ApertureCodes","nullthrows"],(function(a,b,c,d,e,f,g){function a(a){try{var b=JSON.parse(a);if(b.tick)return{type:"SERVER_TICK",heartbeat:{timestamp:Date.now(),sequence:b.tick.sequenceNumber}};else if(b.resourceClosed){b=b.resourceClosed;var e=c("nullthrows")(b.code);return{type:"RESOURCE_CLOSED",code:e,detail:(b=b.reason)!=null?b:d("ApertureCodes").resourceClosedCodeToMessage(e)}}return{type:"UNPARSEABLE_RTC",data:a}}catch(b){return{type:"UNPARSEABLE_RTC",data:a}}}function b(a){if(a instanceof Array)return{type:"SEND_RTC",purpose:"input",events:a.map(function(a){return{input:a}})};else return{type:"SEND_RTC",purpose:"input",events:[{input:a}]}}g.getActionFromChannelMessage=a;g.sendInputEvent=b}),98);
__d("ApertureCloudGamingRTCAction",["ApertureRTCAction","CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){function h(a){var b=a.gameReady;if(b)return{type:c("CloudGamingActionTypes").GAME_READY,timestamp:Date.now(),isAndroidContainer:b.isAndroidContainer||!1};if(a.sdkMessage)return{type:c("CloudGamingActionTypes").CLIENT_RECEIVE_SDK_MESSAGE,message:JSON.parse(a.sdkMessage.data)};if(a.inputFeedback)return{type:c("CloudGamingActionTypes").INPUT_FEEDBACK,rtpTimestamp:a.inputFeedback.rtpTimestamp,inputTimestamps:a.inputFeedback.inputTimestamps};if(a.serverState){b=a.serverState.data;if(b){b=b.game;if(b){var d=b.state;b=b.cursorState!=null?{visible:b.cursorState.visible,icon:b.cursorState.icon,iconPool:b.cursorState.iconPool!=null?{image64:b.cursorState.iconPool.image64,hotspotX:b.cursorState.iconPool.hotspotX,hotspotY:b.cursorState.iconPool.hotspotY}:null}:null;return{type:c("CloudGamingActionTypes").IN_GAME_STATE,state:d,cursorState:b}}}}return a.closeNotification?{type:c("CloudGamingActionTypes").CLOSE_NOTIFICATION,reason:a.closeNotification.reason,time:a.closeNotification.time}:null}function a(a){try{var b=d("ApertureRTCAction").getActionFromChannelMessage(a);if(b.type!=="UNPARSEABLE_RTC")return b;b=JSON.parse(a);b=h(b);return b?b:{type:"UNPARSEABLE_RTC",data:a}}catch(b){return{type:"UNPARSEABLE_RTC",data:a}}}g.getActionFromChannelMessage=a}),98);
__d("Aperture_ModifierKey",[],(function(a,b,c,d,e,f){a=Object.freeze({CTRL:0,CMD:1});f["default"]=a}),66);
__d("EventTimeUtils",[],(function(a,b,c,d,e,f){var g;function h(){return window.performance!==void 0&&window.performance.timeOrigin!==void 0?Math.floor(1e3*(window.performance.timeOrigin+window.performance.now())):Date.now()*1e3}function a(){var a=h();g!==void 0&&g===a&&(a+=1);g=a;return a}f.tryGetTimestampInMicroSecond=a}),66);
__d("ApertureKeyboardAction",["ApertureRTCAction","Aperture_ModifierKey","EventTimeUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=new Set();a.metaKey&&b.add(c("Aperture_ModifierKey").CMD);a.ctrlKey&&b.add(c("Aperture_ModifierKey").CTRL);return b}var i=86,j=91,k=93,l=162,m=163;function n(a,b,d){switch(a){case j:case k:return{type:"MODIFIER_KEY",modifier:c("Aperture_ModifierKey").CMD,direction:b,timestamp:d};case l:case m:return{type:"MODIFIER_KEY",modifier:c("Aperture_ModifierKey").CTRL,direction:b,timestamp:d};default:return{type:"KEY",code:a,direction:b,timestamp:d}}}function o(a,b,c){b=Array.from(b)[0];if(b==null)return null;c=c[""+b];if(c==null)return null;b=c[""+a];return b==null?null:b}function p(a,b,c,d,e){var f=n(a,b,e);if(f.type==="MODIFIER_KEY")return[[f],!1];if(c.size>0){a=o(a,c,d);if(a==null)return[[],!1];return b==="up"?[[],!0]:[[{type:"KEY",code:a,direction:"down",timestamp:e},{type:"KEY",code:a,direction:"up",timestamp:e}],!0]}switch(f.type){case"KEY":return[[f],!0]}return[[],!1]}function q(a){var b=a.keyCode,c=a.code;switch(a.keyCode){case j:b=l;c="ControlLeft";break;case k:b=m;c="ControlRight";break}return[b,c]}a=function(a,b){return[{key:{direction:1,jsCode:a,timestamp:b,code:""}},{key:{direction:0,jsCode:a,timestamp:b,code:""}}]};b=function(a,b,c){return r("down",a,b,c)};e=function(a,b,c){return r("up",a,b,c)};var r=function(a,b,e,f){return function(g,j){var k=d("EventTimeUtils").tryGetTimestampInMicroSecond();if(f&&b.keyCode===i&&a==="down"&&(b.metaKey||b.ctrlKey)){b.preventDefault();c("promiseDone")(navigator.clipboard.readText().then(function(a){g(d("ApertureRTCAction").sendInputEvent({text:{content:a,source:"Paste",timestamp:k}}))}));return}if(e){j=p(b.keyCode,a,h(b),j().resource.modifierMap,k);var l=j[0];j=j[1];j&&b.preventDefault();for(var j=l,l=Array.isArray(j),m=0,j=l?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=j.length)break;n=j[m++]}else{m=j.next();if(m.done)break;n=m.value}n=n;switch(n.type){case"KEY":g(d("ApertureRTCAction").sendInputEvent({key:{direction:n.direction==="down"?1:0,jsCode:n.code,code:b.code,timestamp:k}}));g(n);continue;default:g(n);continue}}}else{b.preventDefault();n=q(b);m=n[0];l=n[1];g(d("ApertureRTCAction").sendInputEvent({key:{direction:a==="down"?1:0,jsCode:m,code:l,timestamp:k}}));j={type:"KEY",code:m,direction:a,timestamp:k};g(j)}}};g.mapToAction=n;g.mapModifier=o;g.keyboardEventAction=p;g.buttonEvent=a;g.sendKeyDown=b;g.sendKeyUp=e}),98);
__d("ApertureMapTouch",["EventTimeUtils"],(function(a,b,c,d,e,f,g){function h(a,b,c){if(a.target!=null&&a.target.getBoundingClientRect!=null){var d=a.target.getBoundingClientRect(),e=c?c.width:d.width;c=c?c.height:d.height;return{x:Math.round((a.clientX-d.left-(d.width-e)/2)*b.width/e),y:Math.round((a.clientY-d.top)*b.height/c)}}else return{x:a.clientX,y:a.clientY}}function i(a,b,c){if(a.changedTouches!=null){var d=[];for(var e=0;e<a.changedTouches.length;e++){var f=a.changedTouches[e];d.push({position:h(f,b,c),index:f.identifier})}return d}return[{position:h(a,b,c),index:0}]}function a(a,b,c){return i(a,b,c).map(function(a){return{type:"MOUSE_DOWN",position:a.position,index:a.index,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),originalIndex:a.index}})}function b(a,b,c){return i(a,b,c).map(function(a){return{type:"MOUSE_MOVE",position:a.position,index:a.index,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),originalIndex:a.index}})}function c(a,b,c){return i(a,b,c).map(function(a){return{type:"MOUSE_UP",position:a.position,index:a.index,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),originalIndex:a.index}})}function e(a,b,c){return i(a,b,c).map(function(b){return{type:"MOUSE_WHEEL",position:b.position,index:b.index,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),originalIndex:b.index,wheel:a.wheelDelta}})}g.mouseDown=a;g.mouseMove=b;g.mouseUp=c;g.mouseWheel=e}),98);
__d("ApertureMouseReducer",[],(function(a,b,c,d,e,f){"use strict";var g={pressingDown:!1,lastPosition:{x:0,y:0},index:0},h={0:g,indexPool:{}};function i(a,b,c,d){var e=babelHelpers["extends"]({},a);b=b.toString();e[b]=d((d=a[b])!=null?d:g);e.indexPool[b]=c;return e}function a(a,b){a===void 0&&(a=h);switch(b.type){case"MOUSE_UP":return i(a,b.index,null,function(a){return babelHelpers["extends"]({},a,{pressingDown:!1,lastPosition:babelHelpers["extends"]({},b.position)})});case"MOUSE_DOWN":return i(a,b.index,b.originalIndex,function(a){return babelHelpers["extends"]({},a,{pressingDown:!0,lastPosition:babelHelpers["extends"]({},b.position)})});case"MOUSE_MOVE":return i(a,b.index,b.originalIndex,function(a){return babelHelpers["extends"]({},a,{lastPosition:babelHelpers["extends"]({},b.position)})});case"MOUSE_WHEEL":return i(a,b.index,b.originalIndex,function(a){return babelHelpers["extends"]({},a,{lastPosition:babelHelpers["extends"]({},b.position)})})}return a}f.DefaultTouchState=g;f.DefaultState=h;f.mouse=a}),66);
__d("ApertureMouseAction",["ApertureMapTouch","ApertureMouseReducer","ApertureRTCAction","EventTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(a){return{touch:a}};a=function(a){return{relativeMove:a}};var j=function(a){return{wheel:a}};function k(){var a;a=(a=navigator.userAgent)!=null?a:"";return!!a.match(/iPad/i)||!!a.match(/iPhone/i)}function l(a,b){var c=!1,d=null,e=a;for(var f=0;f<h;f++){var g=b[f.toString()];if(g===a){e=f;c=!0;break}else d==null&&g==null&&(d=f)}if(!c){e=(g=d)!=null?g:100}return e}var m=function(a,b){return function(c,e){b.preventDefault();var f=e();a(b,f.resource.size.display,f.resource.size.contentSize).map(function(a){var b,e=a.index;k()&&(e=l(e,f.mouse.indexPool));b=(b=f.mouse[e.toString()])!=null?b:d("ApertureMouseReducer").DefaultTouchState;if((a.type==="MOUSE_MOVE"||a.type==="MOUSE_UP")&&!b.pressingDown)return;b={};a.type==="MOUSE_MOVE"?b=babelHelpers["extends"]({},a,{index:e,type:"MOUSE_MOVE"}):a.type==="MOUSE_UP"?b=babelHelpers["extends"]({},a,{index:e,type:"MOUSE_UP"}):b=babelHelpers["extends"]({},a,{index:e,type:"MOUSE_DOWN"});c(d("ApertureRTCAction").sendInputEvent(i({direction:b.type==="MOUSE_UP"?0:1,x:b.position.x,y:b.position.y,timestamp:a.timestamp,index:e})));c(b)})}},n=function(a,b){return function(c,e){e=e();a(b,e.resource.size.display,e.resource.size.contentSize).map(function(a){var e=a.index,f=babelHelpers["extends"]({},a,{index:e,type:"MOUSE_WHEEL"});c(d("ApertureRTCAction").sendInputEvent(j({x:f.position.x,y:f.position.y,timestamp:a.timestamp,wheel:b.deltaY,index:e})))})}};b=function(a){return m(d("ApertureMapTouch").mouseUp,a)};c=function(a){return m(d("ApertureMapTouch").mouseDown,a)};e=function(a){return m(d("ApertureMapTouch").mouseMove,a)};f=function(a){return m(d("ApertureMapTouch").mouseUp,a)};var o=function(a){return a.buttons!==0?m(d("ApertureMapTouch").mouseDown,a):function(){}},p=function(a){return n(d("ApertureMapTouch").mouseWheel,a)},q=function(a){return m(d("ApertureMapTouch").mouseUp,a)},r=function(a){return m(d("ApertureMapTouch").mouseDown,a)},s=function(a){return m(d("ApertureMapTouch").mouseMove,a)},t=function(a,b){if(k()){var c=b(),e=c.mouse.indexPool;for(var f=0;f<h;f++){var g=e[f.toString()];if(g!=null){var j=c.mouse[f.toString()],l=d("EventTimeUtils").tryGetTimestampInMicroSecond();a({index:f,originalIndex:g,timestamp:l,type:"MOUSE_UP",position:j.lastPosition});a(d("ApertureRTCAction").sendInputEvent(i({direction:0,x:j.lastPosition.x,y:j.lastPosition.y,timestamp:l,index:f})))}}}a(d("ApertureRTCAction").sendInputEvent(Array.from(b().keyboard.keysDown).map(function(a){return{key:{direction:0,jsCode:a,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),code:""}}})));a({type:"CLEAR_KEYS_DOWN",timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond()})};g.mouseEvent=i;g.relativeMoveEvent=a;g.wheelEvent=j;g.sendMouseUp=b;g.sendMouseDown=c;g.sendMouseMove=e;g.sendMouseUpWhenOut=f;g.sendMouseDownWhenEnter=o;g.sendMouseWheel=p;g.sendTouchEnd=q;g.sendTouchStart=r;g.sendTouchMove=s;g.onBlur=t}),98);
__d("MediaUtils",["FBLogger","assignMediaStream","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e="setSinkId"in window.HTMLMediaElement.prototype;function a(a,d){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0;c("assignMediaStream")(a,d);e.next=4;return b("regeneratorRuntime").awrap(a.play());case 4:e.next=10;break;case 6:e.prev=6;e.t0=e["catch"](0);c("FBLogger")("aperture").catching(e.t0).warn("Encountered error while calling attachMediaStream");throw e.t0;case 10:case"end":return e.stop()}},null,this,[[0,6]])}function d(a,b,d){d===void 0&&(d=d);if(!d)return;try{a.setSinkId(b)}catch(a){c("FBLogger")("aperture").catching(a).warn("Encountered error while calling attachAudioSink");throw a}}g.supportsSetSink=e;g.attachMediaStream=a;g.attachAudioSink=d}),98);
__d("ApertureVideo.react",["cx","FBLogger","MediaUtils","UserAgent","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect;function a(a,b){var e=a["data-testid"],f=a.audioSinkID;e=a.className;var g=a.muted;g=g===void 0?!1:g;var h=a.onError,m=a.onPlay,n=a.onReady,o=a.stream,p=a.onMouseDown,q=a.onMouseMove,r=a.onMouseUp,s=a.onTouchEnd,t=a.onTouchMove,u=a.onTouchStart;a=a.onWheel;k(function(){(b==null?void 0:b.current)!=null&&b.current instanceof HTMLVideoElement&&o&&d("MediaUtils").attachMediaStream(b.current,o)},[o,b]);k(function(){(b==null?void 0:b.current)!=null&&b.current instanceof HTMLVideoElement&&f!=null&&d("MediaUtils").attachAudioSink(b.current,f)},[f,b]);var v=j(function(){if(b.current instanceof HTMLVideoElement){var a,d;a=(a=b.current)==null?void 0:(a=a.error)==null?void 0:a.code;d=(d=b.current)==null?void 0:(d=d.error)==null?void 0:d.message;c("FBLogger")("aperture").warn("Encountered error while rendering video, %s, %s",a,d);h!=null&&h()}},[h,b]);return i.jsx("video",{autoPlay:!0,className:c("joinClasses")(e,"_1yvx"),style:{WebkitUserSelect:"none"},"data-testid":void 0,muted:g,onContextMenu:l,onError:v,onLoadedMetadata:n,onMouseDown:p,onMouseMove:q,onMouseUp:r,onPlay:m,onTouchEnd:s,onTouchMove:t,onTouchStart:u,onWheel:a,playsInline:c("UserAgent").isPlatform("iOS"),ref:b})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a.preventDefault()}e=i.forwardRef(a);g["default"]=e}),98);
__d("ApertureLayout",[],(function(a,b,c,d,e,f){c=480;d=800;e=50;function a(a){var b=a.resource.width/a.resource.height;a=Math.max(a.container.height,a.resource.height);b=a*b;return{width:b,height:a}}function b(a){var b=a.resource.width/a.resource.height;a=Math.min(a.container.height,a.resource.height);b=a*b;return{width:b,height:a}}var g={width:c,height:d};c={width:c,height:d+e};f.buttonBarHeight=e;f.aspectFit=a;f.aspectConstrain=b;f.initialDisplaySize=g;f.initialResourceSize=c}),66);
__d("ApertureHeartbeatReducer",[],(function(a,b,c,d,e,f){"use strict";var g={received:null,sent:null};function a(a,b){a===void 0&&(a=g);switch(b.type){case"SERVER_TICK":return babelHelpers["extends"]({},a,{received:b.heartbeat});case"CLIENT_TICK":return babelHelpers["extends"]({},a,{sent:b.heartbeat});case"PEER_CONNECTION_CREATED":return g}return a}f.DefaultState=g;f.heartbeat=a}),66);
__d("ApertureKeyboardReducer",[],(function(a,b,c,d,e,f){"use strict";var g={keysDown:new Set([])};function a(a,b){a===void 0&&(a=g);switch(b.type){case"KEY":var c=new Set(a.keysDown);b.direction==="down"?c.add(b.code):c["delete"](b.code);return babelHelpers["extends"]({},a,{keysDown:c});case"CLEAR_KEYS_DOWN":return babelHelpers["extends"]({},a,{keysDown:new Set([])});default:return a}}f.DefaultState=g;f.keyboard=a}),66);
__d("ApertureMediaReducer",[],(function(a,b,c,d,e,f){"use strict";var g={mediaStream:null,videoTrack:null,audioTrack:null};function h(a){var b=a.audioTrack;b=b===void 0?null:b;var c=a.videoTrack;c=c===void 0?null:c;if(b===null||c===null)return a;var d=new MediaStream();d.addTrack(c);d.addTrack(b);return babelHelpers["extends"]({},a,{mediaStream:d})}function a(a,b){a===void 0&&(a=g);switch(b.type){case"ADD_AUDIO_TRACK":return h(babelHelpers["extends"]({},a,{mediaStream:null,audioTrack:b.track}));case"ADD_VIDEO_TRACK":return h(babelHelpers["extends"]({},a,{mediaStream:null,videoTrack:b.track}));case"ADD_MEDIA_STREAM":return babelHelpers["extends"]({},a,{mediaStream:b.stream});case"REMOVE_MEDIA_STREAM":return babelHelpers["extends"]({},a,{videoTrack:null,audioTrack:null,mediaStream:null})}return a}f.DefaultState=g;f.media=a}),66);
__d("ApertureRTCReducer",[],(function(a,b,c,d,e,f){"use strict";var g={connection:null,purposeToLabel:new Map([["input","oneworldcontrol"],["lifecycle","oneworldcontrol"]]),labelToChannel:new Map(),enableInputCompactFormat:!1};function a(a,b){a===void 0&&(a=g);switch(b.type){case"DATA_CHANNEL_OPENED":var c=new Map(a.labelToChannel);c.set(b.label,b.channel);return babelHelpers["extends"]({},a,{labelToChannel:c});case"DATA_CHANNEL_CLOSED":c=new Map(a.labelToChannel);c["delete"](b.label);return babelHelpers["extends"]({},a,{labelToChannel:c});case"PEER_CONNECTION_CREATED":return babelHelpers["extends"]({},a,{connection:b.connection});case"CONNECTION_ERROR":case"RESOURCE_CLOSED":case"DISCONNECT":return babelHelpers["extends"]({},a,{connection:null});case"RECEIVED_SDP_ANSWER":return babelHelpers["extends"]({},a,{purposeToLabel:b.purposeToLabel})}return a}f.DefaultState=g;f.rtc=a}),66);
__d("ApertureResourceReducer",["ApertureLayout"],(function(a,b,c,d,e,f,g){"use strict";var h={size:{display:d("ApertureLayout").initialDisplaySize,resource:d("ApertureLayout").initialResourceSize,contentSize:null},modifierMap:{}};function a(a,b){a===void 0&&(a=h);switch(b.type){case"CHANGE_RESOURCE_DIMENSIONS":return babelHelpers["extends"]({},a,{size:{display:b.displaySize,resource:babelHelpers["extends"]({},b.displaySize,{height:b.displaySize.height+d("ApertureLayout").buttonBarHeight}),contentSize:b.contentSize}});case"RECEIVED_SDP_ANSWER":return babelHelpers["extends"]({},a,{size:{display:b.displaySize,resource:babelHelpers["extends"]({},b.displaySize,{height:b.displaySize.height+d("ApertureLayout").buttonBarHeight})},modifierMap:b.modifierMap})}return a}g.DefaultState=h;g.resource=a}),98);
__d("CloudGamingAllowServerDebug",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!1}g["default"]=a}),98);
__d("ApertureHeartbeat",["CloudGamingAllowServerDebug","clearInterval","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=1*1e3,i=2*60*1e3;a=function(){function a(a,b){var d=this;this.$3=null;this.$4=null;this.$8=function(){var a=d.$9();d.$1({type:"CLIENT_TICK",heartbeat:a})};this.$7=function(){if(c("CloudGamingAllowServerDebug")())return;d.$1({type:"CONNECTION_ERROR",code:"NO_HEARTBEATS_FROM_SERVER",detail:"Did not hear from the server in "+i/1e3+" Seconds"})};this.$1=a;this.$2=b}var b=a.prototype;b.clear=function(){this.$5(),this.$6()};b.onHeartbeatFromServer=function(a){this.$6(),this.$4=c("setInterval")(this.$7,i)};b.startDispatchingHeartbeats=function(){this.$5(),this.$8(),this.$3=c("setInterval")(this.$8,h)};b.$6=function(){if(!this.$4)return;c("clearInterval")(this.$4);this.$4=null};b.$5=function(){if(!this.$3)return;c("clearInterval")(this.$3);this.$3=null};b.$9=function(){var a=this.$2().heartbeat.sent,b=Math.round(Date.now()/1e3);return!a?{sequence:0,timestamp:b}:{sequence:a.sequence+1,timestamp:b}};return a}();g["default"]=a}),98);
__d("ApertureDimensionsTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({PORTRAIT_UP:0,LANDSCAPE_LEFT:1,PORTRAIT_DOWN:2,LANDSCAPE_RIGHT:3});e.exports={Orientation:a}}),null);
__d("ApertureEventsTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({DOWN:1,UP:0});d=a({WINDOW_CLOSED:1,USER_INTERACTION:2,EXCEPTION_IN_SERVER:3,MARKED_AS_DONE:4,SERVER_SHUTTING_DOWN:5,DESTROY_CALLED:6,BROWSER_PEER_LOST:7,RESOURCE_PEER_LOST:8,ONEWORLD_CLIENT_DIED:9,CLIENT_HEARTBEAT_TIMEOUT:10});f=a({StringPayload:"stringPayload"});b=a({Orientation:"orientation"});var g=a({Position:"position"}),h=a({Key:"key",Touch:"touch",Paste:"paste",Rotation:"rotation",Location:"location",Gamepad:"gamepad",Text:"text",Wheel:"wheel",Mouse:"mouse",KeyboardLayout:"keyboardLayout",RelativeMove:"relativeMove"});a=a({Input:"input",Tick:"tick",ResourceClosed:"resourceClosed",InGameState:"inGameState",Container:"container"});e.exports={Direction:c,EventUnion$Types:a,InputEvent$Types:h,LocationEvent$Types:g,PasteEvent$Types:f,ResourceClosedCode:d,RotationEvent$Types:b}}),null);
__d("ApertureEventsSerializers",["ApertureDimensionsTypes","ApertureEventsTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{message:""}}function c(){return{direction:b("ApertureEventsTypes").Direction.cast(0),jsCode:0}}function d(){return{}}function e(){return{}}function g(){return{}}function aa(){return{direction:b("ApertureEventsTypes").Direction.cast(0),x:"0",y:"0",index:"0"}}function ba(){return{relX:"0",relY:"0"}}function ca(){return{longitude:0,latitude:0}}function da(){return{}}function ea(){return{}}function fa(){return{content:"",source:""}}function ga(){return{x:"0",y:"0",index:"0",wheel:0}}function ha(){return{locale:""}}function ia(){return{sequenceNumber:"0",timestamp:"0",tick:""}}function ja(){return{reason:"",code:b("ApertureEventsTypes").ResourceClosedCode.cast(0)}}function ka(){return{image64:"",hotspotX:0,hotspotY:0}}function la(){return{visible:!1}}function h(){return{state:""}}function i(){return{game:h()}}function ma(){return{data:i()}}function na(){return{event:j()}}function oa(){return{events:[],seq:"0",ts:"0"}}function pa(){return{}}function qa(){return{}}function ra(){return{}}function j(){return{}}function sa(){return{}}function ta(a,c){c.writeStructBegin("ErrorWithMessage");c.writeFieldBegin({fname:"message",ftype:b("ThriftTypes").STRING,fid:1});if(a.message!=null)c.writeString(a.message);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("KeyEvent");c.writeFieldBegin({fname:"direction",ftype:b("ThriftTypes").I32,fid:1});if(a.direction!=null){var d;c.writeI32((d=a.direction)!=null?d:0)}else{d=b("ApertureEventsTypes").Direction.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"jsCode",ftype:b("ThriftTypes").I32,fid:3});if(a.jsCode!=null)c.writeI32(a.jsCode);else{d=0;c.writeI32(d)}c.writeFieldEnd();a.timestamp!=null&&(c.writeFieldBegin({fname:"timestamp",ftype:b("ThriftTypes").I64,fid:4}),c.writeI64(BigInt(a.timestamp)),c.writeFieldEnd());a.code!=null&&(c.writeFieldBegin({fname:"code",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.code),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("MouseButtons");if(a.left!=null){var d;c.writeFieldBegin({fname:"left",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((d=a.left)!=null?d:0);c.writeFieldEnd()}if(a.right!=null){c.writeFieldBegin({fname:"right",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.right)!=null?d:0);c.writeFieldEnd()}if(a.center!=null){c.writeFieldBegin({fname:"center",ftype:b("ThriftTypes").I32,fid:3});c.writeI32((d=a.center)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("MouseWheel"),a.deltaY!=null&&(c.writeFieldBegin({fname:"deltaY",ftype:b("ThriftTypes").DOUBLE,fid:1}),c.writeDouble(a.deltaY),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function n(a,c){c.writeStructBegin("MouseEvent"),a.timestamp!=null&&(c.writeFieldBegin({fname:"timestamp",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(BigInt(a.timestamp)),c.writeFieldEnd()),a.screenPosX!=null&&(c.writeFieldBegin({fname:"screenPosX",ftype:b("ThriftTypes").DOUBLE,fid:2}),c.writeDouble(a.screenPosX),c.writeFieldEnd()),a.screenPosY!=null&&(c.writeFieldBegin({fname:"screenPosY",ftype:b("ThriftTypes").DOUBLE,fid:3}),c.writeDouble(a.screenPosY),c.writeFieldEnd()),a.moveX!=null&&(c.writeFieldBegin({fname:"moveX",ftype:b("ThriftTypes").DOUBLE,fid:4}),c.writeDouble(a.moveX),c.writeFieldEnd()),a.moveY!=null&&(c.writeFieldBegin({fname:"moveY",ftype:b("ThriftTypes").DOUBLE,fid:5}),c.writeDouble(a.moveY),c.writeFieldEnd()),a.buttons!=null&&(c.writeFieldBegin({fname:"buttons",ftype:b("ThriftTypes").STRUCT,fid:6}),l(a.buttons,c),c.writeFieldEnd()),a.wheel!=null&&(c.writeFieldBegin({fname:"wheel",ftype:b("ThriftTypes").STRUCT,fid:7}),m(a.wheel,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function o(a,c){c.writeStructBegin("TouchEvent");c.writeFieldBegin({fname:"direction",ftype:b("ThriftTypes").I32,fid:1});if(a.direction!=null){var d;c.writeI32((d=a.direction)!=null?d:0)}else{d=b("ApertureEventsTypes").Direction.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"x",ftype:b("ThriftTypes").I64,fid:2});if(a.x!=null)c.writeI64(BigInt(a.x));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"y",ftype:b("ThriftTypes").I64,fid:3});if(a.y!=null)c.writeI64(BigInt(a.y));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();a.timestamp!=null&&(c.writeFieldBegin({fname:"timestamp",ftype:b("ThriftTypes").I64,fid:4}),c.writeI64(BigInt(a.timestamp)),c.writeFieldEnd());c.writeFieldBegin({fname:"index",ftype:b("ThriftTypes").I64,fid:5});if(a.index!=null)c.writeI64(BigInt(a.index));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function p(a,c){c.writeStructBegin("RelativeMoveEvent");c.writeFieldBegin({fname:"relX",ftype:b("ThriftTypes").I64,fid:1});if(a.relX!=null)c.writeI64(BigInt(a.relX));else{var d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"relY",ftype:b("ThriftTypes").I64,fid:2});if(a.relY!=null)c.writeI64(BigInt(a.relY));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();a.timestamp!=null&&(c.writeFieldBegin({fname:"timestamp",ftype:b("ThriftTypes").I64,fid:3}),c.writeI64(BigInt(a.timestamp)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function q(a,c){c.writeStructBegin("LocationPosition");c.writeFieldBegin({fname:"longitude",ftype:b("ThriftTypes").DOUBLE,fid:1});if(a.longitude!=null)c.writeDouble(a.longitude);else{var d=0;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"latitude",ftype:b("ThriftTypes").DOUBLE,fid:2});if(a.latitude!=null)c.writeDouble(a.latitude);else{d=0;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function r(a,c){c.writeStructBegin("GamepadKeys");if(a.A!=null){var d;c.writeFieldBegin({fname:"A",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((d=a.A)!=null?d:0);c.writeFieldEnd()}if(a.B!=null){c.writeFieldBegin({fname:"B",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.B)!=null?d:0);c.writeFieldEnd()}if(a.X!=null){c.writeFieldBegin({fname:"X",ftype:b("ThriftTypes").I32,fid:3});c.writeI32((d=a.X)!=null?d:0);c.writeFieldEnd()}if(a.Y!=null){c.writeFieldBegin({fname:"Y",ftype:b("ThriftTypes").I32,fid:4});c.writeI32((d=a.Y)!=null?d:0);c.writeFieldEnd()}if(a.Up!=null){c.writeFieldBegin({fname:"Up",ftype:b("ThriftTypes").I32,fid:5});c.writeI32((d=a.Up)!=null?d:0);c.writeFieldEnd()}if(a.Down!=null){c.writeFieldBegin({fname:"Down",ftype:b("ThriftTypes").I32,fid:6});c.writeI32((d=a.Down)!=null?d:0);c.writeFieldEnd()}if(a.Right!=null){c.writeFieldBegin({fname:"Right",ftype:b("ThriftTypes").I32,fid:7});c.writeI32((d=a.Right)!=null?d:0);c.writeFieldEnd()}if(a.Left!=null){c.writeFieldBegin({fname:"Left",ftype:b("ThriftTypes").I32,fid:8});c.writeI32((d=a.Left)!=null?d:0);c.writeFieldEnd()}if(a.L1!=null){c.writeFieldBegin({fname:"L1",ftype:b("ThriftTypes").I32,fid:9});c.writeI32((d=a.L1)!=null?d:0);c.writeFieldEnd()}if(a.R1!=null){c.writeFieldBegin({fname:"R1",ftype:b("ThriftTypes").I32,fid:10});c.writeI32((d=a.R1)!=null?d:0);c.writeFieldEnd()}if(a.R3!=null){c.writeFieldBegin({fname:"R3",ftype:b("ThriftTypes").I32,fid:11});c.writeI32((d=a.R3)!=null?d:0);c.writeFieldEnd()}if(a.L3!=null){c.writeFieldBegin({fname:"L3",ftype:b("ThriftTypes").I32,fid:12});c.writeI32((d=a.L3)!=null?d:0);c.writeFieldEnd()}if(a.Select!=null){c.writeFieldBegin({fname:"Select",ftype:b("ThriftTypes").I32,fid:13});c.writeI32((d=a.Select)!=null?d:0);c.writeFieldEnd()}if(a.Start!=null){c.writeFieldBegin({fname:"Start",ftype:b("ThriftTypes").I32,fid:14});c.writeI32((d=a.Start)!=null?d:0);c.writeFieldEnd()}a.L2!=null&&(c.writeFieldBegin({fname:"L2",ftype:b("ThriftTypes").DOUBLE,fid:15}),c.writeDouble(a.L2),c.writeFieldEnd());a.R2!=null&&(c.writeFieldBegin({fname:"R2",ftype:b("ThriftTypes").DOUBLE,fid:16}),c.writeDouble(a.R2),c.writeFieldEnd());a.ThumbLX!=null&&(c.writeFieldBegin({fname:"ThumbLX",ftype:b("ThriftTypes").DOUBLE,fid:17}),c.writeDouble(a.ThumbLX),c.writeFieldEnd());a.ThumbLY!=null&&(c.writeFieldBegin({fname:"ThumbLY",ftype:b("ThriftTypes").DOUBLE,fid:18}),c.writeDouble(a.ThumbLY),c.writeFieldEnd());a.ThumbRX!=null&&(c.writeFieldBegin({fname:"ThumbRX",ftype:b("ThriftTypes").DOUBLE,fid:19}),c.writeDouble(a.ThumbRX),c.writeFieldEnd());a.ThumbRY!=null&&(c.writeFieldBegin({fname:"ThumbRY",ftype:b("ThriftTypes").DOUBLE,fid:20}),c.writeDouble(a.ThumbRY),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function s(a,c){c.writeStructBegin("GamepadEvent");if(a.direction!=null){var d;c.writeFieldBegin({fname:"direction",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((d=a.direction)!=null?d:0);c.writeFieldEnd()}a.jsCode!=null&&(c.writeFieldBegin({fname:"jsCode",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.jsCode),c.writeFieldEnd());a.timestamp!=null&&(c.writeFieldBegin({fname:"timestamp",ftype:b("ThriftTypes").I64,fid:3}),c.writeI64(BigInt(a.timestamp)),c.writeFieldEnd());a.id!=null&&(c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").I32,fid:4}),c.writeI32(a.id),c.writeFieldEnd());a.keys!=null&&(c.writeFieldBegin({fname:"keys",ftype:b("ThriftTypes").STRUCT,fid:5}),r(a.keys,c),c.writeFieldEnd());a.connected!=null&&(c.writeFieldBegin({fname:"connected",ftype:b("ThriftTypes").BOOL,fid:6}),c.writeBool(a.connected),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function t(a,c){c.writeStructBegin("ImeEvent");c.writeFieldBegin({fname:"content",ftype:b("ThriftTypes").STRING,fid:1});if(a.content!=null)c.writeString(a.content);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"source",ftype:b("ThriftTypes").STRING,fid:2});if(a.source!=null)c.writeString(a.source);else{d="";c.writeString(d)}c.writeFieldEnd();a.timestamp!=null&&(c.writeFieldBegin({fname:"timestamp",ftype:b("ThriftTypes").I64,fid:3}),c.writeI64(BigInt(a.timestamp)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function u(a,c){c.writeStructBegin("WheelEvent");c.writeFieldBegin({fname:"x",ftype:b("ThriftTypes").I64,fid:1});if(a.x!=null)c.writeI64(BigInt(a.x));else{var d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"y",ftype:b("ThriftTypes").I64,fid:2});if(a.y!=null)c.writeI64(BigInt(a.y));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();a.timestamp!=null&&(c.writeFieldBegin({fname:"timestamp",ftype:b("ThriftTypes").I64,fid:3}),c.writeI64(BigInt(a.timestamp)),c.writeFieldEnd());c.writeFieldBegin({fname:"index",ftype:b("ThriftTypes").I64,fid:4});if(a.index!=null)c.writeI64(BigInt(a.index));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"wheel",ftype:b("ThriftTypes").DOUBLE,fid:5});if(a.wheel!=null)c.writeDouble(a.wheel);else{d=0;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function v(a,c){c.writeStructBegin("KeyboardLayoutEvent");c.writeFieldBegin({fname:"locale",ftype:b("ThriftTypes").STRING,fid:1});if(a.locale!=null)c.writeString(a.locale);else{var d="";c.writeString(d)}c.writeFieldEnd();a.timestamp!=null&&(c.writeFieldBegin({fname:"timestamp",ftype:b("ThriftTypes").I64,fid:3}),c.writeI64(BigInt(a.timestamp)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function w(a,c){c.writeStructBegin("TickEvent");c.writeFieldBegin({fname:"sequenceNumber",ftype:b("ThriftTypes").I64,fid:1});if(a.sequenceNumber!=null)c.writeI64(BigInt(a.sequenceNumber));else{var d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"timestamp",ftype:b("ThriftTypes").I64,fid:2});if(a.timestamp!=null)c.writeI64(BigInt(a.timestamp));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"tick",ftype:b("ThriftTypes").STRING,fid:3});if(a.tick!=null)c.writeString(a.tick);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function x(a,c){c.writeStructBegin("ResourceClosedEvent");c.writeFieldBegin({fname:"reason",ftype:b("ThriftTypes").STRING,fid:1});if(a.reason!=null)c.writeString(a.reason);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"code",ftype:b("ThriftTypes").I32,fid:2});if(a.code!=null){c.writeI32((d=a.code)!=null?d:0)}else{a=b("ApertureEventsTypes").ResourceClosedCode.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function y(a,c){c.writeStructBegin("CursorIconPool");c.writeFieldBegin({fname:"image64",ftype:b("ThriftTypes").STRING,fid:1});if(a.image64!=null)c.writeString(a.image64);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"hotspotX",ftype:b("ThriftTypes").I32,fid:2});if(a.hotspotX!=null)c.writeI32(a.hotspotX);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"hotspotY",ftype:b("ThriftTypes").I32,fid:3});if(a.hotspotY!=null)c.writeI32(a.hotspotY);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function z(a,c){c.writeStructBegin("CursorStateEvent");c.writeFieldBegin({fname:"visible",ftype:b("ThriftTypes").BOOL,fid:1});if(a.visible!=null)c.writeBool(a.visible);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();a.icon!=null&&(c.writeFieldBegin({fname:"icon",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.icon),c.writeFieldEnd());a.iconPool!=null&&(c.writeFieldBegin({fname:"iconPool",ftype:b("ThriftTypes").STRUCT,fid:3}),y(a.iconPool,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function A(a,c){c.writeStructBegin("InGameState");c.writeFieldBegin({fname:"state",ftype:b("ThriftTypes").STRING,fid:1});if(a.state!=null)c.writeString(a.state);else{var d="";c.writeString(d)}c.writeFieldEnd();a.cursorState!=null&&(c.writeFieldBegin({fname:"cursorState",ftype:b("ThriftTypes").STRUCT,fid:2}),z(a.cursorState,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function B(a,c){c.writeStructBegin("InGameStateData");c.writeFieldBegin({fname:"game",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.game!=null)A(a.game,c);else{a=h();A(a,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function C(a,c){c.writeStructBegin("InGameStateEvent");c.writeFieldBegin({fname:"data",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.data!=null)B(a.data,c);else{a=i();B(a,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function D(a,c){c.writeStructBegin("InputEventItem");c.writeFieldBegin({fname:"event",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.event!=null)I(a.event,c);else{var d=j();I(d,c)}c.writeFieldEnd();a.tsDelta!=null&&(c.writeFieldBegin({fname:"tsDelta",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.tsDelta),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function E(a,c){c.writeStructBegin("InputEventsContainer");c.writeFieldBegin({fname:"events",ftype:b("ThriftTypes").LIST,fid:1});if(a.events!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.events.length});for(var d=a.events,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;D(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];D(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"seq",ftype:b("ThriftTypes").I64,fid:2});if(a.seq!=null)c.writeI64(BigInt(a.seq));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"ts",ftype:b("ThriftTypes").I64,fid:3});if(a.ts!=null)c.writeI64(BigInt(a.ts));else{e="0";c.writeI64(BigInt(e))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function F(a,c){c.writeStructBegin("PasteEvent");if(a.stringPayload!=null){c.writeFieldBegin({fname:"stringPayload",ftype:b("ThriftTypes").STRING,fid:1});c.writeString(a.stringPayload);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function G(a,c){c.writeStructBegin("RotationEvent");if(a.orientation!=null){c.writeFieldBegin({fname:"orientation",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((a=a.orientation)!=null?a:0);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function H(a,c){c.writeStructBegin("LocationEvent");if(a.position!=null){c.writeFieldBegin({fname:"position",ftype:b("ThriftTypes").STRUCT,fid:1});q(a.position,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function I(a,c){c.writeStructBegin("InputEvent");if(a.key!=null){c.writeFieldBegin({fname:"key",ftype:b("ThriftTypes").STRUCT,fid:1});k(a.key,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.touch!=null){c.writeFieldBegin({fname:"touch",ftype:b("ThriftTypes").STRUCT,fid:2});o(a.touch,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.paste!=null){c.writeFieldBegin({fname:"paste",ftype:b("ThriftTypes").STRUCT,fid:3});F(a.paste,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.rotation!=null){c.writeFieldBegin({fname:"rotation",ftype:b("ThriftTypes").STRUCT,fid:4});G(a.rotation,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.location!=null){c.writeFieldBegin({fname:"location",ftype:b("ThriftTypes").STRUCT,fid:5});H(a.location,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.gamepad!=null){c.writeFieldBegin({fname:"gamepad",ftype:b("ThriftTypes").STRUCT,fid:6});s(a.gamepad,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.text!=null){c.writeFieldBegin({fname:"text",ftype:b("ThriftTypes").STRUCT,fid:7});t(a.text,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.wheel!=null){c.writeFieldBegin({fname:"wheel",ftype:b("ThriftTypes").STRUCT,fid:8});u(a.wheel,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.mouse!=null){c.writeFieldBegin({fname:"mouse",ftype:b("ThriftTypes").STRUCT,fid:9});n(a.mouse,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.keyboardLayout!=null){c.writeFieldBegin({fname:"keyboardLayout",ftype:b("ThriftTypes").STRUCT,fid:10});v(a.keyboardLayout,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.relativeMove!=null){c.writeFieldBegin({fname:"relativeMove",ftype:b("ThriftTypes").STRUCT,fid:11});p(a.relativeMove,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function ua(a,c){c.writeStructBegin("EventUnion");if(a.input!=null){c.writeFieldBegin({fname:"input",ftype:b("ThriftTypes").STRUCT,fid:1});I(a.input,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.tick!=null){c.writeFieldBegin({fname:"tick",ftype:b("ThriftTypes").STRUCT,fid:2});w(a.tick,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.resourceClosed!=null){c.writeFieldBegin({fname:"resourceClosed",ftype:b("ThriftTypes").STRUCT,fid:3});x(a.resourceClosed,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.inGameState!=null){c.writeFieldBegin({fname:"inGameState",ftype:b("ThriftTypes").STRUCT,fid:4});C(a.inGameState,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.container!=null){c.writeFieldBegin({fname:"container",ftype:b("ThriftTypes").STRUCT,fid:5});E(a.container,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function va(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.message=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.message===void 0&&(c.message="");return c}function J(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.direction=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.jsCode=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").I64?c.timestamp=a.readI64().toString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.code=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.direction===void 0&&(c.direction=b("ApertureEventsTypes").Direction.cast(0));c.jsCode===void 0&&(c.jsCode=0);return c}function K(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.left=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.right=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.center=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function L(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").DOUBLE?c.deltaY=a.readDouble():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function M(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.timestamp=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").DOUBLE?c.screenPosX=a.readDouble():a.skip(e);break;case 3:e===b("ThriftTypes").DOUBLE?c.screenPosY=a.readDouble():a.skip(e);break;case 4:e===b("ThriftTypes").DOUBLE?c.moveX=a.readDouble():a.skip(e);break;case 5:e===b("ThriftTypes").DOUBLE?c.moveY=a.readDouble():a.skip(e);break;case 6:e===b("ThriftTypes").STRUCT?c.buttons=K(a):a.skip(e);break;case 7:e===b("ThriftTypes").STRUCT?c.wheel=L(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function N(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.direction=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.x=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.y=a.readI64().toString():a.skip(e);break;case 4:e===b("ThriftTypes").I64?c.timestamp=a.readI64().toString():a.skip(e);break;case 5:e===b("ThriftTypes").I64?c.index=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.direction===void 0&&(c.direction=b("ApertureEventsTypes").Direction.cast(0));c.x===void 0&&(c.x="0");c.y===void 0&&(c.y="0");c.index===void 0&&(c.index="0");return c}function O(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.relX=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.relY=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.timestamp=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.relX===void 0&&(c.relX="0");c.relY===void 0&&(c.relY="0");return c}function P(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").DOUBLE?c.longitude=a.readDouble():a.skip(e);break;case 2:e===b("ThriftTypes").DOUBLE?c.latitude=a.readDouble():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.longitude===void 0&&(c.longitude=0);c.latitude===void 0&&(c.latitude=0);return c}function Q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.A=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.B=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.X=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.Y=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.Up=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").I32?c.Down=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 7:e===b("ThriftTypes").I32?c.Right=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 8:e===b("ThriftTypes").I32?c.Left=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 9:e===b("ThriftTypes").I32?c.L1=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 10:e===b("ThriftTypes").I32?c.R1=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 11:e===b("ThriftTypes").I32?c.R3=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 12:e===b("ThriftTypes").I32?c.L3=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 13:e===b("ThriftTypes").I32?c.Select=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 14:e===b("ThriftTypes").I32?c.Start=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 15:e===b("ThriftTypes").DOUBLE?c.L2=a.readDouble():a.skip(e);break;case 16:e===b("ThriftTypes").DOUBLE?c.R2=a.readDouble():a.skip(e);break;case 17:e===b("ThriftTypes").DOUBLE?c.ThumbLX=a.readDouble():a.skip(e);break;case 18:e===b("ThriftTypes").DOUBLE?c.ThumbLY=a.readDouble():a.skip(e);break;case 19:e===b("ThriftTypes").DOUBLE?c.ThumbRX=a.readDouble():a.skip(e);break;case 20:e===b("ThriftTypes").DOUBLE?c.ThumbRY=a.readDouble():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function R(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.direction=b("ApertureEventsTypes").Direction.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.jsCode=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.timestamp=a.readI64().toString():a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.id=a.readI32():a.skip(e);break;case 5:e===b("ThriftTypes").STRUCT?c.keys=Q(a):a.skip(e);break;case 6:e===b("ThriftTypes").BOOL?c.connected=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function S(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.content=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.source=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.timestamp=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content===void 0&&(c.content="");c.source===void 0&&(c.source="");return c}function T(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.x=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.y=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.timestamp=a.readI64().toString():a.skip(e);break;case 4:e===b("ThriftTypes").I64?c.index=a.readI64().toString():a.skip(e);break;case 5:e===b("ThriftTypes").DOUBLE?c.wheel=a.readDouble():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.x===void 0&&(c.x="0");c.y===void 0&&(c.y="0");c.index===void 0&&(c.index="0");c.wheel===void 0&&(c.wheel=0);return c}function U(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.locale=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.timestamp=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.locale===void 0&&(c.locale="");return c}function V(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.sequenceNumber=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.timestamp=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.tick=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sequenceNumber===void 0&&(c.sequenceNumber="0");c.timestamp===void 0&&(c.timestamp="0");c.tick===void 0&&(c.tick="");return c}function W(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.reason=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.code=b("ApertureEventsTypes").ResourceClosedCode.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.reason===void 0&&(c.reason="");c.code===void 0&&(c.code=b("ApertureEventsTypes").ResourceClosedCode.cast(0));return c}function X(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.image64=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.hotspotX=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.hotspotY=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.image64===void 0&&(c.image64="");c.hotspotX===void 0&&(c.hotspotX=0);c.hotspotY===void 0&&(c.hotspotY=0);return c}function Y(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.visible=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.icon=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.iconPool=X(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.visible===void 0&&(c.visible=!1);return c}function Z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.state=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.cursorState=Y(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.state===void 0&&(c.state="");return c}function wa(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.game=Z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.game===void 0&&(c.game=h());return c}function xa(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.data=wa(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.data===void 0&&(c.data=i());return c}function ya(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.event=$(a):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.tsDelta=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.event===void 0&&(c.event=j());return c}function za(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.events=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=ya(a);c.events.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.seq=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.ts=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.events===void 0&&(c.events=[]);c.seq===void 0&&(c.seq="0");c.ts===void 0&&(c.ts="0");return c}function Aa(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").STRING)if(c==null)d.stringPayload=a.readString(),c="stringPayload";else throw new Error("more than one field have been deserialized in union type: PasteEvent; current field: stringPayload, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}function Ba(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").I32)if(c==null)d.orientation=b("ApertureDimensionsTypes").Orientation.cast(a.readI32()),c="orientation";else throw new Error("more than one field have been deserialized in union type: RotationEvent; current field: orientation, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}function Ca(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").STRUCT)if(c==null)d.position=P(a),c="position";else throw new Error("more than one field have been deserialized in union type: LocationEvent; current field: position, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}function $(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").STRUCT)if(c==null)d.key=J(a),c="key";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: key, previous deserialized field: "+c);else a.skip(f);break;case 2:if(f===b("ThriftTypes").STRUCT)if(c==null)d.touch=N(a),c="touch";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: touch, previous deserialized field: "+c);else a.skip(f);break;case 3:if(f===b("ThriftTypes").STRUCT)if(c==null)d.paste=Aa(a),c="paste";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: paste, previous deserialized field: "+c);else a.skip(f);break;case 4:if(f===b("ThriftTypes").STRUCT)if(c==null)d.rotation=Ba(a),c="rotation";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: rotation, previous deserialized field: "+c);else a.skip(f);break;case 5:if(f===b("ThriftTypes").STRUCT)if(c==null)d.location=Ca(a),c="location";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: location, previous deserialized field: "+c);else a.skip(f);break;case 6:if(f===b("ThriftTypes").STRUCT)if(c==null)d.gamepad=R(a),c="gamepad";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: gamepad, previous deserialized field: "+c);else a.skip(f);break;case 7:if(f===b("ThriftTypes").STRUCT)if(c==null)d.text=S(a),c="text";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: text, previous deserialized field: "+c);else a.skip(f);break;case 8:if(f===b("ThriftTypes").STRUCT)if(c==null)d.wheel=T(a),c="wheel";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: wheel, previous deserialized field: "+c);else a.skip(f);break;case 9:if(f===b("ThriftTypes").STRUCT)if(c==null)d.mouse=M(a),c="mouse";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: mouse, previous deserialized field: "+c);else a.skip(f);break;case 10:if(f===b("ThriftTypes").STRUCT)if(c==null)d.keyboardLayout=U(a),c="keyboardLayout";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: keyboardLayout, previous deserialized field: "+c);else a.skip(f);break;case 11:if(f===b("ThriftTypes").STRUCT)if(c==null)d.relativeMove=O(a),c="relativeMove";else throw new Error("more than one field have been deserialized in union type: InputEvent; current field: relativeMove, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}function Da(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").STRUCT)if(c==null)d.input=$(a),c="input";else throw new Error("more than one field have been deserialized in union type: EventUnion; current field: input, previous deserialized field: "+c);else a.skip(f);break;case 2:if(f===b("ThriftTypes").STRUCT)if(c==null)d.tick=V(a),c="tick";else throw new Error("more than one field have been deserialized in union type: EventUnion; current field: tick, previous deserialized field: "+c);else a.skip(f);break;case 3:if(f===b("ThriftTypes").STRUCT)if(c==null)d.resourceClosed=W(a),c="resourceClosed";else throw new Error("more than one field have been deserialized in union type: EventUnion; current field: resourceClosed, previous deserialized field: "+c);else a.skip(f);break;case 4:if(f===b("ThriftTypes").STRUCT)if(c==null)d.inGameState=xa(a),c="inGameState";else throw new Error("more than one field have been deserialized in union type: EventUnion; current field: inGameState, previous deserialized field: "+c);else a.skip(f);break;case 5:if(f===b("ThriftTypes").STRUCT)if(c==null)d.container=za(a),c="container";else throw new Error("more than one field have been deserialized in union type: EventUnion; current field: container, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}f.ErrorWithMessage$DefaultConstructor=a;f.KeyEvent$DefaultConstructor=c;f.MouseButtons$DefaultConstructor=d;f.MouseWheel$DefaultConstructor=e;f.MouseEvent$DefaultConstructor=g;f.TouchEvent$DefaultConstructor=aa;f.RelativeMoveEvent$DefaultConstructor=ba;f.LocationPosition$DefaultConstructor=ca;f.GamepadKeys$DefaultConstructor=da;f.GamepadEvent$DefaultConstructor=ea;f.ImeEvent$DefaultConstructor=fa;f.WheelEvent$DefaultConstructor=ga;f.KeyboardLayoutEvent$DefaultConstructor=ha;f.TickEvent$DefaultConstructor=ia;f.ResourceClosedEvent$DefaultConstructor=ja;f.CursorIconPool$DefaultConstructor=ka;f.CursorStateEvent$DefaultConstructor=la;f.InGameState$DefaultConstructor=h;f.InGameStateData$DefaultConstructor=i;f.InGameStateEvent$DefaultConstructor=ma;f.InputEventItem$DefaultConstructor=na;f.InputEventsContainer$DefaultConstructor=oa;f.PasteEvent$DefaultConstructor=pa;f.RotationEvent$DefaultConstructor=qa;f.LocationEvent$DefaultConstructor=ra;f.InputEvent$DefaultConstructor=j;f.EventUnion$DefaultConstructor=sa;f.serializeErrorWithMessage=ta;f.serializeKeyEvent=k;f.serializeMouseButtons=l;f.serializeMouseWheel=m;f.serializeMouseEvent=n;f.serializeTouchEvent=o;f.serializeRelativeMoveEvent=p;f.serializeLocationPosition=q;f.serializeGamepadKeys=r;f.serializeGamepadEvent=s;f.serializeImeEvent=t;f.serializeWheelEvent=u;f.serializeKeyboardLayoutEvent=v;f.serializeTickEvent=w;f.serializeResourceClosedEvent=x;f.serializeCursorIconPool=y;f.serializeCursorStateEvent=z;f.serializeInGameState=A;f.serializeInGameStateData=B;f.serializeInGameStateEvent=C;f.serializeInputEventItem=D;f.serializeInputEventsContainer=E;f.serializePasteEvent=F;f.serializeRotationEvent=G;f.serializeLocationEvent=H;f.serializeInputEvent=I;f.serializeEventUnion=ua;f.deserializeErrorWithMessage=va;f.deserializeKeyEvent=J;f.deserializeMouseButtons=K;f.deserializeMouseWheel=L;f.deserializeMouseEvent=M;f.deserializeTouchEvent=N;f.deserializeRelativeMoveEvent=O;f.deserializeLocationPosition=P;f.deserializeGamepadKeys=Q;f.deserializeGamepadEvent=R;f.deserializeImeEvent=S;f.deserializeWheelEvent=T;f.deserializeKeyboardLayoutEvent=U;f.deserializeTickEvent=V;f.deserializeResourceClosedEvent=W;f.deserializeCursorIconPool=X;f.deserializeCursorStateEvent=Y;f.deserializeInGameState=Z;f.deserializeInGameStateData=wa;f.deserializeInGameStateEvent=xa;f.deserializeInputEventItem=ya;f.deserializeInputEventsContainer=za;f.deserializePasteEvent=Aa;f.deserializeRotationEvent=Ba;f.deserializeLocationEvent=Ca;f.deserializeInputEvent=$;f.deserializeEventUnion=Da}),66);
__d("ApertureEventUtils",["ApertureEventsSerializers","CompactSerializer","EventTimeUtils","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qex")._("724"),i=c("qex")._("725"),j=c("qex")._("726"),k=c("qex")._("727"),l=function(a){return Math.round(a).toString()},m=function(){function a(a,b,c,d,e){this.$1=0,this.$2=!1,this.$3=1e3,this.$4=15,this.$5=0,this.$6=[],this.$7=0,this.$8=0,this.$9=0,this.$11=0,this.$1=a,this.$2=b,this.$3=c,this.$4=d,e==null?this.$12=function(a){}:this.$12=e}var b=a.prototype;b.$13=function(a){return a!=null?parseInt(a,10):d("EventTimeUtils").tryGetTimestampInMicroSecond()};b.$14=function(){var a=this.$5;this.$5+=1;return a};b.$15=function(){var a=this.$9;while(this.$6.length>0){var b=this.$6[this.$6.length-1];if(a<=this.$8||this.$6.length>this.$1)this.$6.pop();else{this.$9=a;break}a+=b.tsDelta==null?0:b.tsDelta}};b.$16=function(a,b){this.$15();this.$6.length>0&&(this.$6[0].tsDelta=a-this.$7);this.$6.unshift(b);this.$7=a;this.$6.length==1&&(this.$9=a);return this.$6};b.$17=function(a,b){var c=this.$16(a,b),d=this.$14();return{eventWithoutHistory:{container:{events:[b],seq:l(d),ts:l(a)}},eventWithHistory:{container:{events:c,seq:l(d),ts:l(a)}}}};b.getHistory=function(){this.$15();if(this.$6.length==0)return null;var a=this.$5-1,b=this.$7;return{container:{events:this.$6,seq:l(a),ts:l(b)}}};b.$18=function(){var a=this;this.$11=Date.now();this.$2&&this.$10==null&&(this.$10=window.setInterval(function(){var b=Date.now()-a.$11;if(b<a.$3){if(b>a.$4){b=a.getHistory();b!=null&&a.$12(b)}}else window.clearTimeout(a.$10),a.$10=null},this.$4))};b.convertToEventWithHistory=function(a){if(a.input==null)return null;a=a.input;var b;if(a.touch!=null){var c=babelHelpers["extends"]({},a.touch);b=this.$13(c.timestamp);c.timestamp=null;delete c.timestamp;c={event:{touch:c}}}else if(a.key!=null){var e=babelHelpers["extends"]({},a.key);b=this.$13(e.timestamp);e.timestamp=null;delete e.timestamp;c={event:{key:e}}}else if(a.gamepad!=null){e=babelHelpers["extends"]({},a.gamepad);e.timestamp!=null?(b=this.$13(e.timestamp),e.timestamp=null,delete e.timestamp):b=d("EventTimeUtils").tryGetTimestampInMicroSecond();c={event:{gamepad:e}}}else if(a.mouse){e=babelHelpers["extends"]({},a.mouse);b=this.$13(e.timestamp);e.timestamp=null;delete e.timestamp;c={event:{mouse:e}}}else if(a.keyboardLayout){e=babelHelpers["extends"]({},a.keyboardLayout);b=this.$13(e.timestamp);e.timestamp=null;delete e.timestamp;c={event:{keyboardLayout:e}}}else return null;a=this.$17(b,c);this.$18();return a};b.onInputsAcked=function(a){var b=this;a.forEach(function(a){a>b.$8&&(b.$8=a)})};return a}(),n;function a(a){n=new m(h==null?3:h,i==null?!1:i,j==null?1e3:j,k==null?15:k,a);return n}function b(){return n}function e(a){return d("CompactSerializer").serializeNoThrow(a,d("ApertureEventsSerializers").serializeEventUnion,!1)}g.ApertureEventUtils=m;g.createApertureEventUtils=a;g.getCurrentInstanceOfApertureEventUtils=b;g.serializeToCompactThrift=e}),98);
__d("SDKMessageEventQueue",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$3=[],this.$4=10,this.$1=a}var b=a.prototype;b.start=function(){this.$5()};b.enqueForRetry=function(a){this.$3.push(a)};b.$6=function(){if(this.$1.isLifecycleChannelReady()){while(this.$3.length>0){var a=this.$3.shift();this.$1.sendRTCEvent("lifecycle",a)}this.$4--;this.$4===0&&this.$7()}};b.$5=function(){var a=this;this.$2==null&&(this.$6(),this.$2=window.setInterval(function(){a.$6()},1e3))};b.$7=function(){this.$2&&(window.clearInterval(this.$2),this.$2=null)};return a}();f["default"]=a}),66);
__d("ApertureRTCContext",["ApertureEventUtils","ApertureHeartbeat","CloudGamingAllowServerDebug","SDKMessageEventQueue","clearTimeout","gkx","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3;function i(a,b){var c=[];for(var b=b.purposeToLabel,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];if(a.label!=f)continue;c.push(g)}return c.length>0?{purposes:c,label:a.label}:null}function j(a,b){a=b.purposeToLabel.get(a);return a==null?null:b.labelToChannel.get(a)}a=function(){function a(a,b,e,f){var g=this;this.heartbeat=null;this.$1="";this.$9=[];this.$10=null;this.$12=function(a){a=a.stream;g.$2({type:"ADD_MEDIA_STREAM",stream:a})};this.$13=function(a){a=a.stream;g.$2({type:"REMOVE_MEDIA_STREAM",stream:a})};this.$11=function(a){var b=a.streams;if(b.length!==1)return;b=a.streams[0];a=a.track;switch(a.kind){case"audio":g.$2({type:"ADD_AUDIO_TRACK",track:a,stream:b});return;case"video":g.$2({type:"ADD_VIDEO_TRACK",track:a,stream:b});return}};this.$14=function(a){var b=a.channel,c=i(b,g.$3().rtc);if(c==null)return;b.onopen=function(){return g.$16(c,b)};b.onclose=function(){return g.$17(c,b)};b.onmessage=function(a){return g.$18(a)};b.onerror=function(a){return g.$19(a)}};this.$15=function(a){switch(a.target.connectionState){case"connected":g.$2({type:"PEER_CONNECTION_CONNECTED",timestamp:Date.now()});g.$6&&g.$21();break;case"disconnected":if(c("CloudGamingAllowServerDebug")())break;g.$6?g.$22():g.$20("PEER_CONNECTION_DISCONNECTED");break;case"failed":g.$6&&g.$21();g.$20("PEER_CONNECTION_FAILED");g.$2({type:"PEER_CONNECTION_FAILED",timestamp:Date.now()});break;default:break}};this.$2=a;this.$3=b;this.$4=e;this.$5=d("ApertureEventUtils").createApertureEventUtils(function(a){var b=j("input_unreliable",g.$3().rtc);if(b==null)return;a=d("ApertureEventUtils").serializeToCompactThrift(a);a!=null&&b.send(a)});this.$6=f;this.$7=null;this.$8=!1}var b=a.prototype;b.enableSDKMessageRetry=function(){this.$10=new(c("SDKMessageEventQueue"))(this)};b.setPeerConnection=function(a){this.clear(),a.ontrack!==void 0?a.ontrack=this.$11:(a.onaddstream=this.$12,a.onremovestream=this.$13),a.ondatachannel=this.$14,a.onconnectionstatechange=this.$15,a.createDataChannel("noop")};b.clear=function(){this.heartbeat&&(this.heartbeat.clear(),this.heartbeat=null);var a=this.$3().rtc,b=a.connection;a=a.labelToChannel;b!=null&&b.close();for(var b=a.values(),a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(a){if(c>=b.length)break;d=b[c++]}else{c=b.next();if(c.done)break;d=c.value}d=d;d.close()}};b.sendRTCEvent=function(a,b){var c=j(a,this.$3().rtc);if(c==null){if(this.$10!=null&&a==="lifecycle"&&Object.prototype.hasOwnProperty.call(b,"sdkMessage")){var e;(e=this.$10)==null?void 0:e.enqueForRetry(b);return}this.$2({type:"UNSENDABLE_RTC",event:{purpose:a,event:b,error:"null_channel"}});return}e=j("input_unreliable",this.$3().rtc);var f=this.$3().rtc.enableInputCompactFormat;if(a!=="input"||e==null&&!f){var g=JSON.stringify(b)+"\n";if(this.$8===!1&&g.includes("DataToGame")){this.$9.push(g);return}c.readyState==="open"?c.send(g):this.$2({type:"UNSENDABLE_RTC",event:{purpose:a,event:b,error:"not_open"}});return}if(e==null&&f){g=d("ApertureEventUtils").serializeToCompactThrift(b);g!=null&&c.send(g);return}a=this.$5.convertToEventWithHistory(b);if(a==null)return;if(f){g=d("ApertureEventUtils").serializeToCompactThrift(a.eventWithoutHistory);g!=null&&c.send(g)}else{b=JSON.stringify(a.eventWithoutHistory);c.send(b)}f=d("ApertureEventUtils").serializeToCompactThrift(a.eventWithHistory);f!=null&&e!=null&&e.send(f)};b.isLifecycleChannelReady=function(){var a=j("lifecycle",this.$3().rtc);return a!=null&&a.readyState==="open"};b.setSDKInitialized=function(){this.$8=!0;var a=j("lifecycle",this.$3().rtc);while(this.$9.length>0){var b=this.$9.shift();a!=null&&a.readyState==="open"?a.send(b):this.$2({type:"UNSENDABLE_RTC",event:{purpose:"lifecycle",event:JSON.parse(b),error:a==null?"null_channel_in_queue":"not_open_in_queue"}})}};a.parseMessages=function(a,b){a=a.data;if(typeof a!=="string")return[[],b];a=b+a;b=[];a=a.split("\n");var c=a.shift();while(c!==void 0){if(c.length===0)return[b,a.join("\n")];try{var d=JSON.parse(c);b.push(d)}catch(d){if(a.length===0)return[b,[c].concat(a).join("\n")]}c=a.shift()}return[b,a.join("\n")]};b.$16=function(a,b){var d=a.label;a=a.purposes;for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;this.$2({type:"DATA_CHANNEL_OPENED",purpose:h,label:d,channel:b,timestamp:Date.now()})}if(a.includes("lifecycle")){this.heartbeat=new(c("ApertureHeartbeat"))(this.$2,this.$3);this.heartbeat.startDispatchingHeartbeats();(h=this.$10)==null?void 0:h.start()}};b.$17=function(a,b){var c=a.label;a=a.purposes;for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;this.$2({type:"DATA_CHANNEL_CLOSED",purpose:f,label:c,channel:b})}};b.$18=function(b){b=a.parseMessages(b,this.$1);this.$1=b[1];for(var b=b[0],c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e=this.$4(JSON.stringify(e));this.$2(e)}};b.$19=function(a){a=a.error;this.$2({type:"DATA_CHANNEL_ERROR",message:a.name+": "+a.message,detail:a.errorDetail});(a.errorDetail==="sctp-failure"||a.message==="Transport channel closed")&&c("gkx")("7664")&&this.$20("DATA_CHANNEL_ERROR")};b.$21=function(){this.$7!=null&&(this.$2({type:"STOP_DELAYED_CONNECTION_ERROR",timestamp:Date.now()}),c("clearTimeout")(this.$7)),this.$7=null};b.$22=function(){var a=this;this.$2({type:"START_DELAYED_CONNECTION_ERROR",timestamp:Date.now()});this.$7!=null&&c("clearTimeout")(this.$7);this.$7=c("setTimeout")(function(){a.$20("PEER_CONNECTION_DISCONNECTED")},h)};b.$20=function(a){this.$2({type:"CONNECTION_ERROR",code:"PEER_CONNECTION_CLOSED",detail:a})};return a}();g["default"]=a}),98);
__d("ApertureConstants",[],(function(a,b,c,d,e,f){"use strict";a="ApertureVideoComponent";f.videoComponentID=a}),66);
__d("AFXCommunityStandardsCometScreen.react",["AFXCometBaseScreen.react","AFXCommunityStandardsCometScreen_data.graphql","CometInlineEntityRenderer","CometLineBreakTransform","CometLinkedEntityRenderer","CometRelay","CometTextWithEntitiesRelay.react","PreviousCIXScreenContext","TetraText.react","react","useAFXCommunityStandardsScreenNextRequest","useCIXNextScreenMutation","useNullthrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useContext,k=e.useState,l=h!==void 0?h:h=b("AFXCommunityStandardsCometScreen_data.graphql");function a(a){var b=d("CometRelay").useFragment(l,a.data);a=j(c("PreviousCIXScreenContext"));var e=k(!1),f=e[0],g=e[1],h=c("useNullthrowsViolation")(b.afx_flow_screen_props);e=c("useNullthrowsViolation")(b.session_id);var m=c("useCIXNextScreenMutation")(),n=c("useAFXCommunityStandardsScreenNextRequest")(),o=b.serialized_state,p=function(){g(!0),b.afx_flow_framework_type==="IXT"?n({action:"NEXT",screen_props:h,serialized_state:o}):m({afx_community_standards:{action:"NEXT",screen_props:h}})},q=b.afx_flow_framework_type==="IXT"?{afx_community_standards:{action:"DISMISS",screen_props:h,serialized_state:o}}:null,r={"*":[c("CometInlineEntityRenderer"),c("CometLinkedEntityRenderer")]};return i.jsxs(c("AFXCometBaseScreen.react"),{heading:b.community_standards_title,ixtDismissDataRequest:q,onPrimaryButtonClick:p,onSecondaryButtonClick:a,primaryButtonLabel:b.community_standards_next_button,primaryButtonLoggingLabel:"continue",screenType:"afx_community_standards",screen_props:h,secondaryButtonLabel:b.community_standards_back_button,secondaryButtonLoggingLabel:"back",sessionID:e,showFooterBorder:!0,showLoadingState:f,children:[b.community_standards_description_intro.map(function(a,b){return i.jsx("div",{className:"x1yztbdb",children:i.jsx(c("TetraText.react"),{type:"body3",children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:r,textWithEntities:a,transforms:[c("CometLineBreakTransform")]})})},b)}),i.jsx("ul",{children:b.community_standards_description_bullets.map(function(a,b){return i.jsx("li",{className:"x1e56ztr xwib8y2",children:i.jsx(c("TetraText.react"),{type:"body3",children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:r,textWithEntities:a,transforms:[c("CometLineBreakTransform")]})})},b)})}),b.community_standards_description_footer.map(function(a,d){return i.jsx("div",{className:""+(d!==b.community_standards_description_footer.length-1?" x1e56ztr":""+(b.community_standards_description_footer_bullets.length>0?" x1yztbdb":"")),children:i.jsx(c("TetraText.react"),{type:"body3",children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:r,textWithEntities:a,transforms:[c("CometLineBreakTransform")]})})},d)}),i.jsx("ul",{children:b.community_standards_description_footer_bullets.map(function(a,b){return i.jsx("li",{className:"x1e56ztr xwib8y2",children:i.jsx(c("TetraText.react"),{type:"body3",children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:r,textWithEntities:a,transforms:[c("CometLineBreakTransform")]})})},b)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UfixIxtTriggerFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744439");c=b("FalcoLoggerInternal").create("ufix_ixt_trigger",a);e.exports=c}),null);
__d("AFXCometSSIResourcesUtil",["UfixIxtTriggerFalcoEvent","uuid"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("uuid")(),b={core:{entity_id:null,event_source:"ixt_trigger",event_step:"fetching_start",session_id:a},ixt_trigger:{input:{entry_point:"unknown",location:"actor_gateway",trigger_event_type:"ssi_resources_actor",trigger_session_id:a},type:"ssi_resources_actor"}};return c("UfixIxtTriggerFalcoEvent").log(function(){return b})}g.getSSIResourcesLinkLog=a}),98);
__d("AFXFeedbackFollowUpCometScreen.react",["AFXCometBaseScreen.react","AFXCometNodeRenderer.react","AFXCometSSIResourcesUtil","AFXFeedbackFollowUpCometScreen_data.graphql","CometInlineEntityRenderer","CometLineBreakTransform","CometLink.react","CometLinkedEntityRenderer","CometRelay","CometTextWithEntitiesRelay.react","TetraText.react","react","useAFXFeedbackFollowUpScreenNextRequest","useCIXNextScreenMutation","useNullthrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useState,k=h!==void 0?h:h=b("AFXFeedbackFollowUpCometScreen_data.graphql");function a(a){var b=d("CometRelay").useFragment(k,a.data);a=j(!1);var e=a[0],f=a[1],g=c("useNullthrowsViolation")(b.afx_flow_screen_props);a=c("useNullthrowsViolation")(b.session_id);var h=b==null?void 0:b.feedback_follow_up_item_with_token,l=b.serialized_state,m=c("useCIXNextScreenMutation")(),n=c("useAFXFeedbackFollowUpScreenNextRequest")(),o=function(){f(!0),b.afx_flow_framework_type==="IXT"?n({action:"NEXT",screen_props:g,serialized_state:l}):m({afx_feedback_follow_up:{action:"NEXT",screen_props:g}})},p=b.afx_flow_framework_type==="IXT"?{afx_feedback_follow_up:{action:"DISMISS",screen_props:g,serialized_state:l}}:null,q={"*":[c("CometInlineEntityRenderer"),c("CometLinkedEntityRenderer")]};return i.jsxs(c("AFXCometBaseScreen.react"),{heading:b.feedback_follow_up_title,ixtDismissDataRequest:p,onPrimaryButtonClick:o,primaryButtonLabel:b.feedback_follow_up_next_button,primaryButtonLoggingLabel:"continue",screenType:"afx_feedback_follow_up",screen_props:g,sessionID:a,showFooterBorder:!0,showLoadingState:e,children:[b.feedback_follow_up_body.map(function(a,b){return i.jsx("div",{className:"xx6bls6",children:i.jsx(c("TetraText.react"),{type:"body3",children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:q,textWithEntities:a,transforms:[c("CometLineBreakTransform")]})})},b)}),i.jsx("div",{className:"x117nqv4",children:b.feedback_follow_up_subheading!=null?i.jsx(c("TetraText.react"),{type:"headlineEmphasized4",children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:q,textWithEntities:b.feedback_follow_up_subheading,transforms:[c("CometLineBreakTransform")]})}):null}),b.feedback_follow_up_footer_with_link.map(function(a,e){return e!==b.feedback_follow_up_footer_with_link.length-1?i.jsx("div",{className:"x1a8lsjc x1cnzs8",children:i.jsx(c("TetraText.react"),{type:"body3",children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:q,textWithEntities:a,transforms:[c("CometLineBreakTransform")]})})},e):i.jsx("div",{className:"xx6bls6",children:i.jsx(c("CometLink.react"),{href:b.feedback_follow_up_footer_with_link_url,onClick:function(){d("AFXCometSSIResourcesUtil").getSSIResourcesLinkLog()},children:i.jsx(c("TetraText.react"),{color:"blueLink",type:"body3",children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:q,textWithEntities:a,transforms:[c("CometLineBreakTransform")]})})})},e)}),h!=null&&i.jsx("div",{className:"xamitd3 x1lliihq xvue9z",children:i.jsx(c("AFXCometNodeRenderer.react"),{node:h})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AFXFeedbackOptionsRadioItems.react",["AFXFeedbackOptionsRadioItems_data.graphql","CometRelay","CometTextWithEntitiesRelay.react","TetraListCell.react","UfixGatewayLoggingUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("AFXFeedbackOptionsRadioItems_data.graphql");function a(a){var b=d("CometRelay").useFragment(j,a.feedback_option_data),e=b.feedback_option,f=b.feedback_option_description,g=b.feedback_option_title;return e==null||g==null?null:i.jsx(c("TetraListCell.react"),{addOnSecondary:{on:b.feedback_option===a.selected_option,onPress:function(b){return a.onOptionChange(e)},type:"radio"},body:f?i.jsx(c("CometTextWithEntitiesRelay.react"),{textWithEntities:f}):i.jsx("div",{}),contentHorizontalPadding:0,headline:i.jsx(c("CometTextWithEntitiesRelay.react"),{textWithEntities:g}),onPress:function(b){d("UfixGatewayLoggingUtils").logAction(a.sessionID,"afx_feedback_options",""),a.onOptionChange(e)},paddingHorizontal:0},b.feedback_option)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AFXFeedbackOptionsCometScreen.react",["AFXCometBaseScreen.react","AFXFeedbackOptionsCometScreen_data.graphql","AFXFeedbackOptionsRadioItems.react","CometInlineEntityRenderer","CometLineBreakTransform","CometLinkedEntityRenderer","CometRelay","CometTextWithEntitiesRelay.react","PreviousCIXScreenContext","TetraText.react","react","useAFXFeedbackOptionsScreenNextRequest","useCIXNextScreenMutation","useNullthrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useContext,k=e.useState,l=h!==void 0?h:h=b("AFXFeedbackOptionsCometScreen_data.graphql");function a(a){var b=d("CometRelay").useFragment(l,a.data);a=k(!1);var e=a[0],f=a[1];a=k("SKIP");var g=a[0],h=a[1],m=c("useNullthrowsViolation")(b.session_id),n=c("useNullthrowsViolation")(b.afx_flow_screen_props),o=b.serialized_state,p=c("useCIXNextScreenMutation")(),q=c("useAFXFeedbackOptionsScreenNextRequest")();a=j(c("PreviousCIXScreenContext"));var r=function(){f(!0),b.afx_flow_framework_type==="IXT"?q({action:"NEXT",feedback:g,screen_props:n,serialized_state:o}):p({afx_feedback_options:{action:"NEXT",feedback:g,screen_props:n}})},s=b.afx_flow_framework_type==="IXT"?{afx_feedback_options:{action:"DISMISS",screen_props:n,serialized_state:o}}:null,t={"*":[c("CometInlineEntityRenderer"),c("CometLinkedEntityRenderer")]};return i.jsxs(c("AFXCometBaseScreen.react"),{heading:b.feedback_options_title,ixtDismissDataRequest:s,onPrimaryButtonClick:r,onSecondaryButtonClick:a,primaryButtonDisabled:g==="SKIP",primaryButtonLabel:b.feedback_options_next_button,primaryButtonLoggingLabel:"continue",screenType:"afx_feedback_options",screen_props:n,secondaryButtonLabel:b.feedback_options_back_button,secondaryButtonLoggingLabel:"back",sessionID:m,showFooterBorder:!1,showLoadingState:e,children:[i.jsx("div",{className:"x1l90r2v",children:b.feedback_options_body.map(function(a,b){return i.jsx(c("TetraText.react"),{type:"body3",children:i.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:t,textWithEntities:a,transforms:[c("CometLineBreakTransform")]})},b)})}),i.jsx("div",{className:"xkh2ocl",children:b.feedback_options.map(function(a,b){return i.jsx(c("AFXFeedbackOptionsRadioItems.react"),{feedback_option_data:a,onOptionChange:function(a){return h(a)},selected_option:g,sessionID:m},b)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometIEXViolationHistoryList.react",["ix","CometIEXViolationHistoryList_cause.graphql","CometRelay","TetraListCell.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometIEXViolationHistoryList_cause.graphql"),a.cause_metadata);var e={color:"gray",icon:d("fbicon")._(h("729680"),24),shape:"roundedRect",size:48,type:"contained-icon"},f={color:"gray",icon:d("fbicon")._(h("508560"),24),shape:"roundedRect",size:48,type:"contained-icon"};return j.jsx(j.Fragment,{children:a.items.map(function(a){var b=e;a.thumbnail!=null?b={shape:"roundedRect",size:48,source:{uri:a.thumbnail},type:"profile-photo"}:a.icon==="comment"&&(b=f);return j.jsx(c("TetraListCell.react"),{addOnPrimary:b,addOnPrimaryVerticalAlign:"center",headline:a.body,meta:a.time,metaColor:"secondary",metaLocation:"above",paddingHorizontal:0},a.content_id)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AFXIntegrityErrorFLXViolationsHistoryDialogCometScreen.react",["ix","AFXIntegrityErrorFLXViolationsHistoryDialogCometScreen_data.graphql","CixAccountStatusVpvdFalcoEvent","CometComposerDialogLayout.react","CometControlledUserBlockingDialog.react","CometIEXViolationHistoryList.react","CometImage.react","CometRelay","CometTextWithEntitiesRelay.react","TetraButton.react","TetraIcon.react","TetraTextPairing.react","fbicon","react","useCIXNextScreenMutation","useNullthrowsViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useEffect,l=i!==void 0?i:i=b("AFXIntegrityErrorFLXViolationsHistoryDialogCometScreen_data.graphql");function a(a){var e;a=d("CometRelay").useFragment(l,a.data);var f=c("useNullthrowsViolation")(a.afx_flow_screen_props),g=a.title;e=((e=a.primary_cta)==null?void 0:e.text)||"";var i=(a==null?void 0:a.primary_cta_url)||null,m=a.body_text,n=c("useCIXNextScreenMutation")(),o=function(){n({afx_integrity_error_flx_violations_history_dialog:{action:"DISMISS",screen_props:f}})};k(function(){n({afx_integrity_error_flx_violations_history_dialog:{action:"RENDER",screen_props:f}})},[]);b("CixAccountStatusVpvdFalcoEvent").log(function(){return{event:"render",poi:"EP_FLX"}});var p=j.jsx(c("TetraButton.react"),{label:e,onPress:o});i!=null&&(p=j.jsx(c("TetraButton.react"),{label:e,linkProps:{target:"_blank",url:i},onPress:function(){b("CixAccountStatusVpvdFalcoEvent").log(function(){return{event:"click",location:"feature_limit_experience",poi:"EP_FLX"}})}}));return j.jsx(c("CometControlledUserBlockingDialog.react"),{onDismiss:o,size:"content",children:j.jsx(c("CometComposerDialogLayout.react"),{body:j.jsxs("div",{className:"x1iorvi4 x1sxyh0 xjkvuk6 x1sln4lm",children:[j.jsxs("div",{className:"x1y1aw1k x1sxyh0 x18d9i69 x1sln4lm",children:[j.jsx("div",{className:"x3nfvp2 xdj266r x11i5rnm xod5an3 x1mh8g0r",children:j.jsx(c("CometImage.react"),{src:h("489537")})}),j.jsx(c("TetraTextPairing.react"),{body:j.jsx(c("CometTextWithEntitiesRelay.react"),{textWithEntities:m}),headline:j.jsx(c("CometTextWithEntitiesRelay.react"),{textWithEntities:g}),level:3})]}),j.jsx("div",{style:{marginTop:12},children:j.jsx(c("CometIEXViolationHistoryList.react"),{cause_metadata:a})})]}),footer:j.jsx("div",{className:"x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:p}),header:j.jsx("div",{className:"x80vd3b x1q0q8m5 xso031l xdj266r x1h5jrl4 xat24cr xmn8rco xyamay9 x1l90r2v",children:j.jsx(c("TetraIcon.react"),{"aria-label":"Close",color:"primary",icon:d("fbicon")._(h("478233"),20),onPress:o,size:24})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChevronDownFilled24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 24 24",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M18.793 9.209 12 16 5.207 9.209a1 1 0 1 0-1.414 1.415l7.5 7.5a1 1 0 0 0 1.414 0l7.5-7.5a1 1 0 1 0-1.414-1.415z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("ChevronUpFilled24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 24 24",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M18.793 14.791 12 8l-6.793 6.791a1 1 0 1 1-1.414-1.415l7.5-7.5a1 1 0 0 1 1.414 0l7.5 7.5a1 1 0 1 1-1.414 1.415z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("useGamesMobileContainerStyle",["CometRelay","InstantGamesGameState","react","useDebouncedComet","useGamesMobileContainerStyle_game.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useRef,l=e.useState,m=h!==void 0?h:h=b("useGamesMobileContainerStyle_game.graphql");function a(a,b){var e=d("CometRelay").useFragment(m,a),f=e.gameOrientation==="landscape".toUpperCase();a=l(0);var g=a[0],h=a[1];a=l(0);var n=a[0],o=a[1];a=l(0);var p=a[0],q=a[1],r=c("useDebouncedComet")(function(){if(document.documentElement){var a=document.documentElement.clientWidth,b=document.documentElement.clientHeight;n&&p||(f&&b>a?(o(a),q(b-50)):!f&&a>b&&(o(a-50),q(b)));f?h(a<b?90:0):h(b<a?-90:0)}}),s=i(function(){return document.documentElement!=null&&e.gameRotationAllowed===!0},[e.gameRotationAllowed]),t=k(!1);j(function(){if(t.current===!0)return;t.current=!0;s()&&(r(),window.addEventListener("resize",r));return function(){s()&&window.removeEventListener("resize",r)}});a={height:"100%",width:"100%"};if(g!==0&&b===d("InstantGamesGameState").PLAYING&&p&&n){b=String(p)+"px";var u=String(n)+"px";f||(u="calc("+n+"px - env(safe-area-inset-left))");var v=f?"translate(100vw)":"translateX(calc(-"+n/2+"px + env(safe-area-inset-left)/2)) translateY("+p/2+"px)";v=v+"rotate("+g+"deg)";a={height:u,transform:v,transformOrigin:f?"top left":"top",width:b}}return a}g["default"]=a}),98);
__d("CloudGamingPlayerMobileContainer.react",["CloudGamingPlayerMobileContainer_game.graphql","CometRelay","react","useGamesMobileContainerStyle"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("CloudGamingPlayerMobileContainer_game.graphql");function a(a){var b=a.children,e=a.game;a=a.gameState;e=d("CometRelay").useFragment(j,e);e=c("useGamesMobileContainerStyle")(e,a);return i.jsx("div",{className:"x1i10hfl xpdipgo x1winvzj x6umtig x1b1mbwd xaqea5y xav7gou xt0psk2 xqtp20y xdj266r x11i5rnm xat24cr x1mh8g0r xmz0i5r x193iq5w x1us19tq xgqtt45 x1a2a7pz xexx8yu x4uap5 x18d9i69 xkhd6sd x87ps6o xnalus7",style:e,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingClientFbts",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={CAPACITY_ERROR_DESCRIPTION_TEXT:h._("__JHASH__akPpsjts8z8__JHASH__"),CAPACITY_ERROR_TEXT:h._("__JHASH__k0xOLmgMDSM__JHASH__"),CLOSE_TEXT:h._("__JHASH__kFjMdU6FQFu__JHASH__"),CONNECTION_ERROR_DESCRIPTION_TEXT:null,CONNECTION_ERROR_TEXT:h._("__JHASH__O4UverqosiG__JHASH__"),CONNECTION_TIMEOUT_DESCRIPTION_TEXT:null,CONNECTION_TIMEOUT_TEXT:h._("__JHASH__UqcY05yXRJD__JHASH__"),CONNECTION_TIMEOUT_WARNING_TEXT:h._("__JHASH__jambn6lsAXu__JHASH__"),COPY_GAME_LINK_TEXT:h._("__JHASH__NfzdXfHRUZd__JHASH__"),DONT_SHOW_AGAIN_TEXT:h._("__JHASH__S8MK3omZmfG__JHASH__"),GAME_COULD_NOT_BE_LOADED_TEXT:h._("__JHASH__gZ251cBnWos__JHASH__"),GAME_NODE_IN_USE_DESCRIPTION_TEXT:h._("__JHASH__-o18DYA_JR-__JHASH__"),GAME_NODE_IN_USE_TEXT:h._("__JHASH__pH_Ux-qj7H8__JHASH__"),GAME_NODE_TERMINATING_TEXT:h._("__JHASH__dqhC1qPbQfI__JHASH__"),H264_ERROR_DESCRIPTION_TEXT:h._("__JHASH__NoPU8-DQFYg__JHASH__"),H264_ERROR_TEXT:h._("__JHASH__zC1maqHwC1k__JHASH__"),LEARN_MORE_TEXT:h._("__JHASH__jnHH9CMW5Nr__JHASH__"),NETWORK_NOTIFICATION_TEXT:h._("__JHASH__j3knpQe59oG__JHASH__"),NETWORK_QUALITY_TIP_0_TEXT:h._("__JHASH__H-rSDh9lotE__JHASH__"),NETWORK_QUALITY_TIP_1_TEXT:h._("__JHASH__0Fu2ZT-eCZx__JHASH__"),NETWORK_QUALITY_TIP_2_TEXT:h._("__JHASH__B1p-YqdZDr3__JHASH__"),NETWORK_QUALITY_TIP_3_TEXT:h._("__JHASH__jz5VkNaCggp__JHASH__"),NETWORK_QUALITY_TIP_4_TEXT:h._("__JHASH__sSmq7s6pOyo__JHASH__"),NETWORK_QUALITY_TITLE_TEXT:h._("__JHASH__ZQ3bHYK004Z__JHASH__"),PLAY_AGAIN_TEXT:h._("__JHASH__5V2CrqBEy1S__JHASH__"),PLAY_IN_FULL_SCREEN:h._("__JHASH__jaLvtOytgXM__JHASH__"),PLAY_IN_FULL_SCREEN_EXIT:h._("__JHASH__mjUY1CSP4JF__JHASH__"),PLAY_IN_FULL_SCREEN_INSTRUCTIONS:h._("__JHASH__fmBvqgwfqiE__JHASH__"),PLEASE_UPGRADE_ANDROID_WEBVIEW_VS:h._("__JHASH__A0cw40Tux92__JHASH__"),PLEASE_UPGRADE_FACEBOOK_FOR_ANDROID:h._("__JHASH__sV-B9V7bXnO__JHASH__"),PLEASE_UPGRADE_MOBILE_OS_VS:h._("__JHASH__99odIFW9u3O__JHASH__"),REGION_UNAVAILABLE_TEXT:h._("__JHASH__lR0r3ndd4oA__JHASH__"),RETRY_TEXT:h._("__JHASH__LOv0HFIh8Ek__JHASH__"),RETURN_GAMING_TEXT:h._("__JHASH__LJmSrf6MshV__JHASH__"),SAVE_ERROR_TEXT:h._("__JHASH__x6BUVnvAdo3__JHASH__"),TOUCH_SCREEN_TO_OPEN_KEYBOARD_TEXT:h._("__JHASH__J-jIS6QICIi__JHASH__"),TRY_AGAIN_TEXT:h._("__JHASH__3DIUHpq7-AC__JHASH__"),UNABLE_CONNECT_SERVER_TEXT:h._("__JHASH__Yitef8vyF53__JHASH__"),UNSUPPORTED_BROWSER_HEADER:h._("__JHASH__0nnENLkRlRh__JHASH__"),UNSUPPORTED_DEVICE_HEADER:h._("__JHASH__Yw3II2DzCqP__JHASH__"),UNSUPPORTED_GAME_TEXT:h._("__JHASH__mUkdpJ6-US1__JHASH__"),UNSUPPORTED_OS_HEADER:h._("__JHASH__m5drXoHMkmM__JHASH__"),UPDATE_BROWSER_HEADER:h._("__JHASH__yGiz6F32zZc__JHASH__"),UPDATE_FB4A_TEXT:h._("__JHASH__gO4qx9fVg-S__JHASH__"),WARNING_EXIT_TEXT:h._("__JHASH__ZT7vDBoVNVd__JHASH__"),getClipboardDisabledMessage:function(a){return h._("__JHASH__sClZ8ocHNxp__JHASH__")},getClipboardEnabledMessage:function(a){return h._("__JHASH__5_92KKUP2uI__JHASH__")},getRefreshToRestartGameMessage:function(a){return h._("__JHASH__db_so03W__t__JHASH__",[h._param("gameName",a)])},getServerRestartMessage:function(a){if(a>60){var b=Math.round(a/60);return h._("__JHASH__DdP929ZaxWB__JHASH__",[h._plural(b,"number")])}else if(a>0)return h._("__JHASH__ZXTLKhk73vF__JHASH__",[h._plural(a,"number")]);else return h._("__JHASH__iRXft6DwZO2__JHASH__")},getUnsupportedBrowserMessage:function(a){return h._("__JHASH__INFe44gDx1m__JHASH__",[h._param("gameName",a)])},getUnsupportedDeviceMessage:function(a){return h._("__JHASH__f7lqzGWCxoN__JHASH__",[h._param("gameName",a)])},getUnsupportedOSMessage:function(a){return h._("__JHASH__zwBvwmrpKfl__JHASH__",[h._param("gameName",a)])},getUpdateBrowserMessage:function(a){return h._("__JHASH__rXDClzYFUE4__JHASH__",[h._param("gameName",a)])},getUseChromeDesktopMessage:function(a){return h._("__JHASH__EIWxYSCgSO8__JHASH__",[h._param("gameName",a)])},getUseFacebookOnAndroidMessage:function(a){return h._("__JHASH__rDcFRfi2jlF__JHASH__",[h._param("gameName",a)])},getUseMobileSafariMessage:function(a){return h._("__JHASH__RjlGPX0COSL__JHASH__",[h._param("gameName",a)])}};g.CloudGamingClientFbts=a}),98);
__d("CancelInvalidGameLifecycleActionMiddleware",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=[c("CloudGamingActionTypes").GAME_READY,c("CloudGamingActionTypes").PAUSE_GAME,c("CloudGamingActionTypes").RESUME_GAME,c("CloudGamingActionTypes").INACTIVATE_GAME,c("CloudGamingActionTypes").REACTIVATE_GAME,c("CloudGamingActionTypes").FINISH_GAME],i=new Map([["NotReady",[c("CloudGamingActionTypes").GAME_READY]],["Playing",[c("CloudGamingActionTypes").PAUSE_GAME,c("CloudGamingActionTypes").INACTIVATE_GAME]],["Paused",[c("CloudGamingActionTypes").RESUME_GAME,c("CloudGamingActionTypes").INACTIVATE_GAME]],["Inactivated",[c("CloudGamingActionTypes").REACTIVATE_GAME,c("CloudGamingActionTypes").FINISH_GAME]],["Timeout",[]]]);function a(a,b,c){b=a.type;if(!h.includes(b))return a;c=c().gameLifecycle.gameLifecycleState;var d=i.get(c);return d!=null&&d.includes(b)?a:{actionType:b,gameLifecycle:c,type:"NOOP"}}g.runAction=a}),98);
__d("CloudGaming2DBridgeBlinkProcessor",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.NUM_DATA_LOOKBACK=10,this.START_BLINK_RATIO_THRESHOLD=.4,this.CONTINUE_BLINK_RATIO_THRESHOLD=.2,this.startBlinkAverage=-1,this.isBlinking=!1,this.dataBuffer=[]}var b=a.prototype;b.process=function(a){if(this.dataBuffer.length<this.NUM_DATA_LOOKBACK){this.updateBuffer(a);return!1}var b=this.dataBuffer.reduce(function(a,b){return a+b},0)/this.dataBuffer.length;this.isBlinking&&this.startBlinkAverage-a<this.startBlinkAverage*this.CONTINUE_BLINK_RATIO_THRESHOLD?(this.isBlinking=!1,this.startBlinkAverage=-1):!this.isBlinking&&b-a>b*this.START_BLINK_RATIO_THRESHOLD&&(this.isBlinking=!0,this.startBlinkAverage=b);this.updateBuffer(a);return this.isBlinking};b.updateBuffer=function(a){this.dataBuffer.push(a);this.dataBuffer.length>this.NUM_DATA_LOOKBACK&&this.dataBuffer.shift();return this.dataBuffer};return a}();f.BlinkProcessor=a}),66);
__d("CloudGaming2DBridgeFilters",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=0,this.$2=0,this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$11=!1,this.MS_PER_SECOND=1e3,this.$2=a,this.$3=b}var b=a.prototype;b.filter1D=function(b,c){this.$11||this.$12(b,b,b,c);if(this.$10===c)return this.$4;var d=(c-this.$10)/this.MS_PER_SECOND;d=1/d;this.$10=c;c=(b-this.$4)*d;var e=this.$13(d,this.$1);this.$7=a.lowPassFilter(c,this.$7,e);c=this.$2+this.$3*Math.abs(this.$7);e=this.$13(d,c);this.$4=a.lowPassFilter(b,this.$4,e);return this.$4};b.filter2D=function(b,c,d){this.$11||this.$12(b,c,c,d);if(this.$10===d)return[this.$4,this.$5];var e=(d-this.$10)/this.MS_PER_SECOND;e=1/e;this.$10=d;d=(b-this.$4)*e;var f=(c-this.$5)*e,g=this.$13(e,this.$1);this.$7=a.lowPassFilter(d,this.$7,g);this.$8=a.lowPassFilter(f,this.$8,g);d=this.$2+this.$3*Math.sqrt(this.$7*this.$7+this.$8*this.$8);g=this.$13(e,d);this.$4=a.lowPassFilter(b,this.$4,g);this.$5=a.lowPassFilter(c,this.$5,g);return[this.$4,this.$5]};b.filter3D=function(b,c,d,e){this.$11||this.$12(b,c,d,e);if(this.$10===e)return[this.$4,this.$5,this.$6];var f=(e-this.$10)/this.MS_PER_SECOND;f=1/f;this.$10=e;e=(b-this.$4)*f;var g=(c-this.$5)*f,h=(d-this.$6)*f,i=this.$13(f,this.$1);this.$7=a.lowPassFilter(e,this.$7,i);this.$8=a.lowPassFilter(g,this.$8,i);this.$9=a.lowPassFilter(h,this.$9,i);e=this.$2+this.$3*Math.sqrt(this.$7*this.$7+this.$8*this.$8+this.$9*this.$9);i=this.$13(f,e);this.$4=a.lowPassFilter(b,this.$4,i);this.$5=a.lowPassFilter(c,this.$5,i);this.$6=a.lowPassFilter(d,this.$6,i);return[this.$4,this.$5,this.$6]};b.reset=function(){this.$11=!1};b.$12=function(a,b,c,d){this.$11=!0,this.$4=a,this.$5=b,this.$6=c,this.$7=0,this.$8=0,this.$9=0,this.$10=d};b.$13=function(a,b){b=1/(2*Math.PI*b);a=1/a;return 1/(1+b/a)};a.lowPassFilter=function(a,b,c){return c*a+(1-c)*b};return a}();f.OneEuroFilter=a}),66);
__d("CloudGaming2DBridgeGrabProcessor",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({NONE:0,PALM:1,FIST:2,THUMB:3,POINT:4,ANGLE:5});a=function(){function a(){this.lastGesture=g.NONE}var b=a.prototype;b.process=function(a,b){if(a.length<5)return[0,0,0,0,0];b=this.$1(b);a[0]=this.$2(b)?1:0;a[1]=this.$3(b)?1:0;a[2]=this.$4(b)?1:0;a[3]=this.$5(b)?1:0;a[4]=this.$6(b)?1:0;this.lastGesture=b;return a};b.$2=function(a){return this.lastGesture===g.PALM&&(a===g.FIST||a===g.THUMB)};b.$3=function(a){return(this.lastGesture===g.FIST||this.lastGesture===g.THUMB)&&a===g.POINT};b.$4=function(a){return[g.FIST,g.THUMB].includes(this.lastGesture)&&[g.POINT,g.ANGLE].includes(a)};b.$5=function(a){return[g.POINT,g.ANGLE].includes(this.lastGesture)&&a===g.PALM};b.$6=function(a){return[g.POINT,g.ANGLE].includes(this.lastGesture)&&[g.FIST,g.THUMB].includes(a)};b.$1=function(a){if(a[0]&&a[1]&&a[2])return g.FIST;else if(!a[0]&&!a[1]&&!a[2])return g.PALM;else if(!a[0]&&a[1]&&a[2])return g.THUMB;else if(a[0]&&!a[1]&&a[2])return g.POINT;else if(!a[0]&&!a[1]&&a[2])return g.ANGLE;return g.NONE};return a}();f.GrabProcessor=a}),66);
__d("CloudGaming2DBridgeBodyTracking",["$InternalEnum","CloudGaming2DBridgeBlinkProcessor","CloudGaming2DBridgeFilters","CloudGaming2DBridgeGrabProcessor","gl-quat","gl-vec3","mediapipe-holistic"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({Disable:0,Enable:1,Move:2}),i=b("$InternalEnum")({Head:0,LeftHand:1,RightHand:2,Face:3}),j={INDEX_BASE:5,INDEX_LOWER:6,INDEX_TIP:8,INDEX_UPPER:7,LITTLE_BASE:17,LITTLE_LOWER:18,LITTLE_TIP:20,LITTLE_UPPER:19,MIDDLE_BASE:9,MIDDLE_LOWER:10,MIDDLE_TIP:12,MIDDLE_UPPER:11,RING_BASE:13,RING_LOWER:14,RING_TIP:16,RING_UPPER:15,THUMB_BASE:1,THUMB_LOWER:2,THUMB_TIP:4,THUMB_UPPER:3,WRIST:0},k={LEFT_EYE_BOTTOM:374,LEFT_EYE_LEFT:263,LEFT_EYE_RIGHT:362,LEFT_EYE_TOP:386,LIPS_BOTTOM:17,LIPS_TOP:0,MOUTH_BOTTOM:14,MOUTH_CORNER_L:61,MOUTH_CORNER_R:291,MOUTH_LEFT:29,MOUTH_RIGHT:62,MOUTH_TOP:13,RIGHT_EYE_BOTTOM:145,RIGHT_EYE_LEFT:133,RIGHT_EYE_RIGHT:33,RIGHT_EYE_TOP:159},l={BrowLowererL:0,BrowLowererR:1,CheekPuffL:2,CheekPuffR:3,CheekRaiserL:4,CheekRaiserR:5,CheekSuckL:6,CheekSuckR:7,ChinRaiserL:8,ChinRaiserR:9,Count:72,DimplerL:10,DimplerR:11,EyesClosedL:12,EyesClosedR:13,EyesLookDownL:14,EyesLookDownR:15,EyesLookLeftL:16,EyesLookLeftR:17,EyesLookRightL:18,EyesLookRightR:19,EyesLookUpL:20,EyesLookUpR:21,InnerBrowRaiserL:22,InnerBrowRaiserR:23,JawDrop:24,JawSidewaysLeft:25,JawSidewaysRight:26,JawThrust:27,LidTightenerL:28,LidTightenerR:29,LipCornerDepressorL:30,LipCornerDepressorR:31,LipCornerPullerL:32,LipCornerPullerR:33,LipFunnelerLB:34,LipFunnelerLT:35,LipFunnelerRB:36,LipFunnelerRT:37,LipPressorL:38,LipPressorR:39,LipPuckerL:40,LipPuckerR:41,LipsTowardLB:50,LipsTowardLT:51,LipsTowardRB:52,LipsTowardRT:53,LipStretcherL:42,LipStretcherR:43,LipSuckLB:44,LipSuckLT:45,LipSuckRB:46,LipSuckRT:47,LipTightenerL:48,LipTightenerR:49,LowerLipDepressorL:54,LowerLipDepressorR:55,MouthLeft:56,MouthRight:57,NasiolabialFurrowL:58,NasiolabialFurrowR:59,NoseWrinklerL:60,NoseWrinklerR:61,NostrilCompressorL:62,NostrilCompressorR:63,NostrilDilatorL:64,NostrilDilatorR:65,OuterBrowRaiserL:66,OuterBrowRaiserR:67,UpperLidRaiserL:68,UpperLidRaiserR:69,UpperLipRaiserL:70,UpperLipRaiserR:71};a=function(){a.getDistanceBetweenLandmarks=function(a,b){return Math.pow(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)+Math.pow(a.z-b.z,2),.5)};a.getAbsoluteDeltaZ=function(a,b,c){b={xt:b.x,yt:b.y};var d=b.xt;b=b.yt;c={xb:c.x,yb:c.y};var e=c.xb;c=c.yb;a=Math.pow(Math.max(0,Math.pow(a,2)-Math.pow(d-e,2)-Math.pow(b-c,2)),.5);return Math.abs(a)};a.isFingerCurved=function(a,b,c){return Math.max(0,this.getDistanceBetweenLandmarks(a,c))<Math.max(0,this.getDistanceBetweenLandmarks(a,b))};a.estimateHandPose=function(a){var b=j,c=this.isFingerCurved(a[b.WRIST],a[b.THUMB_UPPER],a[b.THUMB_TIP]),d=this.isFingerCurved(a[b.WRIST],a[b.INDEX_BASE],a[b.INDEX_TIP]);a=this.isFingerCurved(a[b.WRIST],a[b.MIDDLE_BASE],a[b.MIDDLE_TIP]);return[c,d,a]};function a(a,b){this.$5=[],this.$6=32,this.$7=50,this.$8=-.2,this.$9=-.2,this.$10=0,this.$11=.2,this.$12=-.2,this.$13=.1,this.$14=-.72,this.$15=.26,this.$16=.26,this.$17=.064,this.$18=-1,this.$19=[0,0,0,1],this.$20=new Float32Array(l.Count),this.$21=new(d("CloudGaming2DBridgeBlinkProcessor").BlinkProcessor)(),this.$22=new(d("CloudGaming2DBridgeBlinkProcessor").BlinkProcessor)(),this.$23=new(d("CloudGaming2DBridgeGrabProcessor").GrabProcessor)(),this.$3=a,this.$4=b,this.clear()}var b=a.prototype;b.clear=function(){this.$5=[],this.$24(),this.$18=-1};b.$24=function(){for(var a=0;a<this.$6;a++)this.$5[a]=new(d("CloudGaming2DBridgeFilters").OneEuroFilter)(3,10)};b.onKeypointsResults=function(b){var c=b.poseLandmarks,e=Date.now();for(var f=0;f<this.$6;f++){var g=c[f];if(!g)continue;g=this.$5[f].filter3D(g.x,g.y,g.z,e);var k=g[0],l=g[1];g=g[2];c[f]={visibility:c[f].visibility,x:k,y:l,z:g}}k=this.$17/a.getDistanceBetweenLandmarks(c[d("mediapipe-holistic").POSE_LANDMARKS.LEFT_EYE],c[d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_EYE]);if(this.$18===-1){this.$18=e;return}if(e-this.$18<this.$7)return;this.$18=e;b.faceLandmarks!=null&&this.$25(b.faceLandmarks);l=this.$26(c[d("mediapipe-holistic").POSE_LANDMARKS.LEFT_EYE],c[d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_EYE],c[d("mediapipe-holistic").POSE_LANDMARKS.NOSE]);g=b.rightHandLandmarks!=null?a.estimateHandPose(b.rightHandLandmarks):[];f=[0,0,0,0,0];this.$23.process(f,g);this.sendRTCEvent({action:h.Move,moves:[{gesture:[],joint:i.Head,position:this.$27(l),rotation:l},{gesture:b.leftHandLandmarks!=null?a.estimateHandPose(b.leftHandLandmarks):[],joint:i.LeftHand,position:[this.$28(c[d("mediapipe-holistic").POSE_LANDMARKS.LEFT_SHOULDER],c[d("mediapipe-holistic").POSE_LANDMARKS.LEFT_WRIST],k,this.$8),this.$29(c[d("mediapipe-holistic").POSE_LANDMARKS.LEFT_SHOULDER],c[d("mediapipe-holistic").POSE_LANDMARKS.LEFT_WRIST],k,this.$9),this.$30(c[d("mediapipe-holistic").POSE_LANDMARKS.LEFT_SHOULDER],c[d("mediapipe-holistic").POSE_LANDMARKS.LEFT_ELBOW],c[d("mediapipe-holistic").POSE_LANDMARKS.LEFT_WRIST],k,this.$10)],rotation:b.leftHandLandmarks?this.$31(b.leftHandLandmarks[j.WRIST],b.leftHandLandmarks[j.INDEX_BASE],b.leftHandLandmarks[j.LITTLE_BASE]):this.$19},{details:f,gesture:g,joint:i.RightHand,position:[this.$28(c[d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_SHOULDER],c[d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_WRIST],k,this.$11),this.$29(c[d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_SHOULDER],c[d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_WRIST],k,this.$12),this.$30(c[d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_SHOULDER],c[d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_ELBOW],c[d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_WRIST],k,this.$13)],rotation:b.rightHandLandmarks?this.$31(b.rightHandLandmarks[j.WRIST],b.rightHandLandmarks[j.INDEX_BASE],b.rightHandLandmarks[j.LITTLE_BASE]):this.$19},{details:Array.from(this.$20),joint:i.Face}]})};b.$28=function(a,b,c,d){return b.visibility!=null&&b.visibility<.2?d:(a.x-b.x)*c+d};b.$29=function(a,b,c,d){return b.visibility!=null&&b.visibility<.2?d-this.$16-this.$15:Math.max(this.$14,(a.y-b.y)*c+d)};b.$30=function(b,c,d,e,f){if(d.visibility!=null&&d.visibility<.2)return f;var g=this.$16/e,h=this.$15/e;g=a.getAbsoluteDeltaZ(g,d,c);g=d.z<=c.z?g:-c.z;d=a.getAbsoluteDeltaZ(h,c,b);d=c.z<=b.z?d:-c.z;return Math.max(0,g+d)*e+f};b.$27=function(a){var b=[0,.24,.15];return c("gl-vec3").subtract(b,c("gl-vec3").transformQuat([0,0,0],b,a),b)};b.$26=function(a,b,d){var e=c("gl-vec3").normalize([0,0,0],[a.x-b.x,a.y-b.y,a.z-b.z]);a={x:(a.x+b.x)/2,y:(a.y+b.y)/2,z:(a.z+b.z)/2};b=c("gl-vec3").normalize([0,0,0],[a.x-d.x,a.y-d.y,0]);a=[1,0,0];d=[0,-1,0];d=c("gl-quat").rotationTo([0,0,0,1],d,b);b=c("gl-quat").rotationTo([0,0,0,1],c("gl-vec3").transformQuat([0,0,0],a,d),e);return c("gl-quat").multiply([0,0,0,1],b,d)};b.$31=function(a,b,d){b=c("gl-vec3").normalize([0,0,0],[b.x-a.x,b.y-a.y,b.z-a.z]);d=c("gl-vec3").normalize([0,0,0],[d.x-a.x,d.y-a.y,d.z-a.z]);a=[0,0,-1];var e=c("gl-vec3").rotateX([0,0,0],a,[0,0,0],Math.PI/4);e=c("gl-quat").rotationTo([0,0,0,1],e,d);d=c("gl-quat").rotationTo([0,0,0,1],c("gl-vec3").transformQuat([0,0,0],a,e),b);return c("gl-quat").multiply([0,0,0,1],d,e)};b.$25=function(b){this.$21.process(a.getBlinkRatio(b,k.LEFT_EYE_TOP,k.LEFT_EYE_BOTTOM,k.LEFT_EYE_LEFT,k.LEFT_EYE_RIGHT))?this.$20[l.EyesClosedL]=1:this.$20[l.EyesClosedL]=0;this.$22.process(a.getBlinkRatio(b,k.RIGHT_EYE_TOP,k.RIGHT_EYE_BOTTOM,k.RIGHT_EYE_LEFT,k.RIGHT_EYE_RIGHT))?this.$20[l.EyesClosedR]=1:this.$20[l.EyesClosedR]=0;var c=a.getBlinkRatio(b,k.MOUTH_TOP,k.MOUTH_BOTTOM,k.MOUTH_LEFT,k.MOUTH_RIGHT);this.$20[l.JawDrop]=Math.min(1,c/.5);this.$20[l.LipCornerPullerL]=a.getSmileRatio(b,k.MOUTH_CORNER_L);this.$20[l.LipCornerPullerR]=a.getSmileRatio(b,k.MOUTH_CORNER_R)};a.getSmileRatio=function(a,b){var d=c("gl-vec3").distance(this.landmarkToVec3(a[b]),this.landmarkToVec3(a[k.LIPS_TOP]));b=c("gl-vec3").distance(this.landmarkToVec3(a[b]),this.landmarkToVec3(a[k.LIPS_BOTTOM]));return Math.max(b/d+this.$2,0)*this.$1};a.getBlinkRatio=function(a,b,d,e,f){b=c("gl-vec3").distance(this.landmarkToVec3(a[b]),this.landmarkToVec3(a[d]));d=c("gl-vec3").distance(this.landmarkToVec3(a[e]),this.landmarkToVec3(a[f]));return b/d};a.landmarkToVec3=function(a){return[a.x,a.y,a.z]};b.sendRTCEvent=function(a){a=babelHelpers["extends"]({},a,{requestType:"DataToGame",target:"player2DBridgeInput"});this.$3.sendRTCEvent("lifecycle",{sdkMessage:{data:JSON.stringify(a)}})};return a}();a.$1=2;a.$2=-.8;g.CloudGaming2DBridgeRTCEventAction=h;g.CloudGaming2DBridgeBodyTracking=a}),98);
__d("CloudGamingMessageReceiver",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=this;this.$1=a;this.$2=function(a){var c;c=a==null?void 0:(c=a.data)==null?void 0:c.type;if(!c)return;a=a==null?void 0:(a=a.data)==null?void 0:a.content;b.$1(c,a?a:null)};window.addEventListener("message",this.$2,!1)}var b=a.prototype;b.clean=function(){window.removeEventListener("message",this.$2)};return a}();f["default"]=a}),66);
__d("XAIDemosMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/aidemos/demo/media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("CloudGaming2DBridgeController",["CloudGaming2DBridgeBodyTracking","CloudGamingConstants","CloudGamingMessageReceiver","XAIDemosMediaControllerRouteBuilder","mediapipe-camera_utils","mediapipe-drawing_utils","mediapipe-holistic","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(b,e,f){var g=this;this.$10=!1;this.onResults=function(b){g.$10||(g.$10=!0,window.postMessage({type:d("CloudGamingConstants").CloudGamingMessageTypes.READY_2D_BRIDGE},"/"));var c=g.$4,e=g.$5,f=b.poseLandmarks;if(!f||c==null||e==null)return;var h=c.getContext("2d");h.drawImage(b.image,0,0,c.width,c.height);d("mediapipe-drawing_utils").drawConnectors(h,f,d("mediapipe-holistic").POSE_CONNECTIONS,{color:"red",lineWidth:5});d("mediapipe-drawing_utils").drawLandmarks(h,b.poseLandmarks,{color:"red",radius:4});d("mediapipe-drawing_utils").drawLandmarks(h,b.leftHandLandmarks,{color:"pink",radius:4});d("mediapipe-drawing_utils").drawConnectors(h,b.leftHandLandmarks,d("mediapipe-holistic").HAND_CONNECTIONS,{color:"pink",lineWidth:5});a.fillTextCoordinates(e.getContext("2d"),b,[d("mediapipe-holistic").POSE_LANDMARKS.LEFT_SHOULDER,d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_SHOULDER,d("mediapipe-holistic").POSE_LANDMARKS.LEFT_WRIST,d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_WRIST,d("mediapipe-holistic").POSE_LANDMARKS.NOSE,d("mediapipe-holistic").POSE_LANDMARKS.LEFT_ELBOW,d("mediapipe-holistic").POSE_LANDMARKS.RIGHT_ELBOW],[].concat(Array.from(Array(21).keys())));g.$8.onKeypointsResults(b)};this.$1=b;this.$2=e;this.$3=f;this.$8=new(d("CloudGaming2DBridgeBodyTracking").CloudGaming2DBridgeBodyTracking)(this.$1,this.$2);this.$9=new(c("CloudGamingMessageReceiver"))(function(a){a===d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_2D_BRIDGE?g.init():a===d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_2D_BRIDGE&&g.clear()})}var e=a.prototype;e.init=function(){this.$10=!1,this.$6=this.$11(),this.$7=this.$12(this.$6),this.$4=Array.from(document.querySelectorAll("canvas")).find(function(a){return a.id==="2DBridgeCanvas"}),this.$5=Array.from(document.querySelectorAll("canvas")).find(function(a){return a.id==="2DBridgeCanvasData"})};e.$11=function(){var a=this,b=new(d("mediapipe-holistic").Holistic)({locateFile:function(b){if(b==="holistic_solution_packed_assets_loader.js")return a.$13("660990885733031");else if(b==="holistic_solution_packed_assets.data")return a.$13("1328268234576552");else if(b==="holistic_solution_simd_wasm_bin.js")return a.$13("692044515606037");else if(b==="holistic_solution_simd_wasm_bin.wasm")return a.$13("683650123073999");else if(b==="holistic.binarypb")return a.$13("1089395958423428");else if(b==="pose_landmark_full.tflite")return a.$13("1214216179128840");return""}});b.setOptions({enableSegmentation:!1,minDetectionConfidence:.5,minTrackingConfidence:.5,modelComplexity:1,refineFaceLandmarks:!0,smoothLandmarks:!0,smoothSegmentation:!0});b.onResults(this.onResults);return b};e.$13=function(a){var b;a=c("XAIDemosMediaControllerRouteBuilder").buildUri({id:a});b="www."+((b=(b=a.getQualifiedUri())==null?void 0:b.getDomain().replace("horizon.meta.com","facebook.com"))!=null?b:"facebook.com");return(a=(a=a.setDomain(b))==null?void 0:(b=a.setProtocol("https"))==null?void 0:b.toString())!=null?a:""};e.$12=function(a){var c=this.$3.current;if(c==null)return null;var e=new(d("mediapipe-camera_utils").Camera)(c,{height:720,onFrame:function(){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(a.send({image:c}));case 2:case"end":return d.stop()}},null,this)},width:1280});e.start();return e};e.clear=function(){var a;(a=this.$7)==null?void 0:a.stop();(a=this.$6)==null?void 0:a.onResults(function(){});(a=this.$6)==null?void 0:a.close();this.$8.clear()};return a}();a.fillTextCoordinates=function(a,b,c,d){a.clearRect(0,0,a.canvas.width,a.canvas.height);a.font="10px bold Calibri";c.forEach(function(c){c=b.poseLandmarks[c];var d=c.x,e=c.y;c=c.z;a.fillText("("+d.toFixed(2)+", "+e.toFixed(2)+", "+c.toFixed(2)+")",(1-d)*a.canvas.width,e*a.canvas.height)});if(b.leftHandLandmarks==null)return;d.forEach(function(c){c=b.leftHandLandmarks[c];var d=c.x,e=c.y;c=c.z;a.fillText("("+d.toFixed(2)+", "+e.toFixed(2)+", "+c.toFixed(2)+")",(1-d)*a.canvas.width,e*a.canvas.height)})};g["default"]=a}),98);
__d("CloudGaming2DBridgeMiddleware",["CloudGaming2DBridgeController","CloudGamingActionTypes","CloudGamingWindowsGamesSpecialConfigurationConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=null;a=function(a,b){return function(d,e,f,g){switch(d.type){case c("CloudGamingActionTypes").GAME_READY:(f=h)==null?void 0:f.clear();c("CloudGamingWindowsGamesSpecialConfigurationConfig").twod_bridge_input.indexOf(a)!==-1&&(h=new(c("CloudGaming2DBridgeController"))(g,e,b));break;case"DISCONNECT":(f=h)==null?void 0:f.clear();h=null;break;default:break}return d}};g.runAction=a}),98);
__d("CloudGaming2DBridgeOverlay.react",["$InternalEnum","ChevronDownFilled24.svg.react","ChevronUpFilled24.svg.react","CloudGamingConstants","CloudGamingMessageReceiver","CloudGamingWindowsGamesSpecialConfigurationConfig","CometIcon.react","CometKeys","CometProgressRingIndeterminate.react","react","useLayerKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");var i=a.useEffect,j=a.useMemo,k=a.useState,l=b("$InternalEnum").Mirrored(["OFF","HIDDEN","VISIBLE","DEBUG"]);e=h.forwardRef(function(a,b){var e=k(l.OFF),f=e[0],g=e[1];e=k(!1);var m=e[0],n=e[1];i(function(){new(c("CloudGamingMessageReceiver"))(function(a){a===d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_2D_BRIDGE?(n(!0),g(l.VISIBLE)):a===d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_2D_BRIDGE?(g(l.OFF),n(!1)):a===d("CloudGamingConstants").CloudGamingMessageTypes.READY_2D_BRIDGE&&(n(!1),window.setTimeout(function(){return g(l.HIDDEN)},5e3))})});e=j(function(){return[{command:{key:c("CometKeys").F10},description:"Toggle 2D Bridge view",handler:function(){if(f===l.OFF)return;f===l.HIDDEN?g(l.VISIBLE):g(l.HIDDEN)}},{command:{key:c("CometKeys").F10,shift:!0},description:"Toggle 2D Bridge debug view",handler:function(){if(f===l.OFF)return;f===l.HIDDEN?g(l.DEBUG):g(l.HIDDEN)}}]},[f]);c("useLayerKeyCommands")(e);return c("CloudGamingWindowsGamesSpecialConfigurationConfig").twod_bridge_input.indexOf(a.cloudGameID)===-1?h.jsx("div",{}):h.jsxs("div",{className:f===l.OFF?"x1s85apg":"x6s0dn4 x78zum5 xdt5ytf x1nhvcw1 x1rycs3w x10l6tqk x14b4ah6 x13vifvy x17vnrad x1vjfegm",children:[h.jsxs("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k x10l6tqk x13vifvy xh8yej3",children:[h.jsx("video",{className:f===l.VISIBLE?"xhk9q7s x1otrzb0 x1i1ezom x1o6z2jb x5yr21d xl1xv1r x10l6tqk x1c92isx xh8yej3"+(m?" xz5rk10":" x1us6l5c"):"x1s85apg",ref:b}),h.jsx("canvas",{className:f===l.DEBUG?"xhk9q7s x1otrzb0 x1i1ezom x1o6z2jb x5yr21d xl1xv1r x1us6l5c x10l6tqk x1c92isx xh8yej3":"x1s85apg",id:"2DBridgeCanvas"}),h.jsx("canvas",{className:f===l.DEBUG?"x5yr21d x19kjcj4 x1us6l5c x10l6tqk xh8yej3":"x1s85apg",id:"2DBridgeCanvasData"}),m&&h.jsx(c("CometProgressRingIndeterminate.react"),{color:"light",size:72})]}),h.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k x10l6tqk x17qophe x13vifvy xh8yej3"+(f===l.OFF||f===l.HIDDEN?" xexx8yu x18l40ae x168nmei x13lgxp2 x1i1ezom x1o6z2jb xjkvuk6":" x1iorvi4"),children:h.jsx(c("CometIcon.react"),{color:"white",icon:f===l.OFF||f===l.HIDDEN?c("ChevronDownFilled24.svg.react"):c("ChevronUpFilled24.svg.react"),onPress:function(){f===l.HIDDEN?g(l.VISIBLE):g(l.HIDDEN)},size:24})})]})});f=e;g["default"]=f}),98);
__d("CloudGamingDevLogging",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.type){case"CLEAR_KEYS_DOWN":case"KEY":case"MODIFIER_KEY":case"MOUSE_DOWN":case"MOUSE_MOVE":case"MOUSE_UP":case"MOUSE_WHEEL":case"SEND_RTC":case"UNPARSEABLE_RTC":case"UNSENDABLE_RTC":case c("CloudGamingActionTypes").SET_POINTERS_COORDINATES:case c("CloudGamingActionTypes").IN_GAME_STATE:case c("CloudGamingActionTypes").CURSOR_MOVEMENT:case c("CloudGamingActionTypes").CURSOR_BUTTON:case c("CloudGamingActionTypes").CURSOR_WHEEL:case c("CloudGamingActionTypes").WARNING_METRIC:case c("CloudGamingActionTypes").CLEAN_WARNING_METRIC:case c("CloudGamingActionTypes").CLOSE_NOTIFICATION:case c("CloudGamingActionTypes").TOUCH_MOVE:case c("CloudGamingActionTypes").TOUCH_DOWN:case c("CloudGamingActionTypes").TOUCH_UP:case c("CloudGamingActionTypes").VIRTUAL_GAMEPAD:case c("CloudGamingActionTypes").GAMEPAD_GREDOS:case c("CloudGamingActionTypes").MICROPHONE_ACTIVITY:return null;default:return a}}function b(a){}g["default"]=b}),98);
__d("CloudGamingLatencyLogging",["CloudGamingActionTypes","CloudGamingEventsFalcoEvent","CloudGamingLoadingEventRecorder"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h,i,j,k){var l=function(h,l,m,n){c("CloudGamingLoadingEventRecorder").recordEvent(h,l);var o={silent_retry_ingame_count:j.toString(),silent_retry_load_count:k.toString()};for(var p=c("CloudGamingLoadingEventRecorder").getEventLatency(h),q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}s=s;var t=s[0];s=s[1];o[t]=s}m!=null&&(o.request_id=m);g!=null&&(o.cloud_binary_id=g);n!=null&&(o.is_android_container=n?"1":"0");return{app_id:b,client_app_id:d,client_app_version:e,cloud_game_id_override:f,entry_point:i,event:h,event_occur_time_ms:l.toString(),extra_data:o,session_id:a,source:"JS"}};switch(h.type){case"MOUSE_UP":case"MOUSE_DOWN":case"MOUSE_MOVE":case"KEY":case"CLEAR_KEYS_DOWN":case"MODIFIER_KEY":case c("CloudGamingActionTypes").CURSOR_MOVEMENT:case c("CloudGamingActionTypes").CURSOR_BUTTON:case c("CloudGamingActionTypes").CURSOR_WHEEL:var m=h.timestamp,n="";a!=null&&(n=a+"/"+m.toString());var o=l("CLIENT_INPUT_RECEIVED",m,n);c("CloudGamingEventsFalcoEvent").log(function(){return o});break;case"PEER_CONNECTION_CREATED":var p=l("PEER_CONNECTION_CREATED",h.timestamp);c("CloudGamingEventsFalcoEvent").log(function(){return p});break;case"SEND_SDP_OFFER":var q=l("CLIENT_SEND_SDP_OFFER",h.timestamp);c("CloudGamingEventsFalcoEvent").log(function(){return q});break;case"RECEIVED_SDP_ANSWER":var r=l("CLIENT_RECEIVE_SDP_ANSWER",h.timestamp);c("CloudGamingEventsFalcoEvent").log(function(){return r});break;case"PEER_CONNECTION_CONNECTED":var s=l("PEER_CONNECTION_CONNECTED",h.timestamp);c("CloudGamingEventsFalcoEvent").log(function(){return s});break;case"DATA_CHANNEL_OPENED":if(h.purpose.includes("lifecycle")){var t=l("DATA_CHANNEL_OPENED",h.timestamp);c("CloudGamingEventsFalcoEvent").log(function(){return t})}break;case c("CloudGamingActionTypes").GAME_READY:c("CloudGamingLoadingEventRecorder").setIsAndroidContainer(h.isAndroidContainer);var u=l(j>=1?c("CloudGamingActionTypes").GAME_READY_RETRY:c("CloudGamingActionTypes").GAME_READY,h.timestamp,null,h.isAndroidContainer);c("CloudGamingEventsFalcoEvent").logImmediately(function(){return u});break;default:break}}g["default"]=a}),98);
__d("CloudGamingSessionEventLogging",["CloudGamingActionTypes","CloudGamingEndSummary","CloudGamingLoadingEventRecorder","CloudGamingSessionEventFalcoEvent","EventTimeUtils","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h=3145,i=60,j=100,k=new Map();function a(a,b,e,f,g,l,m,n,o){var p=!0,q=!1,r=l.type,s=0;switch(l.type){case"CLIENT_TICK":case"SERVER_TICK":p=l.heartbeat.sequence%i===0;break;case"MOUSE_UP":case"MOUSE_DOWN":case"MOUSE_MOVE":case"KEY":case"CLEAR_KEYS_DOWN":case"MODIFIER_KEY":case c("CloudGamingActionTypes").CURSOR_MOVEMENT:case c("CloudGamingActionTypes").CURSOR_BUTTON:case c("CloudGamingActionTypes").CURSOR_WHEEL:case c("CloudGamingActionTypes").TOUCH_MOVE:case c("CloudGamingActionTypes").TOUCH_DOWN:case c("CloudGamingActionTypes").TOUCH_UP:case c("CloudGamingActionTypes").VIRTUAL_GAMEPAD:case c("CloudGamingActionTypes").GAMEPAD_GREDOS:var t;t=(t=k.get(l.type))!=null?t:0;k.set(l.type,t+1);p=t%j===0;q=!0;c("CloudGamingEndSummary").incrementClientSideInputEvents();break;case c("CloudGamingActionTypes").CLIENT_RECEIVE_SDK_MESSAGE:d("ODS").bumpEntityKey(h,"cg_sdk_channel","client_sdk_message_received");break;case c("CloudGamingActionTypes").CLIENT_SEND_SDK_MESSAGE:d("ODS").bumpEntityKey(h,"cg_sdk_channel","client_sdk_message_sent");break;case c("CloudGamingActionTypes").PAUSE_GAME:r="SEND_PAUSE_REQUEST";q=!0;s=l.timestamp;break;case c("CloudGamingActionTypes").RESUME_GAME:r="SEND_RESUME_REQUEST";q=!0;s=l.timestamp;break;case c("CloudGamingActionTypes").FINISH_GAME:r="FINISH_GAME";break;case c("CloudGamingActionTypes").INPUT_FEEDBACK:p=!1;break;default:break}if(p){t={silent_retry_ingame_count:n.toString(),silent_retry_load_count:o.toString(),ts:d("EventTimeUtils").tryGetTimestampInMicroSecond().toString()};l.type==="GAME_READY"&&(t.is_android_container=l.isAndroidContainer?"1":"0");(l.type==="CLIENT_TICK"||l.type==="SERVER_TICK")&&(t.heartbeat_sequence=l.heartbeat.sequence.toString());var u,v,w;l.type==="CONNECTION_ERROR"||l.type==="FATAL_ERROR"?(u=l.code,v=l.detail,l.payloadResponse!=null&&(w="beginning of payload response: "+l.payloadResponse.substring(0,2e3)),t.stage=c("CloudGamingLoadingEventRecorder").alreadyRecorded("GAME_READY")?"streaming":"loading",l.type==="FATAL_ERROR"&&c("CloudGamingEndSummary").logSummary(b,g,e,f,a,m,"FATAL_ERROR")):l.type==="DATA_CHANNEL_ERROR"&&(u=l.detail,v=l.message);l.type===c("CloudGamingActionTypes").CLIENT_RECEIVE_SDK_MESSAGE&&(t.sdk_message=l.message.requestID,t.sdk_message_type=l.message.type);l.type===c("CloudGamingActionTypes").CLIENT_SEND_SDK_MESSAGE&&(t.sdk_message=l.data.requestID,l.data.error!=null?(t.sdk_message_response="error",t.sdk_message_error_description=l.data.error.message):l.data.success!=null&&(t.sdk_message_response="success"));l.type==="UNSENDABLE_RTC"&&(t.message=JSON.stringify(l.event));l.type==="DATA_CHANNEL_OPENED"&&(t.purpose=l.purpose,t.label=l.label);l.type==="NOOP"&&(t.game_lifecycle=l.gameLifecycle,t.action_type=l.actionType);q&&(t.untrusted_client_timestamp_ms=s>0?s.toString():Date.now().toString());l.type===c("CloudGamingActionTypes").MICROPHONE_ENABLE_FAILED&&(t.detail=l.detail);var x={app_id:b,client_app_id:e,client_app_version:f,cloud_game_id_override:g,entry_point:m,event:r,exception_message:v,exception_stack:w,exception_type:u,extra_data:t,session_id:a,source:"JS"};l.type===c("CloudGamingActionTypes").GAME_READY?(n>=1?x.event=c("CloudGamingActionTypes").GAME_READY_RETRY:c("CloudGamingEndSummary").markGameReady(),c("CloudGamingSessionEventFalcoEvent").logImmediately(function(){return x})):c("CloudGamingSessionEventFalcoEvent").log(function(){return x});l.type===c("CloudGamingActionTypes").FINISH_GAME&&c("CloudGamingEndSummary").logSummary(b,g,e,f,a,m,"SESSION_TIMEOUT");l.type===c("CloudGamingActionTypes").PAUSE_GAME&&c("CloudGamingEndSummary").markGamePaused();l.type===c("CloudGamingActionTypes").RESUME_GAME&&c("CloudGamingEndSummary").markGameResumed()}}g["default"]=a}),98);
__d("CloudGamingInputLatencyTracker",["CloudGamingEndSummary","CloudGamingEventsFalcoEvent","CloudGamingWebRTCStatsConfig","EventTimeUtils","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3;a=function(){function a(){this.$1={},this.$2={},this.$8=0,this.$11=0,this.$12=1e4,this.$13=-1,this.$14=!1}var b=a.prototype;b.configure=function(a,b,d,e,f){this.$3=a,this.$4=b,this.$5=d,this.$6=e,this.$7=f,this.$12=c("CloudGamingWebRTCStatsConfig").wait_time_in_sec_before_stop_collection_timer*1e3};b.setConnection=function(a){this.$9=a};b.$15=function(a,b,d){var e=this,f=Date.now().toString();d.forEach(function(d){e.$8+=1;if(e.$8>=c("CloudGamingWebRTCStatsConfig").log_input_latency_rate){e.$8-=c("CloudGamingWebRTCStatsConfig").log_input_latency_rate;var g=Math.floor((b-d)/1e3);c("CloudGamingEndSummary").processInputLatency(g);var h=d.toString();e.$4!=null&&(h=e.$4+"/"+h);c("CloudGamingEventsFalcoEvent").log(function(){return{app_id:e.$3,client_app_id:e.$5,client_app_version:e.$6,cloud_game_id_override:e.$7,event:"CLIENT_FRAME_RENDERED",event_occur_time_ms:f,extra_data:{invoke_ts:b.toString(),latency:g.toString(),native_player:"false",render_ts:a.toString(),request_id:h},session_id:e.$4,source:"JS"}});c("QuickPerformanceLogger").markerPoint(c("qpl")._(378806909,"71"),"rendered",{data:{"int":{latency:g,render_ms:b/1e3}},instanceKey:d});c("QuickPerformanceLogger").markerEnd(c("qpl")._(378806909,"71"),2,d)}})};b.$16=function(a){var b=Object.keys(a);if(b.length>h){b=b[0];delete a[parseInt(b,10)]}};b.$17=function(){var a=this,b=this.$9;b=b==null?void 0:b.getReceivers();b==null?void 0:b.forEach(function(b){if(b.track.kind==="video"){var c=d("EventTimeUtils").tryGetTimestampInMicroSecond();b=b.getSynchronizationSources();if(b.length>0){b=b[0];if(b.rtpTimestamp==null){a.$14=!0;a.$18();return}b.rtpTimestamp!==a.$13&&(a.processFrameTimestamps(b.rtpTimestamp,b.timestamp*1e3,c),a.$13=b.rtpTimestamp)}}})};b.$19=function(){var a=this;if(this.$9===null||this.$14)return;this.$10==null&&(this.$17(),this.$10=window.setInterval(function(){a.$17()},c("CloudGamingWebRTCStatsConfig").collect_rtc_frame_timestamps_in_ms))};b.$18=function(){if(this.$10==null)return;var a=Date.now()-this.$11;(a>this.$12||this.$14)&&(window.clearTimeout(this.$10),this.$10=null)};b.$20=function(a){return a!=null?parseInt(a,10):d("EventTimeUtils").tryGetTimestampInMicroSecond()};b.processInput=function(a){if(a.input==null)return;a=a.input;var b;if(a.touch!=null)b=this.$20(a.touch.timestamp);else if(a.key!=null)b=this.$20(a.key.timestamp);else return;a=b.toString();this.$4!=null&&(a=this.$4+"/"+a);c("QuickPerformanceLogger").markerStart(c("qpl")._(378806909,"71"),b);c("QuickPerformanceLogger").markerAnnotate(c("qpl")._(378806909,"71"),{"int":{input_ms:b/1e3},string:{app_id:this.$3,client_app_id:this.$5,client_app_version:this.$6,cloud_game_id_override:this.$7,request_id:a,session_id:this.$4,source:"JS"}},{instanceKey:b})};b.processInputFeedback=function(a,b){this.$11=Date.now();var c=this.$1[a];c&&c.length>1?(this.$15(c[0],c[1],b),delete this.$1[a]):(this.$16(this.$2),this.$2[a]=b,this.$19())};b.processFrameTimestamps=function(a,b,c){var d=this.$2[a];d?(this.$15(b,c,d),delete this.$2[a]):(this.$16(this.$1),this.$1[a]=[b,c],this.$18())};return a}();b=new a();e=b;g["default"]=e}),98);
__d("CloudGamingWebRTCParsingUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null||isNaN(a)?null:a.toString()}function b(a,b){a=a[b];return a===void 0?void 0:String(a)}function c(a,b){a=a[b];b=Number.parseFloat(a);return isNaN(b)?void 0:b}function d(a){if(a===void 0)return a;else return a*1e3}f.safeToString=a;f.parseStatString=b;f.parseStatNumber=c;f.secondToMillis=d}),66);
__d("CloudGamingWebRTCStatsParser",["CloudGamingWebRTCParsingUtil"],(function(a,b,c,d,e,f,g){"use strict";var h={frameRateReceived:0,freezeCount:0,freezeCount_100:0,freezeCount_1000:0,freezeCount_500:0,jitterBufferDelay:0,jitterReceivedSec:0,lastWindowAvgDecodeTime:0,maxInterframeDelay:0,totalDecodeTime:0,totalFreezeDuration:0,totalFreezeDuration_100:0,totalFreezeDuration_1000:0,totalFreezeDuration_500:0,totalInterFrameDelay:0,totalSquaredInterFrameDelay:0};function i(a,b,c,d,e){if(c===0)return a.map(function(a){return{freezeDurationSec:0,likelyFreezeCount:0}});var f=(e-d*d/c)/c,g=f-b*b/3;function h(a){var e=b*b/3+a*a/(c-1);e=f>e?1:0;var h=0;e&&(c>1?h=Math.sqrt(g*(c-1)):d>a&&(h=d));return{freezeDurationSec:h,likelyFreezeCount:h>0?e:0}}return a.map(h)}function j(a,b,c){if(c===0)return 0;b=(b-a*a/c)/c;b=Math.sqrt(b);a=a/c;return a+3*b}function k(a,b){var c=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"framesReceived");if(b!=null&&c!==void 0){b=(a.timestamp-b.timestamp)/1e3;return c/b}c=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googFrameRateReceived");return c!==void 0?c:0}function l(a,b){var c,e;c=(c=b==null?void 0:b.newApiStats)!=null?c:h;var f=c;f.frameRateReceived=k(a,b);var g=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"totalInterFrameDelay"),l=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"totalSquaredInterFrameDelay");g!==void 0&&l!==void 0&&(f=babelHelpers["extends"]({},f,{totalInterFrameDelay:g,totalSquaredInterFrameDelay:l}));f=babelHelpers["extends"]({},f,{jitterBufferDelay:(e=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"jitterBufferDelay"))!=null?e:f.jitterBufferDelay,jitterReceivedSec:(e=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"jitter"))!=null?e:f.jitterReceivedSec,totalDecodeTime:(e=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"totalDecodeTime"))!=null?e:f.totalDecodeTime});e=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"framesDecoded");var m=b==null?void 0:b.googFramesDecoded;if(e!==void 0&&m!==void 0&&e-m>0){var n=e-m;c=f.totalDecodeTime-c.totalDecodeTime;f=babelHelpers["extends"]({},f,{lastWindowAvgDecodeTime:c/n})}if(g!==void 0&&l!==void 0&&e!==void 0&&m!==void 0&&e-m>0&&(b==null?void 0:b.newApiStats)!=null){c=.1;n=g-b.newApiStats.totalInterFrameDelay;g=l-b.newApiStats.totalSquaredInterFrameDelay;l=e-m;m=(a.timestamp-b.firstTimestamp)/1e3;a=e/m;b=1/a;e=b*c;f.maxInterframeDelay=j(n,g,l);m=i([.1,.18,.5,1],e,l,n,g);f.freezeCount+=m[1].likelyFreezeCount;f.freezeCount_100+=m[0].likelyFreezeCount;f.freezeCount_500+=m[2].likelyFreezeCount;f.freezeCount_1000+=m[3].likelyFreezeCount;f.totalFreezeDuration+=m[1].freezeDurationSec;f.totalFreezeDuration_100+=m[0].freezeDurationSec;f.totalFreezeDuration_500+=m[2].freezeDurationSec;f.totalFreezeDuration_1000+=m[3].freezeDurationSec}return f}var m=function(){function a(){}var b=a.prototype;b.convertVideoStats=function(a,b){var c=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googFrameRateOutput"),e=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"framesDecoded"),f=b!=null&&b.id===a.id&&b.googFramesDecoded!==void 0?b.googFramesDecoded:0;c=c!==void 0&&c>0&&e!==void 0&&e>f;e=[];f=[];var g=[180,100,500,1e3];b!=null&&b.id===a.id&&(e=[b.freezeCount_180,b.freezeCount_100,b.freezeCount_500,b.freezeCount_1000],f=[b.totalFreezeDuration_180,b.totalFreezeDuration_100,b.totalFreezeDuration_500,b.totalFreezeDuration_1000]);var h=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googInterframeDelayMax");for(var i=0;i<g.length;i++)if(c&&h!==void 0){var j=h>g[i]?1:0,k=j>0?+h/1e3:0;e[i]=e[i]===void 0?j:e[i]+j;f[i]=f[i]===void 0?k:f[i]+k}var m,n;b!=null&&b.id===a.id&&(m=b.firstFrameTime,n=b.lastFrameTime);c&&(n=a.timestamp,m===void 0&&(m=a.timestamp-.5));return{bytesRecv:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"bytesReceived"),fecPacketsReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"fecPacketsReceived"),firstFrameTime:m,firstTimestamp:(j=b==null?void 0:b.firstTimestamp)!=null?j:a.timestamp,freezeCount_100:e[1],freezeCount_1000:e[3],freezeCount_180:e[0],freezeCount_500:e[2],googCodecName:d("CloudGamingWebRTCParsingUtil").parseStatString(a,"googCodecName"),googCurrentDelayMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googCurrentDelayMs"),googDecodeMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googDecodeMs"),googFirstFrameReceivedToDecodedMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googFirstFrameReceivedToDecodedMs"),googFrameHeightReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googFrameHeightReceived"),googFrameRateDecoded:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googFrameRateDecoded"),googFrameRateOutput:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googFrameRateOutput"),googFrameRateReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googFrameRateReceived"),googFramesDecoded:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"framesDecoded"),googFrameWidthReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googFrameWidthReceived"),googInterframeDelayMax:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googInterframeDelayMax"),googJitterBufferMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googJitterBufferMs"),googMaxDecodeMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googMaxDecodeMs"),googMinPlayoutDelayMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googMinPlayoutDelayMs"),googRenderDelayMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googRenderDelayMs"),googTargetDelayMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googTargetDelayMs"),id:a.id,keyFramesDecoded:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"keyFramesDecoded"),lastFrameTime:n,mediaType:d("CloudGamingWebRTCParsingUtil").parseStatString(a,"mediaType"),nackCount:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"nackCount"),newApiStats:l(a,b),packetsLost:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"packetsLost"),packetsReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"packetsReceived"),pliCount:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"pliCount"),timestamp:a.timestamp,totalFreezeDuration_100:f[1],totalFreezeDuration_1000:f[3],totalFreezeDuration_180:f[0],totalFreezeDuration_500:f[2]}};b.convertAudioStats=function(a){return{audioOutputLevel:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"audioOutputLevel"),bytesRecv:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"bytesReceived"),googCodecName:d("CloudGamingWebRTCParsingUtil").parseStatString(a,"googCodecName"),googCurrentDelayMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googCurrentDelayMs"),googJitterBufferMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googJitterBufferMs"),googJitterReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googJitterReceived"),googMaxDecodeMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googMaxDecodeMs"),googPreferredJitterBufferMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googPreferredJitterBufferMs"),id:a.id,mediaType:d("CloudGamingWebRTCParsingUtil").parseStatString(a,"mediaType"),packetsLost:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"packetsLost"),packetsReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"packetsReceived"),timestamp:a.timestamp,totalAudioEnergy:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"totalAudioEnergy"),totalSamplesDuration:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"totalSamplesDuration"),concealedSamples:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"concealedSamples"),insertedSamplesForDeceleration:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"insertedSamplesForDeceleration"),removedSamplesForAcceleration:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"removedSamplesForAcceleration"),silentConcealedSamples:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"silentConcealedSamples"),totalSamplesReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"totalSamplesReceived")}};b.convertCandidatePairStats=function(a){return{bytesReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"bytesReceived"),bytesSent:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"bytesSent"),googRttMs:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"googRtt"),googTransportType:d("CloudGamingWebRTCParsingUtil").parseStatString(a,"googTransportType"),id:a.id,packetsSent:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"packetsSent"),timestamp:a.timestamp}};return a}(),n=function(){function a(){}var b=a.prototype;b.convertVideoStats=function(a,b){var c,e;b!=null&&b.id===a.id&&(c=b.firstFrameTime,e=b.lastFrameTime);var f=d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"framesPerSecond");f!==void 0&&f>0&&(e=a.timestamp,c===void 0&&(c=a.timestamp-.5));return{bytesRecv:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"bytesReceived"),fecPacketsReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"fecPacketsReceived"),firstFrameTime:c,firstTimestamp:(f=b==null?void 0:b.firstTimestamp)!=null?f:a.timestamp,googFrameHeightReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"frameHeight"),googFrameRateDecoded:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"framesPerSecond"),googFramesDecoded:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"framesDecoded"),googFrameWidthReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"frameWidth"),id:a.id,keyFramesDecoded:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"keyFramesDecoded"),lastFrameTime:e,mediaType:d("CloudGamingWebRTCParsingUtil").parseStatString(a,"mediaType"),nackCount:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"nackCount"),newApiStats:l(a,b),packetsLost:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"packetsLost"),packetsReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"packetsReceived"),pliCount:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"pliCount"),timestamp:a.timestamp}};b.convertAudioStats=function(a){return{audioOutputLevel:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"audioLevel"),bytesRecv:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"bytesReceived"),concealedSamples:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"concealedSamples"),id:a.id,insertedSamplesForDeceleration:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"insertedSamplesForDeceleration"),mediaType:d("CloudGamingWebRTCParsingUtil").parseStatString(a,"mediaType"),packetsLost:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"packetsLost"),packetsReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"packetsReceived"),removedSamplesForAcceleration:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"removedSamplesForAcceleration"),silentConcealedSamples:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"silentConcealedSamples"),timestamp:a.timestamp,totalAudioEnergy:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"totalAudioEnergy"),totalSamplesDuration:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"totalSamplesDuration"),totalSamplesReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"totalSamplesReceived")}};b.convertCandidatePairStats=function(a){return{bytesReceived:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"bytesReceived"),bytesSent:d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"bytesSent"),googRttMs:d("CloudGamingWebRTCParsingUtil").secondToMillis(d("CloudGamingWebRTCParsingUtil").parseStatNumber(a,"currentRoundTripTime")),id:a.id,timestamp:a.timestamp}};return a}();function a(){return new m()}function b(){return new n()}g.createLegacyParser=a;g.createStandardParser=b}),98);
__d("CloudGamingWebrtcStatsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743374");c=b("FalcoLoggerInternal").create("cloud_gaming_webrtc_stats",a);e.exports=c}),null);
__d("CloudGamingWebRTCStatsUtil",["CloudGamingWebRTCParsingUtil","CloudGamingWebrtcStatsFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e={activeCandidatePair:void 0,audioRecvSsrc:void 0,calculated:void 0,videoRecvSsrc:void 0};for(var a=a.values(),f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;var i=d("CloudGamingWebRTCParsingUtil").parseStatString(h,"mediaType");switch(h.type){case"ssrc":if(i==="audio"&&d("CloudGamingWebRTCParsingUtil").parseStatNumber(h,"audioOutputLevel")!==0)e.audioRecvSsrc=c.convertAudioStats(h);else if(i==="video"){i=b&&b.videoRecvSsrc;e.videoRecvSsrc=c.convertVideoStats(h,i)}break;case"googCandidatePair":d("CloudGamingWebRTCParsingUtil").parseStatString(h,"googActiveConnection")==="true"&&(e.activeCandidatePair=c.convertCandidatePairStats(h));break;default:break}}return e}function b(a,b,e,f,g){if(a!=null&&b!=null&&a.id===b.id){var h=j(a,b);c("CloudGamingWebrtcStatsFalcoEvent").log(function(){var a;return{app_id:f,audio_concealed_samples:(a=b.concealedSamples)==null?void 0:a.toString(),audio_inserted_samples:(a=b.insertedSamplesForDeceleration)==null?void 0:a.toString(),audio_out_put_level:(a=b.audioOutputLevel)==null?void 0:a.toString(),audio_removed_samples:(a=b.removedSamplesForAcceleration)==null?void 0:a.toString(),audio_silent_concealed_samples:(a=b.silentConcealedSamples)==null?void 0:a.toString(),audio_total_samples:(a=b.totalSamplesReceived)==null?void 0:a.toString(),bytes_received_per_sec:d("CloudGamingWebRTCParsingUtil").safeToString(h.bytesReceivedPerSecond),codec_name:b.googCodecName,current_delay_ms:(a=b.googCurrentDelayMs)==null?void 0:a.toString(),event_occur_time_ms:Date.now().toString(),jitter_buffer_ms:(a=b.googJitterBufferMs)==null?void 0:a.toString(),jitter_received:(a=b.googJitterReceived)==null?void 0:a.toString(),max_decode_ms:(a=b.googMaxDecodeMs)==null?void 0:a.toString(),media_type:b.mediaType,packets_lost:(a=b.packetsLost)==null?void 0:a.toString(),packets_received_per_sec:d("CloudGamingWebRTCParsingUtil").safeToString(h.packetsReceivedPerSecond),passed_time_sec:Math.round(b.timestamp-e).toString(),preferred_jitter_buffer_ms:(a=b.googPreferredJitterBufferMs)==null?void 0:a.toString(),session_id:g,total_audio_energy:b.totalAudioEnergy,total_samples_duration:b.totalSamplesDuration}});return h}return null}function e(a,b,e,f,g){if(a!=null&&b!=null&&a.id===b.id){var i=j(a,b),k=null;if(b.newApiStats!==void 0){k={};a=Object.keys(b.newApiStats);for(var l=0;l<a.length;l++){var m=a[l];k["std__"+m]=b.newApiStats[m]}}m=b.newApiStats;var n=(a=b.freezeCount_180)!=null?a:m==null?void 0:m.freezeCount,o=(l=b.freezeCount_100)!=null?l:m==null?void 0:m.freezeCount_100,p=(a=b.freezeCount_1000)!=null?a:m==null?void 0:m.freezeCount_1000,q=(l=b.freezeCount_500)!=null?l:m==null?void 0:m.freezeCount_500,r=(a=b.totalFreezeDuration_180)!=null?a:m==null?void 0:m.totalFreezeDuration,s=(l=b.totalFreezeDuration_100)!=null?l:m==null?void 0:m.totalFreezeDuration_100,t=(a=b.totalFreezeDuration_1000)!=null?a:m==null?void 0:m.totalFreezeDuration_1000,u=(l=b.totalFreezeDuration_500)!=null?l:m==null?void 0:m.totalFreezeDuration_500;c("CloudGamingWebrtcStatsFalcoEvent").log(function(){var a;return{app_id:f,bytes_received_per_sec:d("CloudGamingWebRTCParsingUtil").safeToString(i.bytesReceivedPerSecond),codec_name:b.googCodecName,current_delay_ms:(a=b.googCurrentDelayMs)==null?void 0:a.toString(),decode_ms:(a=b.googDecodeMs)==null?void 0:a.toString(),event_occur_time_ms:Date.now().toString(),extra_data:k,fec_packets_received:(a=b.fecPacketsReceived)==null?void 0:a.toString(),first_frame_received_to_decode_ms:(a=b.googFirstFrameReceivedToDecodedMs)==null?void 0:a.toString(),frame_height_received:(a=b.googFrameHeightReceived)==null?void 0:a.toString(),frame_rate_decoded:(a=b.googFrameRateDecoded)==null?void 0:a.toString(),frame_rate_output:(a=b.googFrameRateOutput)==null?void 0:a.toString(),frame_rate_received:(a=b.googFrameRateReceived)==null?void 0:a.toString(),frame_width_received:(a=b.googFrameWidthReceived)==null?void 0:a.toString(),frames_decoded:(a=b.googFramesDecoded)==null?void 0:a.toString(),freeze_count:n==null?void 0:n.toString(),freeze_count_100:o==null?void 0:o.toString(),freeze_count_1000:p==null?void 0:p.toString(),freeze_count_500:q==null?void 0:q.toString(),interframe_delay_max:(a=b.googInterframeDelayMax)==null?void 0:a.toString(),jitter_buffer_ms:(a=b.googJitterBufferMs)==null?void 0:a.toString(),key_frames_decoded:(a=b.keyFramesDecoded)==null?void 0:a.toString(),max_decode_ms:(a=b.googMaxDecodeMs)==null?void 0:a.toString(),media_type:b.mediaType,min_playout_delay_ms:(a=b.googMinPlayoutDelayMs)==null?void 0:a.toString(),nack_count:(a=b.nackCount)==null?void 0:a.toString(),packets_lost:(a=b.packetsLost)==null?void 0:a.toString(),packets_received_per_sec:d("CloudGamingWebRTCParsingUtil").safeToString(i.packetsReceivedPerSecond),passed_time_sec:Math.round(b.timestamp-e).toString(),pli_count:(a=b.pliCount)==null?void 0:a.toString(),render_delay_ms:(a=b.googRenderDelayMs)==null?void 0:a.toString(),session_id:g,target_delay_ms:(a=b.googTargetDelayMs)==null?void 0:a.toString(),total_frames_duration:h(b),total_freeze_duration:r,total_freeze_duration_100:s,total_freeze_duration_1000:t,total_freeze_duration_500:u}});return i}return null}function h(a){return a&&a.firstFrameTime!==void 0&&a.lastFrameTime!==void 0?(a.lastFrameTime-a.firstFrameTime)/1e3:0}function i(a,b,c,d){if(a===void 0||b===void 0)return{floor:void 0,round:void 0};a=1e3*(a-b)/(c-d);return{floor:Math.floor(a),round:Math.round(a)}}function j(a,b){var c=i(b.bytesRecv,a.bytesRecv,b.timestamp,a.timestamp);b=i(b.packetsReceived,a.packetsReceived,b.timestamp,a.timestamp);return{bytesReceivedPerSecond:c.round,packetsReceivedPerSecond:b.round}}function f(a,b,e,f,g){if(a!=null&&b!=null&&a.id===b.id){var h=i(b.bytesReceived,a.bytesReceived,b.timestamp,a.timestamp),j=i(b.bytesSent,a.bytesSent,b.timestamp,a.timestamp),k=i(b.packetsSent,a.packetsSent,b.timestamp,a.timestamp);c("CloudGamingWebrtcStatsFalcoEvent").log(function(){var a;return{app_id:f,bytes_received_per_sec:d("CloudGamingWebRTCParsingUtil").safeToString(h.floor),bytes_sent_per_sec:d("CloudGamingWebRTCParsingUtil").safeToString(j.floor),event_occur_time_ms:Date.now().toString(),packets_sent_per_sec:d("CloudGamingWebRTCParsingUtil").safeToString(k.floor),passed_time_sec:Math.round(b.timestamp-e).toString(),rtt_ms:(a=b.googRttMs)==null?void 0:a.toString(),session_id:g,transport_type:b.googTransportType}});return{bytesReceivedPerSecond:h.round,bytesSentPerSecond:j.round,packetsSentPerSecond:k.round}}return null}function k(a){switch(a){case"inbound-rtp":return"inboundrtp";case"outbound-rtp":return"outboundrtp";case"candidate-pair":return"candidatepair";case"local-candidate":return"localcandidate";case"remote-candidate":return"remotecandidate";default:return a}}function l(a,b){var c=new Map(),d=["jitter","jitterBufferDelay","totalDecodeTime","totalInterFrameDelay","totalSquaredInterFrameDelay","fecPacketsReceived","keyFramesDecoded","nackCount","pliCount"],e={},f=["concealedSamples","insertedSamplesForDeceleration","silentConcealedSamples","removedSamplesForAcceleration","totalSamplesReceived"],g={};for(var b=b,h=Array.isArray(b),i=0,b=h?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=b.length)break;j=b[i++]}else{i=b.next();if(i.done)break;j=i.value}j=j;j[0];j=j[1];if(j.type==="inbound-rtp"&&j.kind==="video")for(var l=0;l<d.length;l++){var m=d[l];e[m]=j[m]}if(j.type==="inbound-rtp"&&j.kind==="audio")for(m=0;m<f.length;m++){l=f[m];g[l]=j[l]}}for(l=0;l<a.length;l++){m=a[l];j={id:m.id,timestamp:m.timestamp,type:k(m.type)};if(m.stat("mediaType")==="video")for(i in e){h=e[i];h!==null&&(j[i]=h)}if(m.stat("mediaType")==="audio")for(b in g){f=g[b];f!==null&&(j[b]=f)}for(d=m.names(),h=Array.isArray(d),i=0,d=h?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(i>=d.length)break;f=d[i++]}else{i=d.next();if(i.done)break;f=i.value}b=f;j[b]=m.stat(b)}c.set(j.id,j)}return c}function m(a){return n(a.entries())}function n(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];e=babelHelpers["extends"]({},e,{id:e.id,timestamp:e.timestamp,type:k(e.type)});(f.startsWith("RTCInboundRTPVideo")||f.startsWith("RTCInboundRTPAudio"))&&(e=babelHelpers["extends"]({},e,{type:"ssrc"}));e.type==="candidatepair"&&(e=babelHelpers["extends"]({},e,{googActiveConnection:e.state==="succeeded"?"true":"false",type:"googCandidatePair"}));b.set(e.id,e)}return b}g.convertRTCStats=a;g.logAudioSsrcStats=b;g.logVideoSsrcStats=e;g.estimateFramesDuration=h;g.logCandidatePairStats=f;g.convertCallbackStatsToLegacy=l;g.convertPromiseStatsReportToLegacy=m;g.convertPromiseStatsToLegacy=n}),98);
__d("InstantGamesDebugScreenConstants",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({GAMING_DEBUG_APP_ID:null,GAMING_DEBUG_CLIENT_LAG:null,GAMING_DEBUG_DSP_OFFER:null,GAMING_DEBUG_OFFER_RESPONSE:null,GAMING_DEBUG_PLAY_TOKEN:null,GAMING_DEBUG_PROGRESS:null,GAMING_DEBUG_SESSION_ID:null,GAMING_DEBUG_TEXT:null,GAMING_DEBUG_USER_EVENT:null,GAMING_DEBUG_USER_INTERACT:null,GAMING_DEBUG_VISIBLE:null,GAMING_DEBUG_WEBRTCSTATS:null});g.InstantGamesDebugScreenMessageTypes=a}),98);
__d("CloudGamingWebRTCStatsCache",["CloudGamingEndSummary","CloudGamingInputLatencyTracker","CloudGamingWebRTCStatsConfig","CloudGamingWebRTCStatsParser","CloudGamingWebRTCStatsUtil","InstantGamesDebugScreenConstants","Promise","UserAgent","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.data=function(){return this.$1};b.parser=function(){return this.$2};return a}();function i(a){if(c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")||c("UserAgent").isBrowser("Edge (Chromium Based)")){var e=new(b("Promise"))(function(b,c){a.getStats(b,c)});return b("Promise").all([e,a.getStats()]).then(function(a){var b=a[0];a=a[1];return new h(d("CloudGamingWebRTCStatsUtil").convertCallbackStatsToLegacy(b.result(),a),d("CloudGamingWebRTCStatsParser").createLegacyParser())})}return a.getStats().then(function(a){return new h(d("CloudGamingWebRTCStatsUtil").convertPromiseStatsToLegacy(a),d("CloudGamingWebRTCStatsParser").createStandardParser())})}a=function(){function a(){this.$6=0}var b=a.prototype;b.logRTCConnection=function(a,b,e,f){var g=this;this.$2=a;this.$3=b;this.$1=e;this.$5=Date.now();this.$8=f;i(e).then(function(a){g.$7=d("CloudGamingWebRTCStatsUtil").convertRTCStats(a.data(),null,a.parser()),g.$4=window.setInterval(function(){g.$10()},c("CloudGamingWebRTCStatsConfig").collect_rtc_media_stats_interval_in_sec*1e3)})["catch"]();c("CloudGamingInputLatencyTracker").setConnection(e)};b.$10=function(){var a=this,b=this.$1;if(!b||b.connectionState!=="connected")return;i(b).then(function(b){var e=a.$7;a.$7=d("CloudGamingWebRTCStatsUtil").convertRTCStats(b.data(),e,b.parser());a.$7.calculated=a.$9;a.$8&&a.$8(d("InstantGamesDebugScreenConstants").InstantGamesDebugScreenMessageTypes.GAMING_DEBUG_WEBRTCSTATS,a.$7);b=Date.now();if(b-a.$6<c("CloudGamingWebRTCStatsConfig").log_rtc_media_stats_interval_in_sec*1e3)return;var f=e&&e.audioRecvSsrc,g=e&&e.videoRecvSsrc;e=e&&e.activeCandidatePair;var h=a.$5;if(h==null)throw c("unrecoverableViolation")("must have initial timestamp","cloud_gaming_infra");f=d("CloudGamingWebRTCStatsUtil").logAudioSsrcStats(f,a.$7&&a.$7.audioRecvSsrc,h,a.$2,a.$3);g=d("CloudGamingWebRTCStatsUtil").logVideoSsrcStats(g,a.$7&&a.$7.videoRecvSsrc,h,a.$2,a.$3);e=d("CloudGamingWebRTCStatsUtil").logCandidatePairStats(e,a.$7&&a.$7.activeCandidatePair,h,a.$2,a.$3);a.$9={baseMediaAudio:f,baseMediaVideo:g,candidatePair:e};a.$6=b;e=(h=a.$7)==null?void 0:h.videoRecvSsrc;h=(b=a.$7)==null?void 0:b.audioRecvSsrc;h=new Map([["frame_rate_output",e==null?void 0:e.googFrameRateOutput],["frame_rate_received",e==null?void 0:e.googFrameRateReceived],["frame_rate_decoded",e==null?void 0:e.googFrameRateDecoded],["video_jitter_buffer",e==null?void 0:e.googJitterBufferMs],["video_current_delay",e==null?void 0:e.googCurrentDelayMs],["video_bytes_per_sec_recv",g==null?void 0:g.bytesReceivedPerSecond],["audio_jitter_buffer",h==null?void 0:h.googJitterBufferMs],["audio_current_delay",h==null?void 0:h.googCurrentDelayMs],["audio_bytes_per_sec_recv",f==null?void 0:f.bytesReceivedPerSecond],["rtt",(b=a.$7)==null?void 0:(g=b.activeCandidatePair)==null?void 0:g.googRttMs]]);f=d("CloudGamingWebRTCStatsUtil").estimateFramesDuration(e);c("CloudGamingEndSummary").processWebRtcStats(h,{freezeCount_100:e==null?void 0:e.freezeCount_100,freezeCount_1000:e==null?void 0:e.freezeCount_1000,freezeCount_180:e==null?void 0:e.freezeCount_180,freezeCount_500:e==null?void 0:e.freezeCount_500,totalFramesDuration:f})})["catch"]()};b.clear=function(){this.$1=null,this.$7=null,window.clearTimeout(this.$4)};b.getWebRTCStats=function(){return this.$7};return a}();e=new a();f=e;g["default"]=f}),98);
__d("CloudGamingWebRTCStatsLogging",["CloudGamingWebRTCStatsCache"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){switch(d.type){case"PEER_CONNECTION_CREATED":c("CloudGamingWebRTCStatsCache").clear();c("CloudGamingWebRTCStatsCache").logRTCConnection(b,a,d.connection);break;case"DISCONNECT":case"RESOURCE_CLOSED":c("CloudGamingWebRTCStatsCache").clear();break;default:break}}g["default"]=a}),98);
__d("CloudGamingCentralLogging",["CloudGamingDevLogging","CloudGamingLatencyLogging","CloudGamingSessionEventLogging","CloudGamingWebRTCStatsLogging"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h,i,j,k){window.setTimeout(function(){c("CloudGamingDevLogging")(h),c("CloudGamingLatencyLogging")(a,b,d,e,f,g,h,i,j,k),c("CloudGamingSessionEventLogging")(a,b,d,e,f,h,i,j,k),c("CloudGamingWebRTCStatsLogging")(a,b,h)},0)}g["default"]=a}),98);
__d("CloudGamingApertureLoggingMiddleware",["CloudGamingCentralLogging","CloudGamingSessionEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=!1;a=function(a,b,d,e,f,g,i,j,k){h=!1;return function(l,m,n){c("CloudGamingCentralLogging")(b,a,d,e,f,g,l,i,j,k);switch(l.type){case"CLIENT_TICK":if(h)return l;n().connection.phase==="live"&&(h=!0,c("CloudGamingSessionEventFalcoEvent").log(function(){return{app_id:a,client_app_id:d,client_app_version:e,cloud_game_id_override:f,entry_point:i,event:"TRANSITIONED_TO_LIVE",session_id:b,source:"JS"}}));break;case"CONNECTION_ERROR":l.code==="PEER_CONNECTION_CLOSED"&&c("CloudGamingSessionEventFalcoEvent").log(function(){return{app_id:a,client_app_id:d,client_app_version:e,cloud_game_id_override:f,entry_point:i,event:"PEER_CONNECTION_CLOSED",session_id:b,source:"JS"}});break;case"DISCONNECT":h=!1;break;default:break}return l}};g.runAction=a}),98);
__d("InstantGamesPassThroughRequestType",[],(function(a,b,c,d,e,f){a=Object.freeze({API_RESULT_COMPARATOR:"API_RESULT_COMPARATOR",APP_CUSTOM_EVENT:"APP_CUSTOM_EVENT",ASID:"ASID",CAMERA_LOAD_EFFECT:"CAMERA_LOAD_EFFECT",CAN_CREATE_CONTEXT:"CAN_CREATE_CONTEXT",CAN_CREATE_TOURNAMENT:"CAN_CREATE_TOURNAMENT",CAN_FOLLOW_PAGE:"CAN_FOLLOW_PAGE",CAN_GET_LIVE_STREAMS:"CAN_GET_LIVE_STREAMS",CAN_JOIN_GROUP:"CAN_JOIN_GROUP",CAN_JOIN_TOURNAMENT:"CAN_JOIN_TOURNAMENT",CAN_PLAYER_MATCH:"CAN_PLAYER_MATCH",CAN_SHARE_TOURNAMENT:"CAN_SHARE_TOURNAMENT",CAN_SWITCH_CONTEXT:"CAN_SWITCH_CONTEXT",CAN_SWITCH_NATIVE_GAME:"CAN_SWITCH_NATIVE_GAME",CAN_SWITCH_TO_SOLO_CONTEXT:"CAN_SWITCH_TO_SOLO_CONTEXT",CAN_USE_UNIFIED_SHARE_GENERIC_DIALOG:"can_use_unified_share_generic_dialog",COPLAY_CAN_LOAD_AR_EFFECT:"COPLAY_CAN_LOAD_AR_EFFECT",CREATE_EMBEDDED_VIDEO_PLAYER:"CREATE_EMBEDDED_VIDEO_PLAYER",CROSS_PLAY_TRACKING:"CROSS_PLAY_TRACKING",ECHO:"ECHO",ENTRYPOINT_DATA:"ENTRYPOINT_DATA",ERROR:"ERROR",FEATURE_AVAILABILITY:"FEATURE_AVAILABILITY",GET_ACCESS_TOKEN:"GET_ACCESS_TOKEN",GET_ARENAS:"GET_ARENAS",GET_CONNECTED_PLAYERS:"GET_CONNECTED_PLAYERS",GET_CONTEXT_PARTICIPANTS:"GET_CONTEXT_PARTICIPANTS",GET_DOES_CONTEXT_HAVE_FEEDBACK:"GET_DOES_CONTEXT_HAVE_FEEDBACK",GET_ENTRY_POINT:"GET_ENTRY_POINT",GET_ENTRY_POINT_VIDEO_ID:"GET_ENTRY_POINT_VIDEO_ID",GET_ENTRY_POINT_VIDEO_ID_ASYNC:"GET_ENTRY_POINT_VIDEO_ID_ASYNC",GET_GAMING_ARENA_PLUGIN_DATA:"GET_GAMING_ARENA_PLUGIN_DATA",GET_GAMING_SQUAD:"GET_GAMING_SQUAD",GET_GIANT_BOMB_DATA:"GET_GIANT_BOMB_DATA",GET_IS_CONTEXT_DISCOVERABLE:"GET_IS_CONTEXT_DISCOVERABLE",GET_IS_CONTEXT_PUBLIC:"GET_IS_CONTEXT_PUBLIC",GET_LIVE_MATCH_INFO:"GET_LIVE_MATCH_INFO",GET_LIVE_STREAMS:"GET_LIVE_STREAMS",GET_PLAYER_GAMING_SQUADS:"GET_PLAYER_GAMING_SQUADS",GET_PLAYER_STATS:"GET_PLAYER_STATS",GET_STREAMER_SCHEDULE_DATA:"GET_STREAMER_SCHEDULE_DATA",GET_TOURNAMENT_INFO:"GET_TOURNAMENT_INFO",GET_TOURNAMENTS:"GET_TOURNAMENTS",GET_USER_UNLOCKED_ACHIEVEMENTS:"GET_USER_UNLOCKED_ACHIEVEMENTS",HEARTBEAT:"HEARTBEAT",HIGH_AD_RATE:"HIGH_AD_RATE",INCREMENT_PLAYER_STATS:"INCREMENT_PLAYER_STATS",JOIN_ROOM:"JOIN_ROOM",LEADERBOARD_FETCH:"LEADERBOARD_FETCH",LEADERBOARD_OPERATION:"LEADERBOARD_OPERATION",LEADERBOARD_UPDATE:"LEADERBOARD_UPDATE",LOG_PLUGIN_CUSTOM_EVENT:"LOG_PLUGIN_CUSTOM_EVENT",OFF_PLATFORM_CONTEXT_UPDATE:"OFF_PLATFORM_CONTEXT_UPDATE",PAYMENTS_CANCEL_SUBSCRIPTION:"PAYMENTS_CANCEL_SUBSCRIPTION",PAYMENTS_FETCH_SUBSCRIPTIONS:"PAYMENTS_FETCH_SUBSCRIPTIONS",PLATFORM_INIT:"PLATFORM_INIT",PLAYER_CAN_SUBSCRIBE_GAME_BOT:"PLAYER_CAN_SUBSCRIBE_GAME_BOT",PLAYER_IS_SUBSCRIBED_GAME_BOT:"PLAYER_IS_SUBSCRIBED_GAME_BOT",POST_SESSION_SCORE:"POST_SESSION_SCORE",POST_TOURNAMENT_SCORE:"POST_TOURNAMENT_SCORE",POST_USER_ACHIEVEMENT:"POST_USER_ACHIEVEMENT",QE_LOG_EXPOSURE:"QE_LOG_EXPOSURE",QE_PARAM_NO_EXPOSURE_FETCH:"QE_PARAM_NO_EXPOSURE_FETCH",RECORD_CAN_CREATE_SHORTCUT:"RECORD_CAN_CREATE_SHORTCUT",RECORD_GET_CONTEXT_INFO:"RECORD_GET_CONTEXT_INFO",RECORD_GET_ENTRYPOINT_DATA:"RECORD_GET_ENTRYPOINT_DATA",RECORD_GET_PLATFORM:"RECORD_GET_PLATFORM",RECORD_GET_PLAYER_ID:"RECORD_GET_PLAYER_ID",RECORD_GET_SDK_VERSION:"RECORD_GET_SDK_VERSION",RECORD_LIVE_VIDEO_COMMENT_VIEW_GET_DISPLAY_RECT:"RECORD_LIVE_VIDEO_COMMENT_VIEW_GET_DISPLAY_RECT",RECORD_LIVE_VIDEO_COMMENT_VIEW_GET_STATE:"RECORD_LIVE_VIDEO_COMMENT_VIEW_GET_STATE",RECORD_LOAD_CAMERA_EFFECT:"RECORD_LOAD_CAMERA_EFFECT",RECORD_LOG_EVENT:"RECORD_LOG_EVENT",RECORD_MATCH_PLAYER_ASYNC_PROMISE_RESULT:"RECORD_MATCH_PLAYER_ASYNC_PROMISE_RESULT",RECORD_SCREENSHOT_PROVIDER:"RECORD_SCREENSHOT_PROVIDER",RECORD_SET_SESSION_DATA:"RECORD_SET_SESSION_DATA",RECORD_SUBSCRIBE_BOT_ASYNC_DIALOG:"RECORD_SUBSCRIBE_BOT_ASYNC_DIALOG",RECORD_SWITCH_GAME_ASYNC_DIALOG:"RECORD_SWITCH_GAME_ASYNC_DIALOG",RECORD_SWITCH_NATIVE_GAME_ASYNC_DIALOG:"RECORD_SWITCH_NATIVE_GAME_ASYNC_DIALOG",RECORD_VIDEO_PLAYER_CREATE:"RECORD_VIDEO_PLAYER_CREATE",RECORD_VIDEO_PLAYER_GET_ORIGINAL_DIMENSIONS:"RECORD_VIDEO_PLAYER_GET_ORIGINAL_DIMENSIONS",SAVE_HIGHLIGHT:"SAVE_HIGHLIGHT",SDK_EVENT:"SDK_EVENT",SET_PLAYER_STATS:"SET_PLAYER_STATS",STORE_SENDER_INFO:"STORE_SENDER_INFO",SWITCH_GAME:"SWITCH_GAME",UPDATE:"UPDATE"});f["default"]=a}),66);
__d("fbinstant/common/adType",[],(function(a,b,c,d,e,f){"use strict";a={INTERSTITIAL:"INTERSTITIAL",REWARDED_VIDEO:"REWARDED_VIDEO",REWARDED_INTERSTITIAL:"REWARDED_INTERSTITIAL"};f["default"]=a}),66);
__d("fbinstant/common/rateLimiter",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){var c=this;this.$4=function(){c.$1=0};this.$2=a;this.$1=0;b!=null&&(this.$3=window.setInterval(this.$4,b))}var b=a.prototype;b.check=function(){return this.$1<this.$2};b.bump=function(){if(this.check()){this.$1+=1;return!0}return!1};return a}();f["default"]=a}),66);
__d("fbinstant/common/adLimiter",["InstantGamesPassThroughRequestType","fbinstant/common/adType","fbinstant/common/rateLimiter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(b){this.$2=b;this.$1=(b={},b[c("fbinstant/common/adType").INTERSTITIAL]=new(c("fbinstant/common/rateLimiter"))(a.RATE_LIMIT_AMOUNT,a.RATE_LIMIT_PERIOD),b[c("fbinstant/common/adType").REWARDED_VIDEO]=new(c("fbinstant/common/rateLimiter"))(a.RATE_LIMIT_AMOUNT,a.RATE_LIMIT_PERIOD),b[c("fbinstant/common/adType").REWARDED_INTERSTITIAL]=new(c("fbinstant/common/rateLimiter"))(a.RATE_LIMIT_AMOUNT,a.RATE_LIMIT_PERIOD),b)}var b=a.prototype;b.canShowAd=function(a){var b=this.$3(a);b&&this.$2.sendPassThroughAsync(c("InstantGamesPassThroughRequestType").HIGH_AD_RATE,{});return a===c("fbinstant/common/adType").REWARDED_VIDEO||a===c("fbinstant/common/adType").REWARDED_INTERSTITIAL?!0:!b};b.markAdShown=function(a){this.$1[a]&&this.$1[a].bump()};b.$3=function(a){return this.$1[a]?!this.$1[a].check():!1};return a}();a.RATE_LIMIT_AMOUNT=1;a.RATE_LIMIT_PERIOD=3e4;g["default"]=a}),98);
__d("fbinstant/common/errorCode",["InstantGamesErrorCode"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("InstantGamesErrorCode")}),98);
__d("fbinstant/common/getUrlParam",[],(function(a,b,c,d,e,f){"use strict";var g=window.location.href;a=function(a){try{var b=g.split("?");if(b.length<2)return null;b=b[1].split("&");for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e=e.split("=");if(e.length>1&&e[0]===a)return e[1]}return null}catch(a){return null}};b=a;f["default"]=b}),66);
__d("fbinstant/common/postEvent",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c=new XMLHttpRequest();c.open("POST",a);c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.send(b.toQueryString())};b=a;f["default"]=b}),66);
__d("fbinstant/common/analytics",["AppEventField","FBEventsParamList","fbinstant/common/errorCode","fbinstant/common/getUrlParam","fbinstant/common/postEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1="WAITING",this.$5=[],this.$2=null,this.$3=/^apps-(\d+)\..*\.fbsbx\.com$/i}var b=a.prototype;b.init=function(a,b){this.$2=a;this.$4=b;this.$6=this.$7();this.$2==null&&(this.$2=this.$8());if(this.$2==null){this.$1="FAILED";return}this.$9();this.$1="DONE"};b.logEvent=function(a,b,d){a={eventName:a,valueToSum:b,parameters:d};if(this.$1==="WAITING"){this.$5.push(a);return null}else if(this.$1==="DONE")return this.$10([a]);else return{code:c("fbinstant/common/errorCode").ANALYTICS_POST_EXCEPTION,message:"Failed to log analytics event"}};b.logAPICall=function(a){return null};b.logBeginAsyncAPICall=function(a){return this.logAPICall(a)};b.logResolveAsyncAPICall=function(a){return this.logAPICall(a)};b.logRejectAsyncAPICall=function(a,b){return this.logAPICall(a)};b.$11=function(){return this.$2==null?null:"https://graph.facebook.com/"+this.$2+"/activities"};b.$12=function(a){var b=babelHelpers["extends"]({},a.parameters,{app_id:this.$2});this.$6!=null&&(b[c("AppEventField").APP_VERSION]=this.$6);b[c("AppEventField").EVENT_NAME]=a.eventName;b[c("AppEventField").VALUE_TO_SUM]=a.valueToSum;return JSON.stringify(b)};b.$10=function(a){var b=this;if(this.$2==null)return{code:c("fbinstant/common/errorCode").ANALYTICS_POST_EXCEPTION,message:"Analytics failed to resolve the application ID."};try{a=a.map(function(a){return b.$12(a)});var d=new(c("FBEventsParamList"))();d.append("event","CUSTOM_APP_EVENTS");d.append("extinfo",["ig1"]);d.append("user_id",this.$4);d.append("user_id_type","INSTANT_GAMES_PLAYER_ID");d.append("advertiser_tracking_enabled",1);d.append("application_tracking_enabled",1);d.append("data_processing_options","[]");d.append("custom_events",a);a=this.$11();if(a==null)return{code:c("fbinstant/common/errorCode").ANALYTICS_POST_EXCEPTION,message:"Unable to use the analytics endpoint"};c("fbinstant/common/postEvent")(a,d)}catch(a){return{code:c("fbinstant/common/errorCode").ANALYTICS_POST_EXCEPTION,message:a.message}}return null};b.$9=function(){if(this.$5.length===0)return null;this.$10(this.$5);this.$5=[]};b.$8=function(){var a=window.location.hostname;if(a){a=this.$3.exec(a);if(a&&a.length&&a.length>1&&a[1])return a[1]}return null};b.$7=function(){var a=c("fbinstant/common/getUrlParam")("version");return a==null?null:parseInt(a,10)||null};return a}();g["default"]=a}),98);
__d("fbinstant/common/contextType",[],(function(a,b,c,d,e,f){"use strict";a={GENERIC:"GENERIC",GROUP:"GROUP",POST:"POST",SOLO:"SOLO",THREAD:"THREAD",LINK:"LINK"};f["default"]=a}),66);
__d("fbinstant/common/event",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){var a=this;this.triggerSubscribers=function(b){var c=a.$1.slice();for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f(b)}};this.$1=[]}var b=a.prototype;b.on=function(a){this.$1.push(a)};b.off=function(a){var b=this.$1.length;for(var c=0;c<b;c++)if(this.$1[c]===a){this.$1.splice(c,1);return}};b.unbind=function(){this.$1=[]};return a}();f["default"]=a}),66);
__d("fbinstant/common/gameContext",["fbinstant/common/contextType"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$4=null;var b=a.id,d=a.type;a=a.size;if(!b||!d){this.$1=null;this.$2=null;this.$3=c("fbinstant/common/contextType").SOLO;return}d===c("fbinstant/common/contextType").SOLO?this.$3=c("fbinstant/common/contextType").THREAD:d===c("fbinstant/common/contextType").LINK?this.$3=c("fbinstant/common/contextType").THREAD:d===c("fbinstant/common/contextType").GENERIC?this.$3=c("fbinstant/common/contextType").THREAD:this.$3=d;this.$1=b.toString();this.$2=a||null}var b=a.prototype;b.getID=function(){return this.$1};b.getType=function(){return this.$3};b.getSize=function(){return this.$2};b.getContextSizeResponse=function(){return this.$4};b.setContextSizeResponse=function(a){this.$4=a};return a}();g["default"]=a}),98);
__d("fbinstant/common/supportedFeaturesManager",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.setSupported=function(a){this.$1=new Set(a)};b.isSupported=function(a){return this.$1.has(a)?!0:!1};return a}();b=new a();f["default"]=b}),66);
__d("InstantGamesSDKMessages",[],(function(a,b,c,d,e,f){a=Object.freeze({AD_CLICK:"adclick",ANALYTICS_LOG_EVENT:"analyticslogevent",AUTHORIZE_ASYNC:"authorizeasync",AVERAGE_FRAME_TIME:"averageframetime",CAMERA_LOAD_EFFECT_ASYNC:"cameraloadeffectasync",CAMERA_SHOW_EFFECT_ASYNC:"camerashoweffectasync",CAN_CREATE_SHORTCUT_ASYNC:"cancreateshortcutasync",CG_CONNECTION_ERROR:"cloudgamingconnectionerror",CG_RETRY:"cgretry",CHANGE_CONTEXT_ASYNC:"changecontextasync",CONTEXT_ADD_PLAYER_ASYNC:"contextaddplayerasync",CONTEXT_CHOOSE_ASYNC:"contextchooseasync",CONTEXT_CREATE_ASYNC:"contextcreateasync",CONTEXT_MATCH_CREATE_ASYNC:"contextmatchcreateasync",CONTEXT_MATCH_DATA_FETCH_ASYNC:"contextmatchdatafetchasync",CONTEXT_MATCH_DATA_INC_ASYNC:"contextmatchdataincasync",CONTEXT_MATCH_DATA_SAVE_ASYNC:"contextmatchdatasaveasync",CONTEXT_MATCH_END_ASYNC:"contextmatchendasync",CONTEXT_MATCH_FETCH_ASYNC:"contextmatchfetchasync",CONTEXT_PLAYERS_FETCH_ASYNC:"contextplayersfetchasync",CONTEXT_SWITCH_ASYNC:"contextswitchasync",COPLAY_CLEAR_EFFECT_ASYNC:"coplaycleareffectasync",COPLAY_LOAD_EFFECT_ASYNC:"coplayloadeffectasync",COPLAY_SHOW_EFFECT_ASYNC:"coplayshoweffectasync",CREATE_BOTTOM_SHEET_ASYNC:"createbottomsheetasync",CREATE_CHAT_MESSAGE_ASYNC:"createchatmessageasync",CREATE_CONTEXT_CARD_ASYNC:"createcontextcardasync",CREATE_LIVE_PRODUCER_EXTRA_CONTENT_ASYNC:"createliveproducerextracontentasync",CREATE_PLAYER_TAB_ASYNC:"createplayertabasync",CREATE_SHORTCUT_ASYNC:"createshortcutasync",CREATE_SPLITSCREEN_BOTTOM_SHEET_ASYNC:"createsplitscreenbottomsheetasync",DISMISS_BOTTOM_SHEET_ASYNC:"dismissbottomsheetasync",DISMISS_SPLITSCREEN_BOTTOM_SHEET_ASYNC:"dismisssplitscreenbottomsheetasync",DVR_CLIP_REQUESTED:"dvrcliprequested",DVR_CLIP_RESULT:"dvrclipresult",FBGCOMPONENT_REPLACE:"fbgcomponentreplace",FLUSH_PLAYER_DATA_ASYNC:"flushplayerdataasync",GAME_START:"gamestart",GAME_SWITCH:"gameswitch",GAME_SWITCH_NATIVE:"gameswitchnative",GAME_TOS:"gametos",GAME_YIELD:"gameyield",GESTURE_COMMAND:"gesturecommand",GET_CLIPBOARD_TEXT_ASYNC:"getclipboardtextasync",GET_CONNECTED_PLAYERS_ASYNC:"getconnectedplayersasync",GET_ENTRY_POINT_VIDEO_ID:"getentrypointvideoid",GET_ENTRY_POINT_VIDEO_ID_ASYNC:"getentrypointvideoidasync",GET_INTERSTITIAL_AD_ASYNC:"getinterstitialadasync",GET_PLAYER_DATA_ASYNC:"getplayerdataasync",GET_REWARDED_INTERSTITIAL_ASYNC:"getrewardedinterstitialasync",GET_REWARDED_VIDEO_ASYNC:"getrewardedvideoasync",GET_SIGNED_PLAYER_INFO_ASYNC:"getsignedplayerinfoasync",HIDE_BANNER_AD_ASYNC:"hidebanneradasync",INITIALIZE_ASYNC:"initializeasync",INVENTORY_UNLOCK_ITEM_ASYNC:"inventoryunlockitemasync",INVOKE_FBGCOMPONENT_CALLBACK:"invokefbgcomponentcallback",LIVE_VIDEO_COMMENT_VIEW_CREATE_ASYNC:"livevideocommentviewcreateasync",LIVE_VIDEO_COMMENT_VIEW_DESTROY:"livevideocommentviewdestroy",LIVE_VIDEO_COMMENT_VIEW_GET_DISPLAY_RECT_ASYNC:"livevideocommentviewgetdisplayrectasync",LIVE_VIDEO_COMMENT_VIEW_GET_STATE_ASYNC:"livevideocommentviewgetstateasync",LIVE_VIDEO_COMMENT_VIEW_SET_STATE:"livevideocommentviewsetstate",LOAD_AD_ASYNC:"loadadasync",LOAD_BANNER_AD_ASYNC:"loadbanneradasync",MATCH_PLAYER_ASYNC:"matchplayerasync",MEDIA_SEND_IMAGE_ASYNC:"mediasendimageasync",ON_BEGIN_LOAD:"onbeginload",ON_CONSOLE:"onconsole",ON_END_GAME:"onendgame",ON_FRAME_DROP:"onframedrop",ON_GAME_READY:"ongameready",ON_PICTURE:"onpicture",ON_PROGRESS_LOAD:"onprogressload",ON_SCORE:"onscore",ON_SCREENSHOT:"onscreenshot",OPEN_URL_ASYNC:"openurlasync",PAUSE:"pause",PAYMENTS_CANCEL_SUBSCRIPTION_ASYNC:"paymentscancelsubscriptionasync",PAYMENTS_CONSUME_PURCHASE_ASYNC:"paymentsconsumepurchaseasync",PAYMENTS_FETCH_CATALOG_ASYNC:"paymentsfetchcatalogasync",PAYMENTS_FETCH_PURCHASES_ASYNC:"paymentsfetchpurchasesasync",PAYMENTS_FETCH_SUBSCRIBABLE_CATALOG_ASYNC:"paymentsfetchsubscribablecatalogasync",PAYMENTS_FETCH_SUBSCRIPTIONS_ASYNC:"paymentsfetchsubscriptionsasync",PAYMENTS_INITIALIZED:"paymentsinitialized",PAYMENTS_PURCHASE_ASYNC:"paymentspurchaseasync",PAYMENTS_PURCHASE_SUBSCRIPTION_ASYNC:"paymentspurchasesubscriptionasync",PAYMENTS_RESTORE_PURCHASES_ASYNC:"paymentsrestorepurchasesasync",PERFORM_HAPTIC_FEEDBACK_ASYNC:"performhapticfeedbackasync",PLUGIN_EVENT_UPDATE_SUBSCRIPTION_ASYNC:"plugineventupdatesubscriptionasync",PLUGIN_GAME_BOTTOM_SHEET_CREATE_ASYNC:"plugingamebottomsheetcreateasync",PLUGIN_GAME_BOTTOM_SHEET_DISMISS_ASYNC:"plugingamebottomsheetdismissasync",PLUGIN_GAME_BOTTOM_SHEET_ON_DISMISSED:"plugingamebottomsheetondismissed",PLUGIN_GAME_BOTTOM_SHEET_ON_MESSAGE_RECEIVED:"plugingamebottomsheetonmessagereceived",PLUGIN_GAME_BOTTOM_SHEET_SEND_MESSAGE_ASYNC:"plugingamebottomsheetsendmessageasync",QUIT:"quit",REALTIME_RECEIVE_MESSAGE:"realtimereceivemessage",REALTIME_RECEIVE_STATE_UPDATE:"realtimereceivestateupdate",REALTIME_SEND_MESSAGE:"realtimesendmessage",REALTIME_SEND_STATE_UPDATE:"realtimesendstateupdate",REGISTER_SCREENSHOT_PROVIDER:"registerscreenshotprovider",REJECT_PROMISE:"rejectpromise",REQUEST_SCREENSHOT:"requestscreenshot",REQUEST_STAR_SEND_ASYNC:"requeststarsendasync",RESOLVE_PROMISE:"resolvepromise",RESTART:"restart",RESUME:"resume",SELECT_PLAYER_TAB_ASYNC:"selectplayertabasync",SEND_PASS_THROUGH_ASYNC:"sendpassthroughasync",SET_CLIPBOARD_TEXT_ASYNC:"setclipboardtextasync",SET_PLAYER_DATA_ASYNC:"setplayerdataasync",SET_SESSION_DATA:"setsessiondata",SHARE_ASYNC:"shareasync",SHOW_AD_ASYNC:"showadasync",SHOW_GENERIC_DIALOG_ASYNC:"showgenericdialogasync",SHOW_GENERIC_DIALOG_ASYNC_IOS:"showgenericdialogasync-ios",SHOW_TOAST_ASYNC:"showtoastasync",SUBSCRIBE_BOT_ASYNC:"subscribebotasync",VIDEO_PLAYER_CREATE_ASYNC:"videoplayercreateasync",VIDEO_PLAYER_GET_INSTANCES_ASYNC:"videoplayergetinstancesasync",VIDEO_PLAYER_INSTANCE_DESTROY:"videoplayerinstancedestroy",VIDEO_PLAYER_INSTANCE_GET_ORIGINAL_DIMENSIONS_ASYNC:"videoplayerinstancegetoriginaldimensionsasync",VIDEO_PLAYER_INSTANCE_GET_STATE_ASYNC:"videoplayerinstancegetstateasync",VIDEO_PLAYER_INSTANCE_JUMP_TO_END:"videoplayerinstancejumptoend",VIDEO_PLAYER_INSTANCE_JUMP_TO_TIMESTAMP:"videoplayerinstancejumptotimestamp",VIDEO_PLAYER_INSTANCE_SET_STATE:"videoplayerinstancesetstate",VIDEO_PLAYER_INSTANCE_TIMESTAMP_UPDATE:"videoplayerinstancetimestampupdate"});f["default"]=a}),66);
__d("fbinstant/common/supportedMessagesManager",["InstantGamesSDKMessages"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set([c("InstantGamesSDKMessages").INITIALIZE_ASYNC,c("InstantGamesSDKMessages").ON_BEGIN_LOAD,c("InstantGamesSDKMessages").ON_CONSOLE,c("InstantGamesSDKMessages").ON_PROGRESS_LOAD,c("InstantGamesSDKMessages").ON_GAME_READY,c("InstantGamesSDKMessages").ON_SCORE,c("InstantGamesSDKMessages").ON_SCREENSHOT,c("InstantGamesSDKMessages").ON_PICTURE,c("InstantGamesSDKMessages").ON_END_GAME,c("InstantGamesSDKMessages").GET_PLAYER_DATA_ASYNC,c("InstantGamesSDKMessages").SET_PLAYER_DATA_ASYNC,c("InstantGamesSDKMessages").CG_RETRY,c("InstantGamesSDKMessages").SET_CLIPBOARD_TEXT_ASYNC,c("InstantGamesSDKMessages").GET_CLIPBOARD_TEXT_ASYNC]);a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.setSupported=function(a){this.$1=new Set(a)};b.isSupported=function(a){return h.has(a)?!0:this.$1.has(a)};return a}();b=new a();g["default"]=b}),98);
__d("fbinstant/releases/samus/entryPoint.samus",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$2=a,this.$1=b}var b=a.prototype;b.getData=function(){return this.$1};b.getSource=function(){return this.$2};return a}();e.exports=a}),null);
__d("fbinstant/common/eventBatcher",[],(function(a,b,c,d,e,f){"use strict";var g=5e3;a=function(){function a(a){var b=this;this.$4=function(){b.$3(b.$2),b.$2=[]};this.$3=a;this.$2=[];this.$1=null}var b=a.prototype;b.startInterval=function(a){a===void 0&&(a=g),this.$1!==null&&this.stopInterval(),this.$1=window.setInterval(this.$4,a)};b.stopInterval=function(){if(!this.$1)return;window.clearInterval(this.$1);this.$1=null};b.logEvent=function(a){this.$2.push(a)};return a}();f["default"]=a}),66);
__d("fbinstant/releases/samus/internalEventLogger.samus",["fbinstant/common/eventBatcher"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){var a=this;this.$3=function(b){var c=a.$2;if(b.length<=0||!c)return;b=a.$4(b);c.sendPassThroughAsync("SDK_EVENT",{events:b})};this.$1=new(b("fbinstant/common/eventBatcher"))(this.$3)}var c=a.prototype;c.initialize=function(a){this.$2=a,this.$1.startInterval()};c.logEvent=function(a,b,c){this.$1.logEvent({type:a,data:babelHelpers["extends"]({},c,{contextID:b.getContext().getID()})})};c.$4=function(a){var b={};for(var c=0;c<a.length;c++){var d=a[c];Object.prototype.hasOwnProperty.call(b,d.data.key)||(b[d.data.key]=babelHelpers["extends"]({},d),b[d.data.key].data.count=0);b[d.data.key].data.count+=1}d=[];for(c in b)d.push(b[c]);return d};return a}();e.exports=a}),null);
__d("fbinstant/common/apiError",["fbinstant/common/errorCode"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){this.code=a.code||c("fbinstant/common/errorCode").UNKNOWN,this.message=a.message,this.code===c("fbinstant/common/errorCode").CLIENT_REQUIRES_UPDATE&&(this.code=c("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION)};g["default"]=a}),98);
__d("fbinstant/common/messageLocksMap",["InstantGamesSDKMessages"],(function(a,b,c,d,e,f,g){"use strict";a=[c("InstantGamesSDKMessages").CONTEXT_CHOOSE_ASYNC,c("InstantGamesSDKMessages").CONTEXT_CREATE_ASYNC,c("InstantGamesSDKMessages").CONTEXT_SWITCH_ASYNC,c("InstantGamesSDKMessages").CREATE_SHORTCUT_ASYNC,c("InstantGamesSDKMessages").SHARE_ASYNC,c("InstantGamesSDKMessages").SHOW_AD_ASYNC,c("InstantGamesSDKMessages").SHOW_GENERIC_DIALOG_ASYNC,c("InstantGamesSDKMessages").SHOW_GENERIC_DIALOG_ASYNC_IOS,c("InstantGamesSDKMessages").SHARE_ASYNC];b=[c("InstantGamesSDKMessages").FLUSH_PLAYER_DATA_ASYNC,c("InstantGamesSDKMessages").SET_PLAYER_DATA_ASYNC];d={};for(e=0;e<a.length;e++){f=a[e];d[f]=a}d[c("InstantGamesSDKMessages").FLUSH_PLAYER_DATA_ASYNC]=b;d[c("InstantGamesSDKMessages").CONTEXT_MATCH_CREATE_ASYNC]=[c("InstantGamesSDKMessages").CONTEXT_MATCH_CREATE_ASYNC];f=d;g["default"]=f}),98);
__d("fbinstant/common/exclusiveMessageManager",["invariant","InstantGamesErrorCode","fbinstant/common/messageLocksMap"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.isLocked=function(a){return this.$1.has(a)};b.lockOrThrow=function(a){if(this.isLocked(a)){var b=this.$1.get(a);return this.$2(String(b))}b=c("fbinstant/common/messageLocksMap")[a];if(!b)return Promise.resolve();for(var d=b,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(this.$1.has(g)){g=this.$1.get(g);g!==void 0||h(0,1560);return this.$2(g)}}for(g=b,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}b=d;this.$1.set(b,a)}return Promise.resolve()};b.release=function(a){a=c("fbinstant/common/messageLocksMap")[a];if(!a)return;for(var a=a,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.$1["delete"](e)}};b.reset_TESTINGONLY=function(){this.$1=new Map()};b.$2=function(a){return Promise.reject({code:c("InstantGamesErrorCode").PENDING_REQUEST,message:"There is currently a pending request for locking message: "+a})};return a}();b=new a();g["default"]=b}),98);
__d("fbinstant/common/platform",[],(function(a,b,c,d,e,f){"use strict";a={IOS:"IOS",ANDROID:"ANDROID",WEB:"WEB",MOBILE_WEB:"MOBILE_WEB"};f["default"]=a}),66);
__d("fbinstant/common/platformUtils",["fbinstant/common/platform"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(window.IsQuicksilverReactNativeIOS||window.webkit)return c("fbinstant/common/platform").IOS;else if(window.IsQuicksilverReactNativeAndroid||window.QuicksilverAndroid)return c("fbinstant/common/platform").ANDROID;else if(window.IsMobileWeb)return c("fbinstant/common/platform").MOBILE_WEB;else return c("fbinstant/common/platform").WEB}b={getPlatform:a};g["default"]=b}),98);
__d("fbinstant/releases/samus/messageSender.samus",["Alea","InstantGamesSDKMessages","Promise","fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/event","fbinstant/common/exclusiveMessageManager","fbinstant/common/platform","fbinstant/common/platformUtils","fbinstant/common/supportedMessagesManager"],(function(a,b,c,d,e,f){"use strict";var g=b("Alea")(),h=4294967296;a=function(){function a(a){this.$4=a,this.$1={},this.$2=new(b("fbinstant/common/event"))(),this.$3=new(b("fbinstant/common/event"))()}var c=a.prototype;c.initialize=function(a){var b=this;this.$6=a.source;this.$5=a.sender;this.$2.on(function(a){b.$7(a,!0)});this.$3.on(function(a){b.$7(a,!1)});a=new RegExp("[?&]IsMobileWeb(=([^&#]*)|&|#|$)","i");a=a.exec(window.location.href);if(!a||!a[2])return;window.IsMobileWeb=parseInt(a[2],10)===1};c.getResolvePromiseEvent=function(){return this.$2};c.getRejectPromiseEvent=function(){return this.$3};c.send=function(a,c){if(!this.$6||!this.$5||!b("fbinstant/common/supportedMessagesManager").isSupported(a))return;this.$5.postMessage(this.$8({type:a,content:c,destination:this.$6}),"*")};c.sendAsync=function(a,c){var d=this;return!b("fbinstant/common/supportedMessagesManager").isSupported(a)?b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION,message:"Client does not support the message: "+a})):b("fbinstant/common/exclusiveMessageManager").lockOrThrow(a).then(function(){return d.$9(a,c).then(function(c){b("fbinstant/common/exclusiveMessageManager").release(a);return c})["catch"](function(c){b("fbinstant/common/exclusiveMessageManager").release(a);throw c})})["catch"](function(a){throw new(b("fbinstant/common/apiError"))(a)})};c.showGenericDialogAsync=function(a,c){c=JSON.stringify(c||{});c={data:c,request:a,sdkVersion:this.$4};a=b("fbinstant/common/platformUtils").getPlatform()===b("fbinstant/common/platform").IOS?b("InstantGamesSDKMessages").SHOW_GENERIC_DIALOG_ASYNC_IOS:b("InstantGamesSDKMessages").SHOW_GENERIC_DIALOG_ASYNC;return this.sendAsync(a,c).then(function(a){if(!a)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").UNKNOWN,message:"No response data provided"}));return a.errorCode?b("Promise").reject(new(b("fbinstant/common/apiError"))({code:a.errorCode,message:a.errorMessage||""})):a})};c.sendPassThroughAsync=function(a,c){c=JSON.stringify(c||{});c={data:c,request:a,sdkVersion:this.$4};return this.sendAsync(b("InstantGamesSDKMessages").SEND_PASS_THROUGH_ASYNC,c).then(function(a){if(!a)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").UNKNOWN,message:"No response data provided"}));a=JSON.parse(a);var c=a.data,d=a.errorCode;a=a.errorMessage;return d?b("Promise").reject(new(b("fbinstant/common/apiError"))({code:d,message:a||""})):c})};c.$8=function(a){switch(this.$6){case"Android":case"quicksilver-rn":return JSON.stringify(a)}return a};c.$10=function(a){return a+"_"+Math.floor(g()*h)};c.$11=function(a,b,c){this.$1[a]={resolve:b,reject:c}};c.$7=function(a,c){var d=a.promiseID;if(!d||!this.$1[d])return;var e=this.$1[d];if(c&&e.resolve)e.resolve(a.data);else if(!c&&e.reject){c=a.data;!c?c=new(b("fbinstant/common/apiError"))({message:""}):c=new(b("fbinstant/common/apiError"))({code:c.code||b("fbinstant/common/errorCode").UNKNOWN,message:c.message||""});e.reject(c)}delete this.$1[d]};c.$9=function(a,c){var d=this;return new(b("Promise"))(function(b,e){var f=d.$10(a);d.$11(f,b,e);b=c||{};b.promiseID=f;d.send(a,b)})};return a}();e.exports=a}),null);
__d("fbinstant/releases/samus/paymentsState.samus",["Promise","fbinstant/common/event"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){var a=this;this.$3=!1;this.$1=new(b("fbinstant/common/event"))();this.$2=new(b("Promise"))(function(b,c){a.$1.on(function(){a.$3=!0,b(),a.$1.unbind()})})}var c=a.prototype;c.getPaymentsInitializedEvent=function(){return this.$1};c.isClientReady=function(){return this.$3};c.onInitialized=function(a){this.$2.then(a)};return a}();e.exports=a}),null);
__d("fbinstant/releases/samus/internalStates.samus",["InstantGamesGameState","fbinstant/common/adLimiter","fbinstant/common/analytics","fbinstant/common/contextType","fbinstant/common/event","fbinstant/common/gameContext","fbinstant/common/supportedFeaturesManager","fbinstant/common/supportedMessagesManager","fbinstant/releases/samus/entryPoint.samus","fbinstant/releases/samus/internalEventLogger.samus","fbinstant/releases/samus/messageSender.samus","fbinstant/releases/samus/paymentsState.samus"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$27="fbinstant.samus".substring("fbinstant.".length),this.$16=new(c("fbinstant/releases/samus/messageSender.samus"))(this.$27),this.$1=new(c("fbinstant/common/adLimiter"))(this.$16),this.$2=new(c("fbinstant/common/analytics"))(),this.$3=new(c("fbinstant/common/event"))(),this.$4=null,this.$5=null,this.$6=new(c("fbinstant/common/gameContext"))({type:c("fbinstant/common/contextType").SOLO}),this.$7=0,this.$8=new(c("fbinstant/releases/samus/entryPoint.samus"))(null,null),this.$9=d("InstantGamesGameState").LOADING,this.$10=new(c("fbinstant/common/event"))(),this.$11=new(c("fbinstant/common/event"))(),this.$12=!1,this.$13=new(c("fbinstant/releases/samus/internalEventLogger.samus"))(),this.$14=null,this.$15=null,this.$17=new(c("fbinstant/common/event"))(),this.$20=new(c("fbinstant/releases/samus/paymentsState.samus"))(),this.$21=null,this.$22=null,this.$23=null,this.$24=null,this.$18=new(c("fbinstant/common/event"))(),this.$19=new(c("fbinstant/common/event"))(),this.$25=new(c("fbinstant/common/event"))(),this.$26=new(c("fbinstant/common/event"))(),this.$28=!1}var b=a.prototype;b.initialize=function(a){var b=this;a.appID&&this.setAppID(a.appID);a.supportedMessages&&Array.isArray(a.supportedMessages)&&c("fbinstant/common/supportedMessagesManager").setSupported(a.supportedMessages);a.supportedFeatures&&Array.isArray(a.supportedFeatures)&&c("fbinstant/common/supportedFeaturesManager").setSupported(a.supportedFeatures);var d=null;if(a.entryPointData)try{var e=JSON.parse(a.entryPointData);e.sender&&e.data?d=e.data:d=e}catch(a){}e=a.entryPoint||null;this.updateEntryPoint(new(c("fbinstant/releases/samus/entryPoint.samus"))(e,d));this.updateContext(a);this.setInitialized();this.getAnalytics().init(this.getAppID(),a.playerID);this.getAnalyticsLogEvent().on(function(a){var c=a.eventName,d=a.valueToSum;a=a.parameters;if(!c)return;b.getAnalytics().logEvent(c,d!=null?d:null,a||null)});this.getInternalEventLogger().initialize(this.getMessageSender())};b.updateContext=function(a){if(!a.contextType)return;this.$6=new(c("fbinstant/common/gameContext"))({id:a.contextID,size:a.contextSize,type:a.contextType.toUpperCase()});this.getMessageSender().sendPassThroughAsync("CROSS_PLAY_TRACKING",{context_token_id:this.getContext().getID()})};b.updateEntryPoint=function(a){this.$8=a};b.setAppID=function(a){this.$4=a};b.setPlayerID=function(a){this.$21=a};b.setPlayerName=function(a){this.$22=a};b.setPlayerPhoto=function(a){this.$23=a};b.setInitialized=function(){this.$12=!0};b.setLoadingProgress=function(a){this.$7=a};b.setGameState=function(a){this.$9=a};b.setConnectedPlayersPromise=function(a){this.$5=a};b.setMatchPlayerPromise=function(a){this.$15=a};b.setQEParams=function(a){this.$24=a};b.setShouldCallGraphApiDuringInitialization=function(a){this.$28=a};b.getAnalytics=function(){return this.$2};b.getAppID=function(){return this.$4};b.getConnectedPlayersPromise=function(){return this.$5};b.getContext=function(){return this.$6};b.getLoadingProgress=function(){return this.$7};b.getEntryPoint=function(){return this.$8};b.getGameState=function(){return this.$9};b.getGameStartEvent=function(){return this.$10};b.isInitialized=function(){return this.$12};b.getInternalEventLogger=function(){return this.$13};b.getMatchPlayerPromise=function(){return this.$15};b.getMessageSender=function(){return this.$16};b.getPaymentsState=function(){return this.$20};b.getPlayerID=function(){return this.$21};b.getPlayerName=function(){return this.$22};b.getPlayerPhoto=function(){return this.$23};b.getRestartEvent=function(){return this.$25};b.getPauseEvent=function(){return this.$17};b.getReceiveMessageEvent=function(){return this.$18};b.getReceiveStateUpdateEvent=function(){return this.$19};b.getResumeEvent=function(){return this.$26};b.getAnalyticsLogEvent=function(){return this.$3};b.getSdkVersion=function(){return this.$27};b.getQEParams=function(){return this.$24};b.getAdLimiter=function(){return this.$1};b.getGestureCommandEvent=function(){return this.$11};b.getShouldCallGraphApiDuringInitialization=function(){return this.$28};return a}();f.exports=new a()}),34);
__d("CloudGamingApertureTimeoutMiddleware",["CloudGamingActionTypes","CloudGamingSessionConfigConfig","fbinstant/releases/samus/internalStates.samus"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n;a=function(a,b){return function(d,e,f,g){if(b)return d;switch(d.type){case"MOUSE_DOWN":case"MOUSE_MOVE":case"MOUSE_UP":case"KEY":case"GAMEPAD":case c("CloudGamingActionTypes").CURSOR_MOVEMENT:case c("CloudGamingActionTypes").CURSOR_BUTTON:case c("CloudGamingActionTypes").CURSOR_WHEEL:case c("CloudGamingActionTypes").TOUCH_MOVE:case c("CloudGamingActionTypes").TOUCH_DOWN:case c("CloudGamingActionTypes").TOUCH_UP:case c("CloudGamingActionTypes").VIRTUAL_GAMEPAD:case c("CloudGamingActionTypes").GAMEPAD_GREDOS:q(e);break;case c("CloudGamingActionTypes").MICROPHONE_ACTIVITY:n=Date.now();q(e);break;case c("CloudGamingActionTypes").GAME_READY:window.clearTimeout(i);window.clearTimeout(h);j=(a>0?a:c("CloudGamingSessionConfigConfig").warning_timeout_in_seconds)*1e3;k=c("CloudGamingSessionConfigConfig").final_timeout_in_seconds*1e3;l=0;m=0;n=0;p(e);break;case c("CloudGamingActionTypes").PAUSE_GAME:l=c("CloudGamingSessionConfigConfig").pause_timeout_in_seconds*1e3;q(e);break;case c("CloudGamingActionTypes").RESUME_GAME:l=0;q(e);break;case c("CloudGamingActionTypes").REACTIVATE_GAME:r(e,g);break;case c("CloudGamingActionTypes").INACTIVATE_GAME:o();break;case"CONNECTION_ERROR":case"DISCONNECT":window.clearTimeout(i);window.clearTimeout(h);o();break;default:break}return d}};function o(){c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send("cloudgamingconnectionerror",null)}function p(a){if(n!==0){var b=Date.now()-n;b=c("CloudGamingSessionConfigConfig").mic_activity_timeout_in_seconds*1e3-b;m=b>0?b:0}j>0&&(i=window.setTimeout(function(){a({type:c("CloudGamingActionTypes").INACTIVATE_GAME})},j+l+m));k>0&&(h=window.setTimeout(function(){a({type:c("CloudGamingActionTypes").FINISH_GAME}),a({code:6,type:"DISCONNECT"})},k+j+l+m))}function q(a){window.clearTimeout(i),window.clearTimeout(h),p(a)}function r(a,b){q(a),b.sendRTCEvent("lifecycle",{gameResumed:{timestamp:Math.round(Date.now())}})}g.runAction=a}),98);
__d("CloudGamingApertureUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a===String(350685531728)||a===String(6628568379)||a===String(256002347743983)}f.isMobileApp=a}),66);
__d("CloudGamingGredosTouchAction",["CloudGamingActionTypes","CloudGamingSessionConfigConfig","EventTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=384e3,i=216e3,j=[],k=new Array(10);window.addEventListener("blur",function(a){l(a)},!1);var l=function(a){if(a!=null){var b=c("CloudGamingActionTypes").TOUCH_UP;for(var e=0;e<k.length;e++)if(k[e]!==void 0){k[e]=void 0;var f={direction:0,index:e+1,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:b,x:0,y:0};a({events:[{input:{touch:f}}],purpose:"input",type:"SEND_RTC"})}}},m=function(a,b){if(b===c("CloudGamingActionTypes").TOUCH_UP){for(var d=0;d<k.length;d++)if(k[d]===a){k[d]=void 0;return d}}else if(b===c("CloudGamingActionTypes").TOUCH_MOVE){for(d=0;d<k.length;d++)if(k[d]===a)return d}else if(b===c("CloudGamingActionTypes").TOUCH_DOWN)for(d=0;d<k.length;d++)if(k[d]===void 0){k[d]=a;return d}return-1},n=function(a){return function(b,e){e=e();var f=c("CloudGamingActionTypes").TOUCH_MOVE;a.type==="touchstart"?f=c("CloudGamingActionTypes").TOUCH_DOWN:a.type==="touchend"&&(f=c("CloudGamingActionTypes").TOUCH_UP);var g=a.nativeEvent.changedTouches;for(var k=0;k<g.length;k++){var l=g[k],n=m(l.identifier,f);if(n===-1)continue;if(f===c("CloudGamingActionTypes").TOUCH_MOVE){if(j[n]!=null&&j[n]>a.timeStamp)continue;j[n]=a.timeStamp+c("CloudGamingSessionConfigConfig").time_between_move_events_in_ms}var o=l.clientX;l=l.clientY;if(e.container.streamingRotation===90){var p=o;o=l;l=e.container.viewportHeight+2*e.container.viewportTop-p}else if(e.container.streamingRotation===-90){p=o;o=e.container.viewportWidth+2*e.container.viewportLeft-l;l=p}p=Math.round(Math.max(Math.min((o-e.container.viewportLeft)*h/e.container.viewportWidth,h),0));o=Math.round(Math.max(Math.min((l-e.container.viewportTop)*i/e.container.viewportHeight,i),0));l={direction:f===c("CloudGamingActionTypes").TOUCH_UP?0:1,index:n+1,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:f,x:p,y:o};b({events:[{input:{touch:l}}],purpose:"input",type:"SEND_RTC"});b(l)}}};a=function(a){return n(a)};g.VIRTUAL_DESKTOP_WIDTH=h;g.VIRTUAL_DESKTOP_HEIGHT=i;g.clearTouches=l;g.sendGredosTouchEvent=a}),98);
__d("CloudGamingLocalCursorAction",["CloudGamingActionTypes","EventTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e,f){return{moveX:e,moveY:f,screenPosX:a,screenPosY:b,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:c("CloudGamingActionTypes").CURSOR_MOVEMENT}};b=function(a,b,e,f){f=f==="down"?1:0;return{buttons:{center:e==="center"||e==="all"?f:void 0,left:e==="left"||e==="all"?f:void 0,right:e==="right"||e==="all"?f:void 0},screenPosX:a,screenPosY:b,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:c("CloudGamingActionTypes").CURSOR_BUTTON}};e=function(a,b,e,f,g){return{screenPosX:a,screenPosY:b,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:c("CloudGamingActionTypes").CURSOR_WHEEL,wheel:{deltaX:e,deltaY:f,deltaZ:g}}};f=function(a){return function(b){b({events:[{input:{mouse:a}}],purpose:"input",type:"SEND_RTC"}),b(a)}};g.createCursorMovementAction=a;g.createCursorButtonAction=b;g.createCursorWheelAction=e;g.sendCursor=f}),98);
__d("CloudGamingAutomatedInputMiddleware",["CloudGamingActionTypes","CloudGamingGredosTouchAction","CloudGamingLocalCursorAction","EventTimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h="game_ready",i=null,j=null,k=[],l="",m=!1,n="";a=0;var o=null;b=function(b){return function(e,f){if(!c("gkx")("5760"))return e;switch(e.type){case"CREATE_SDP_OFFER":p(f,b);break;case c("CloudGamingActionTypes").GAME_READY:i!=null&&i[h]!=null&&l===""&&(l=h,r(i[h]));break;case c("CloudGamingActionTypes").IN_GAME_STATE:f=l+">>"+e.state;if(i!=null&&(i[f]!=null||i[e.state]!=null)&&l!==e.state){l=e.state;r((f=i[f])!=null?f:i[e.state])}m&&e.state!=="none"&&n!==e.state&&(n=e.state,a=d("EventTimeUtils").tryGetTimestampInMicroSecond());break;case"CONNECTION_ERROR":case"DISCONNECT":q();break;case c("CloudGamingActionTypes").CURSOR_BUTTON:case c("CloudGamingActionTypes").CURSOR_MOVEMENT:case c("CloudGamingActionTypes").CURSOR_WHEEL:case"KEY":case c("CloudGamingActionTypes").TOUCH_MOVE:case c("CloudGamingActionTypes").TOUCH_DOWN:case c("CloudGamingActionTypes").TOUCH_UP:case c("CloudGamingActionTypes").GAMEPAD_GREDOS:m&&D(e);break;default:break}return e}};function p(a,b){l="",j=a,i=b!=null?JSON.parse(b).inputs:null,m=!1,n="",o=null,q()}function q(){while(k.length>0){var a=k.pop();window.clearTimeout(a)}}function r(a){q();if(!Array.isArray(a))return;for(var b=0;b<a.length;b++){var c=a[b];switch(c.inputType){case"MOUSE_BUTTON":w(c);break;case"MOUSE_MOVE":x(c);break;case"MOUSE_WHEEL":y(c);break;case"KEYBOARD":z(c);break;case"TOUCH":A(c);break;case"GAMEPAD":C(c);break;default:break}}}function s(a,b,c){c=window.setTimeout(function(){var c={};c[a]=babelHelpers["extends"]({},b,{timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond()});j!=null&&j({events:[{input:c}],purpose:"input",type:"SEND_RTC"})},c);k.push(c)}function t(a){return a!=null}function u(a,b,c){b===void 0&&(b=0);c===void 0&&(c=1);return a!=null&&a>=b&&a<=c}function v(a){return a!=null&&a>=0}function w(a){if(t(a.mouseButton)&&t(a.direction)&&u(a.screenX)&&u(a.screenY)&&v(a.timestamp)){var b=d("CloudGamingLocalCursorAction").createCursorButtonAction(a.screenX,a.screenY,a.mouseButton,a.direction);s("mouse",b,a.timestamp)}}function x(a){if(u(a.screenX)&&u(a.screenY)&&u(a.moveX)&&u(a.moveY)&&v(a.timestamp)){var b=d("CloudGamingLocalCursorAction").createCursorMovementAction(a.screenX,a.screenY,a.moveX,a.moveY);s("mouse",b,a.timestamp)}}function y(a){if(u(a.screenX)&&u(a.screenY)&&t(a.deltaY)&&v(a.timestamp)){var b=d("CloudGamingLocalCursorAction").createCursorWheelAction(a.screenX,a.screenY,0,a.deltaY,0);s("mouse",b,a.timestamp)}}function z(a){if(t(a.direction)&&v(a.jsCode)&&v(a.timestamp)){var b;b={code:(b=a.stringKeyCode)!=null?b:a.jsCode.toString(10),direction:a.direction==="down"?1:0,jsCode:a.jsCode,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond()};s("key",b,a.timestamp)}}function A(a){if(t(a.touchAction)&&v(a.index)&&u(a.screenX)&&u(a.screenY)&&v(a.timestamp)){var b={direction:a.touchAction==="up"?0:1,index:a.index+1,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:a.touchAction==="move"?c("CloudGamingActionTypes").TOUCH_MOVE:a.touchAction==="down"?c("CloudGamingActionTypes").TOUCH_DOWN:c("CloudGamingActionTypes").TOUCH_UP,x:a.screenX*d("CloudGamingGredosTouchAction").VIRTUAL_DESKTOP_WIDTH,y:a.screenY*d("CloudGamingGredosTouchAction").VIRTUAL_DESKTOP_HEIGHT};s("touch",b,a.timestamp)}}function B(a,b){b===void 0&&(b=0);return a!=null&&u(a,b,1)?a:0}function C(a){if(v(a.index)&&v(a.timestamp)){var b={A:B(a.a),B:B(a.a),Down:B(a.down),L1:B(a.l1),L2:B(a.l2),L3:B(a.l3),Left:B(a.left),R1:B(a.r1),R2:B(a.r2),R3:B(a.r3),Right:B(a.right),Select:B(a.select),Start:B(a.start),ThumbLX:B(a.thumbLX,-1),ThumbLY:B(a.thumbLY,-1),ThumbRX:B(a.thumbRX,-1),ThumbRY:B(a.thumbRY,-1),Up:B(a.up),X:B(a.x),Y:B(a.y)};b={id:a.index,keys:b,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond()};s("gamepad",b,a.timestamp)}}function D(a){switch(a.type){case c("CloudGamingActionTypes").CURSOR_BUTTON:E(a);break;case c("CloudGamingActionTypes").CURSOR_MOVEMENT:F(a);break;case c("CloudGamingActionTypes").CURSOR_WHEEL:G(a);break;case"KEY":H(a);break;case c("CloudGamingActionTypes").TOUCH_MOVE:case c("CloudGamingActionTypes").TOUCH_DOWN:case c("CloudGamingActionTypes").TOUCH_UP:I(a);break;case c("CloudGamingActionTypes").GAMEPAD_GREDOS:J(a);break}}function E(a){for(var b in a.buttons)a.buttons[b]!=null}function F(a){document.pointerLockElement}function G(a){}function H(a){}function I(a){}function J(a){var b="";for(var c in a.keys)a.keys[c]!=null&&(o==null||a.keys[c]!==o[c])&&(b+='"'+c+'": '+a.keys[c]+", ");o=a.keys;b!==""}g.runAction=b}),98);
__d("CloudGamingWarningAlertAction",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,d,e){return{buttonCallback:e,buttonText:d,name:a,type:c("CloudGamingActionTypes").WARNING_METRIC,value:b}};b=function(a){return{name:a,type:c("CloudGamingActionTypes").CLEAN_WARNING_METRIC}};d=function(a,b){return{closeCallback:b,dialogType:a,type:c("CloudGamingActionTypes").SHOW_WARNING_DIALOG}};e=function(a){return{dialogType:a,type:c("CloudGamingActionTypes").HIDE_WARNING_DIALOG}};g.createWarningMetricAction=a;g.createCleanWarningMetricAction=b;g.createShowWarningDialogAction=d;g.createHideWarningDialogAction=e}),98);
__d("CloudGamingCloseNotificationMiddleware",["CloudGamingActionTypes","CloudGamingLogUtils","CloudGamingWarningAlertAction","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i,j=-1;a=function(a,b,d,e){return function(f,g){switch(f.type){case c("CloudGamingActionTypes").CLOSE_NOTIFICATION:i!=null&&window.clearInterval(i);f.reason==="RECYCLE"&&j===-1&&(j=f.time*1e3,l(g,a,b,d,e));break;case"DISCONNECT":i!=null&&window.clearInterval(i);break;default:break}return f}};function k(a,b,e,f,g,h){d("CloudGamingLogUtils").logEvent("CLOSE_NOTIFICATION",b,g,f,e,new Map([["reason",h],["timeRemaining",j.toString()]])),a(d("CloudGamingWarningAlertAction").createWarningMetricAction("SERVER_RESTART",j/1e3)),c("setTimeout")(function(){a(d("CloudGamingWarningAlertAction").createCleanWarningMetricAction("SERVER_RESTART"))},100)}function l(a,b,c,d,e){j>0&&(k(a,b,c,d,e,"RECYCLE"),i=window.setInterval(function(){j-=h,k(a,b,c,d,e,"RECYCLE"),j<=h&&(window.clearInterval(i),i=window.setInterval(function(){j-=1e3,k(a,b,c,d,e,"RECYCLE"),j<=0&&window.clearInterval(i)},1e3))},h))}g.runAction=a}),98);
__d("CloudGamingAllowServerDebugEngWarning.react",["ix","CloudGamingAllowServerDebug","CometIcon.react","CometLink.react","CometToast.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";b=d("react");var i=d("react").useState;c="cloud_gaming_allow_server_debug";e="https://www.internalfb.com/intern/gatekeeper/projects/cloud_gaming_allow_server_debug/";h="Allowing debugging on the server";b="https://www.internalfb.com/intern/wiki/Cloud_Gaming/Infra/Common/Tooling_&_Testing/Allowing_debugging_on_the_server/";function a(){var a=i(!0),b=a[0];b=a[1];return null;if(!c("CloudGamingAllowServerDebug")())return null;if(!b)return null;var e=React.jsxs(React.Fragment,{children:["You are in the server debugging mode. In this mode, client disconnections and timeouts have been disabled. You can deactivate it by removing yourself from the gk ",React.jsx(c("CometLink.react"),{href:GK_URI,children:GK_NAME})," allowlist.",React.jsx("br",{}),"You can read more about this in the ",React.jsx(c("CometLink.react"),{href:WIKI_PAGE,children:WIKI_PAGE_NAME})," "," wiki page."]});return React.jsx("div",{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c x191j7n5 x92rtbv xixxii4 x16q8cke x1vjfegm",children:React.jsx(c("CometToast.react"),{icon:React.jsx(c("CometIcon.react"),{color:"negative",icon:d("fbicon")._(h("502066"),24)}),message:e,onDismiss:function(){setIsShown(!1)},truncateText:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GamesInstantPlaySupportedOrientation",[],(function(a,b,c,d,e,f){a=Object.freeze({PORTRAIT:"portrait",LANDSCAPE:"landscape",PORTRAIT_LANDSCAPE:"portrait_landscape",RESPONSIVE:"responsive"});f["default"]=a}),66);
__d("CloudGamingPlayerUtils",["$InternalEnum","CloudGamingApertureUtils","CloudGamingWindowsGamesSpecialConfigurationConfig","InstantGamesPlayerUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null;switch(a){case"prod":b="PROD";break;case"staging":b="STAGING";break;case"rc":b="RC";break;case"dev":b="DEV";break;case"dev.stress":b="DEV_STRESS";break;case"prod.shadow.stress":b="PROD_SHADOW_STRESS";break;case"rc.vanilla":b="RC_VANILLA";break}return b}function e(){var a=0,b=window.navigator.getGamepads();for(var c=0;c<b.length;c++){var d=b[c];d&&d.connected&&++a}return a}function f(a,b){var c=navigator.userAgent.match(/iPad/)!==null;return c||a||d("CloudGamingApertureUtils").isMobileApp(b)||b===String(412378670482)||"ontouchstart"in window}var h=function(){var a=document.getElementById(d("InstantGamesPlayerUtils").containerWrapperId);return a!=null?[a.offsetWidth,a.offsetHeight]:[window.innerWidth,window.innerHeight]},i=function(a,b,c,d,e){if(a!==void 0&&a!==null&&!b&&(c===String(256281040558)||c===String(2220391788200892)))a=a;else if(b||c===String(412378670482)){b=h();var f=b[0];b=b[1];a=b>f?b/f:f/b}else if(c===String(256281040558)||c===String(2220391788200892))(d==null?void 0:d.toLowerCase())==="landscape"?a=e==="GREDOS"?l:1/l:a=e==="GREDOS"?m:1/m;else{f=h();b=f[0];c=f[1];a=e==="GREDOS"?b/c:c/b}return a},j=b("$InternalEnum").Mirrored(["None","InitialSize","ChangeOnResize"]);b=function(a,b,d){if(a!=="GREDOS"||c("CloudGamingWindowsGamesSpecialConfigurationConfig").dynamic_resolution.indexOf(b)===-1)return j.None;a=((b=d!=null&&((a=d.find(function(a){return a.name==="gk_cloud_gaming_windows_allow_dynamic_aspect_ratio"}))==null?void 0:a.enabled))!=null?b:!1)||c("gkx")("7384");b=((d=d!=null&&((b=d.find(function(a){return a.name==="gk_cloud_gaming_windows_use_dynamic_resolution"}))==null?void 0:b.enabled))!=null?d:!1)||c("gkx")("7360");if(a)return j.ChangeOnResize;else if(b)return j.InitialSize;return j.None};var k=.5625,l=1.7778,m=.5625,n=100,o="cg_player_container",p={LANDSCAPE:"landscape",PORTRAIT:"portrait"};g.translateSiteTarget=a;g.getNumGamepadsConnected=e;g.isTouchDevice=f;g.playerSize=h;g.calculateAspectRatio=i;g.CloudPlayerDynamicResolutionEnum=j;g.getDynamicResolutionType=b;g.ASPECT_RATIO=k;g.LANDSCAPE_16_9_ASPECT_RATIO=l;g.PORTRAIT_9_16_ASPECT_RATIO=m;g.DEBOUNCE_DURATION_MS=n;g.CG_PLAYER_CONTAINER_ID=o;g.ORIENTATION=p}),98);
__d("CometInstantGamesMobileRotationOverlay.react",["fbt","ix","CometImage.react","TetraText.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(){return j.jsxs("div",{className:"x6s0dn4 x1frzhxr x14ctfv x78zum5 xdt5ytf x1dr59a3 xl56j7k xixxii4 x19hk508 x1vjfegm",children:[j.jsx("div",{className:"x889kno x1iji9kk x1a8lsjc x1sln4lm xpk2tj9",children:j.jsx(c("CometImage.react"),{src:i("276035")})}),j.jsx("div",{className:"x889kno x1iji9kk x1a8lsjc x1sln4lm",children:h._("__JHASH__F-6xtUuV4Tl__JHASH__",[h._implicitParam("=m0",j.jsx(c("TetraText.react"),{color:"white",type:"bodyLink1",children:h._("__JHASH__lEHs_6fFsIZ__JHASH__")}))])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingApertureContainer.react",["CloudGamingActionTypes","CloudGamingConstants","CloudGamingPlayerUtils","CometInstantGamesMobileRotationOverlay.react","CometMediaViewerFullscreenContext","HorizonWorldsUtils","err","react","useDebouncedComet","useMergeRefs","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState;function a(a,b){var c=a.appID,d=a.children,e=a.cloudGameID,f=a.connectionState,g=a.gameLifecycleState,i=a.gameOrientation,j=a.gameRotationDegree,k=a.graphqlGKResults,l=a.isInsideIframe,m=a.isMobileApp,n=a.isMobileBrowser,o=a.onContainerResize,p=a.provider,q=a.useResourceSize,s=a.videoHeight;a=a.videoWidth;var t=s>a;return!n&&(t||q||m)&&p!=="GREDOS"?h.jsx("div",{className:"x1i10hfl xpdipgo x1winvzj x9f619 x5yr21d x1a2a7pz x87ps6o xh8yej3",ref:b,style:{height:q?s+"px":"100%",touchAction:"none",width:q?a+"px":"100%"},children:d}):h.jsx(r,{appID:c,cloudGameID:e,connectionState:f,gameLifecycleState:g,gameOrientation:i,gameRotationDegree:j,graphqlGKResults:k,isInsideIframe:l,isMobileApp:m,isMobileBrowser:n,onContainerResize:o,provider:p,ref:b,children:d})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);function o(a,b,e,f,g,h,i,j,k,l,m,n,o,p,r,s){r.current===0&&(r.current=a);s.current===0&&(s.current=b);var t=d("CloudGamingPlayerUtils").LANDSCAPE_16_9_ASPECT_RATIO,u=d("CloudGamingPlayerUtils").PORTRAIT_9_16_ASPECT_RATIO,v=!1;p===d("CloudGamingPlayerUtils").CloudPlayerDynamicResolutionEnum.ChangeOnResize?v=!0:p===d("CloudGamingPlayerUtils").CloudPlayerDynamicResolutionEnum.InitialSize&&(t=r.current/s.current,u=r.current/s.current);if(i!==-90&&i!==0)throw c("err")("Game rotation degree should be set to 0 or -90");p={height:0,left:Math.round(e),streamingRotation:0,top:Math.round(f),width:0};if(g==="GREDOS"){r=q(a,b,j||k,h,t,u);p.width=Math.round(r.width);p.height=Math.round(r.height)}else k?i===-90?(p.width=Math.round(b),p.height=Math.round(a)):(p.width=Math.round(a),p.height=Math.round(b)):(p.width=Math.round(a),p.height=Math.round(b),b<a*d("CloudGamingPlayerUtils").ASPECT_RATIO?p.width=Math.round(b/d("CloudGamingPlayerUtils").ASPECT_RATIO):p.height=Math.round(a*d("CloudGamingPlayerUtils").ASPECT_RATIO));o(v?a:p.width);m(v?b:p.height);s=h==null?void 0:h.toLowerCase();p.left===0&&p.top===0&&(p.left=(a-p.width)/2,p.top=(b-p.height)/2);(j||k)&&(s===d("CloudGamingPlayerUtils").ORIENTATION.LANDSCAPE&&b>a||s===d("CloudGamingPlayerUtils").ORIENTATION.PORTRAIT&&a>b?(p.left=Math.round((b-p.width)/2+f),p.top=Math.round((a-p.height)/2+e)):(p.left=Math.round((a-p.width)/2+e),p.top=Math.round((b-p.height)/2+f)));g==="APERTURE"?p.streamingRotation=i:k&&g==="GREDOS"&&(v?p.streamingRotation=0:s===d("CloudGamingPlayerUtils").ORIENTATION.LANDSCAPE?i===0&&(p.streamingRotation=90):i!==0&&(p.streamingRotation=-90));n("rotate("+p.streamingRotation+"deg)");l({browserOrientation:i===-90?1:0,provider:g,streamingRotation:p.streamingRotation,type:c("CloudGamingActionTypes").CONTAINER_RESIZE,viewportHeight:v?b:p.height,viewportLeft:v?e:p.left,viewportTop:v?f:p.top,viewportWidth:v?a:p.width})}function p(a,b,d,e,f,g,h,i){f==="APERTURE"&&b.phase==="live"&&a?(g({browserOrientation:e===-90?1:0,provider:f,streamingRotation:0,type:c("CloudGamingActionTypes").CONTAINER_RESIZE,viewportHeight:0,viewportLeft:0,viewportTop:0,viewportWidth:0}),i("rotate("+e+"deg)")):f==="GREDOS"&&(d==="Playing"||b.phase==="live")&&h()}function q(a,b,c,e,f,g){var h={height:b,width:a},i=f;if(c)if(e==null)i=a>b?f:g;else switch(e.toLowerCase()){case d("CloudGamingPlayerUtils").ORIENTATION.LANDSCAPE:b>a&&(h.width=b,h.height=a);break;case d("CloudGamingPlayerUtils").ORIENTATION.PORTRAIT:i=g;a>b&&(h.width=b,h.height=a);break}c=h.width/h.height;if(c>i){f=i/c;h.width*=f}else if(c<i){e=c/i;h.height*=e}return h}var r=h.forwardRef(function(a,b){var e=a.appID,f=a.children,g=a.cloudGameID,q=a.connectionState,r=a.gameLifecycleState,s=a.gameOrientation,t=a.gameRotationDegree,u=a.graphqlGKResults,v=a.isInsideIframe,w=a.isMobileApp,x=a.isMobileBrowser,y=a.onContainerResize,z=a.provider;a=n(0);var A=a[0],B=a[1];a=n(0);var C=a[0],D=a[1],E=m(0),F=m(0);a=n(null);var G=a[0],H=a[1];a=i(c("CometMediaViewerFullscreenContext"));var I=l(function(){return d("CloudGamingPlayerUtils").getDynamicResolutionType(z,g,u)},[u,g,z]),J=n(window.innerWidth>window.innerHeight?1:0),K=J[0],L=J[1],M=Object.values(d("CloudGamingConstants").HorizonAppIDs).includes(e),N=c("useDebouncedComet")(function(){var a;o(typeof b!=="function"?(a=(a=b.current)==null?void 0:a.offsetWidth)!=null?a:0:0,typeof b!=="function"?(a=(a=b.current)==null?void 0:a.offsetHeight)!=null?a:0:0,typeof b!=="function"?(a=(a=b.current)==null?void 0:a.getBoundingClientRect().left)!=null?a:0:0,typeof b!=="function"?(a=(a=b.current)==null?void 0:a.getBoundingClientRect().top)!=null?a:0:0,z,s,M?0:t,w,x,y,D,H,B,I,E,F);d("HorizonWorldsUtils").updateBrowserOrientation(K,L)},{wait:d("CloudGamingPlayerUtils").DEBOUNCE_DURATION_MS});J=c("useResizeObserver")(N);k(function(){N();window.addEventListener("resize",N);window.addEventListener("scroll",N);return function(){window.removeEventListener("resize",N),window.removeEventListener("scroll",N)}},[N,a]);j(function(){if(!x)return;var a=window.navigator.virtualKeyboard;a!=null&&(a.overlaysContent=!0)},[x]);j(function(){p(x,q,r,t,z,y,N,H)},[q,r]);a=Object.values(d("CloudGamingConstants").HorizonAppIDs).includes(e)&&d("HorizonWorldsUtils").isMobileDevice()&&K===1&&I!==d("CloudGamingPlayerUtils").CloudPlayerDynamicResolutionEnum.ChangeOnResize;e=a?h.jsx(c("CometInstantGamesMobileRotationOverlay.react"),{}):null;return h.jsxs("div",{className:""+(v?" x1i10hfl xpdipgo x1winvzj x6s0dn4 x9f619 x78zum5 x1dr59a3 xl56j7k x1a2a7pz x6ikm8r x10wlt62 x5ve5x3 x87ps6o xn9wirt":" x1i10hfl xpdipgo x1winvzj x6s0dn4 x9f619 x78zum5 x5yr21d xl56j7k x1a2a7pz x6ikm8r x10wlt62 x5ve5x3 x87ps6o xh8yej3"),id:d("CloudGamingPlayerUtils").CG_PLAYER_CONTAINER_ID,ref:c("useMergeRefs")(b,J),children:[e,h.jsx("div",{style:{height:C===0?"100%":C,position:"fixed",touchAction:"none",transform:G,width:A===0?"100%":A},children:f})]})});g["default"]=e}),98);
__d("CloudGamingErrorTypes",[],(function(a,b,c,d,e,f){"use strict";a={ACCESS_TOKEN_GEN_FAILED:"ACCESS_TOKEN_GEN_FAILED",APP_NOT_FOUND:"APP_NOT_FOUND",CANNOT_SEE_CLOUD_GAME:"CANNOT_SEE_CLOUD_GAME",CAPACITY_ERROR:"CAPACITY_ERROR",CONNECTION_TIMEOUT:"CONNECTION_TIMEOUT",CONNECTION_TIMEOUT_WARNING:"CONNECTION_TIMEOUT_WARNING",GAME_NODE_IN_USE:"GAME_NODE_IN_USE",GAME_NODE_TERMINATING:"GAME_NODE_TERMINATING",H264_ERROR:"H264_ERROR",NO_HEARTBEATS_FROM_SERVER:"NO_HEARTBEATS_FROM_SERVER",PEER_CONNECTION_CLOSED:"PEER_CONNECTION_CLOSED",REGION_UNAVAILABLE:"REGION_UNAVAILABLE",UNKNOWN:"UNKNOWN",UNKNOWN_CREATE_OFFER_FAILURE:"UNKNOWN_CREATE_OFFER_FAILURE",UNSUPPORTED_BROWSER:"UNSUPPORTED_BROWSER",UNSUPPORTED_DEVICE:"UNSUPPORTED_DEVICE",UNSUPPORTED_OS:"UNSUPPORTED_OS",UPDATE_BROWSER:"UPDATE_BROWSER",UPGRADE_ANDROID_WEBVIEW_VS:"UPGRADE_ANDROID_WEBVIEW_VS",UPGRADE_FACEBOOK_FOR_ANDROID:"UPGRADE_FACEBOOK_FOR_ANDROID",UPGRADE_MOBILE_OS_VS:"UPGRADE_MOBILE_OS_VS",USE_CHROME_DESKTOP:"USE_CHROME_DESKTOP",USE_FACEBOOK_FOR_ANDROID:"USE_FACEBOOK_FOR_ANDROID",USE_MOBILE_SAFARI:"USE_MOBILE_SAFARI"};f.CloudGamingErrorTypes=a}),66);
__d("InstantGamesCustomUpdateDeliveryPolicy",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMMEDIATE:"IMMEDIATE",LAST:"LAST",IMMEDIATE_CLEAR:"IMMEDIATE_CLEAR"})}),null);
__d("fbinstant/common/dataAccessRecorder",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a,b,c,d){d===void 0&&(d={});c=a+"_"+c;if(Object.prototype.hasOwnProperty.call(g,c))return;g[c]=!0;b.sendPassThroughAsync(a,d)}f["default"]=a}),66);
__d("fbinstant/common/featureAvailabilityFetcher",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.fetchAsync=function(a,b){if(this.$1[b]!=null)return this.$1[b];this.$1[b]=a.sendPassThroughAsync("FEATURE_AVAILABILITY",{feature:b});return this.$1[b]};return a}();b=new a();f["default"]=b}),66);
__d("InstantGamesNTViewType",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD_TO_GAMING_SQUAD:"add_to_gaming_squad",CANVAS_TO_INSTANT_GAMES_SILENT_REAUTH_NOTICE:"canvas_to_instant_games_silent_reauth_notice",COMMUNITY_HUD:"community_hud",CONTEXT_CHOOSE:"context_choose",CONTEXT_CREATE:"context_create",CONTEXT_SOLO_SWITCH:"context_solo_switch",CONTEXT_SWITCH:"context_switch",CONTEXT_SWITCH_AFTER_SHARE:"context_switch_after_share",CONTEXT_SWITCHER:"context_switcher",CREATE_GAMING_SQUAD:"create_gaming_squad",CROSS_PLAY_MIGRATION_DIALOG:"cross_play_migration_dialog",CUSTOM_INVITE:"custom_invite",CUSTOM_LINK_SHARE:"custom_link_share",CUSTOM_SHARE:"custom_share",CUSTOM_UPDATE_MESSAGING_CONSENT:"custom_update_messaging_consent",CUSTOM_UPDATE_POST_COMMENT:"custom_update_post_comment",CUSTOM_UPDATE_SHARE_AS_MESSAGE:"custom_update_share_as_message",ERROR:"error",FOLLOW_PAGE:"follow_page",FRIEND_FINDER:"friend_finder",GAME_GENERAL_STATUS:"game_general_status",GAME_REQUESTS:"game_requests",GAME_SHARE:"game_share",GAME_SWITCH:"game_switch",GAME_SWITCH_NATIVE:"game_switch_native",GENERAL_GAME_SHARE:"general_game_share",IN_APP_PURCHASE:"in_app_purchase",IN_APP_PURCHASE_SUBSCRIPTION:"in_app_purchase_subscription",INTERNAL_E2E_TEST_GENERIC_DIALOG:"internal_e2e_test_generic_dialog",JOIN_GAMING_SQUAD:"join_gaming_squad",JOIN_GROUP:"join_group",LEAVE_GAMING_SQUAD:"leave_gaming_squad",LIKE:"like",LIVE_STREAMS:"live_streams",MATCH_MAKING:"match_making",MATCH_PLAYER:"match_player",MEDIA_ASSET:"media_asset",MULTI_TOUCH_OVERLAY_TUTORIAL:"multi_touch_overlay_tutorial",NAV_BAR:"nav_bar",OBA_TOAST:"oba_toast",OPEN_EXTERNAL_LINK:"open_external_link",POST_LIVE:"post_live",POST_USER_ACHIEVEMENT:"post_user_achievement",REGISTER_ARENA:"register_arena",SHARE_TOURNAMENT:"share_tournament",SHORTCUT:"shortcut",SUBSCRIBE_BOT:"subscribe_bot",TOS_SCREEN:"tos_screen",TOURNAMENT_CREATE:"tournament_create",TOURNAMENT_STATUS:"tournament_status",VIDEO_PLAYER:"video_player"});f["default"]=a}),66);
__d("fbinstant/common/genericDialogs",["InstantGamesNTViewType"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("InstantGamesNTViewType")}),98);
__d("fbinstant/common/validator",["fbinstant/common/errorCode"],(function(a,b,c,d,e,f,g){"use strict";var h=Number.isInteger||function(a){return typeof a==="number"&&isFinite(a)&&Math.floor(a)===a};a=function(){function a(){}var b=a.prototype;b.validate=function(a,b){return b.validate(a)["catch"](function(a){a={code:c("fbinstant/common/errorCode").INVALID_PARAM,message:a.message};throw a})};b.object=function(){return new j()};b.array=function(){return new k()};b.string=function(){return new l()};b.number=function(){return new m()};b.integer=function(){return new n()};b["boolean"]=function(){return new o()};b.union=function(a){return new p(a)};return a}();var i=function(){function a(){this.validator=function(a){return},this.errors=[],this.isOptional=!1,this.type="Any"}var b=a.prototype;b.validate=function(a){var b=this;this.validator(a);return new Promise(function(c,d){return b.errors.length>0?d(new Error(b.errors.map(function(a){return a.message}).join("\n"))):c(a)})};b.optional=function(){this.isOptional=!0;return this};b.addError=function(a,b){if(b){this.errors.push(new Error(b));return}this.errors.push(new Error("Expected a value of type "+this.type+", received: "+String(a)))};b.getErrors=function(){return this.errors};b.getType=function(){return this.type};return a}(),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;a=b.call(this)||this;a.validator=function(b){if(b==null&&a.isOptional)return;(typeof b!=="object"||Array.isArray(b))&&a.addError(b);a.$ObjectSchema4(b);for(var c in a.$ObjectSchema1){var d=b[c],e=a.$ObjectSchema1[c];if(!e.validator){a.addError(d,"Bad/missing validator for key: "+c);return}e.validator(d);e=e.getErrors();if(e.length>0){var f="For key "+c+": ";for(var e=e,g=Array.isArray(e),h=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;f+="["+i.message+"],"}a.addError(d,f)}}};a.$ObjectSchema1={};a.$ObjectSchema2=null;a.$ObjectSchema3=null;a.type="Object";return a}var c=a.prototype;c.keys=function(a){this.$ObjectSchema1=a;return this};c.maxSize=function(a){this.$ObjectSchema2=a;return this};c.minSize=function(a){this.$ObjectSchema3=a;return this};c.$ObjectSchema4=function(a){if(this.$ObjectSchema2||this.$ObjectSchema3){a=JSON.stringify(a).length;this.$ObjectSchema2&&a>this.$ObjectSchema2&&this.errors.push(new Error("Object must be at most "+String(this.$ObjectSchema2)+" characters when stringified, was "+String(a)));this.$ObjectSchema3&&a<this.$ObjectSchema3&&this.errors.push(new Error("Object must be at least "+String(this.$ObjectSchema3)+" characters when stringified, was "+String(a)))}};return a}(i),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;a=b.call(this)||this;a.validator=function(b){if(b==null&&a.isOptional)return;if(!Array.isArray(b)){a.addError(b);return}if(a.$ArraySchema2&&b.length!==a.$ArraySchema2){a.addError(b,"Received an array of length "+String(b.length)+", expected an array of length "+String(a.$ArraySchema2));return}for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(!a.$ArraySchema1.validator){a.addError(e,"Bad/missing validator for Array");return}a.$ArraySchema1.validator(e);var f=a.$ArraySchema1.getErrors();if(f.length>0){f=a.$ArraySchema1.getType();f="Array of type "+f+" contained a value of another type: "+String(e);a.addError(e,f);return}}};a.$ArraySchema1=new i();a.$ArraySchema2=null;a.type="Array";return a}var c=a.prototype;c.schemaType=function(a){this.$ArraySchema1=a;return this};c.length=function(a){this.$ArraySchema2=a;return this};return a}(i),l=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;a=b.call(this)||this;a.validator=function(b){if(b==null&&a.isOptional)return;typeof b!=="string"&&a.addError(b)};a.type="String";return a}return a}(i),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;a=b.call(this)||this;a.validator=function(b){if(b==null&&a.isOptional)return;var c=typeof b==="number"&&!isNaN(b);c||a.addError(b)};a.type="Number";return a}return a}(i),n=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;a=b.call(this)||this;a.validator=function(b){if(b==null&&a.isOptional)return;h(b)||a.addError(b)};a.type="Integer";return a}return a}(m),o=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a;a=b.call(this)||this;a.validator=function(b){if(b==null&&a.isOptional)return;typeof b!=="boolean"&&a.addError(b)};a.type="Boolean";return a}return a}(i),p=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this)||this;c.validator=function(a){if(a==null&&c.isOptional)return;var b=[];for(var d=c.$UnionSchema1,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g.validator(a);g=g.getErrors();if(g.length===0)return;b.concat(g)}c.addError(a);for(g=0;g<b.length;g++){f=b[g];c.errors.push(f)}};c.$UnionSchema1=a;var d=" or ",e="";for(var f=0;f<a.length;f++){var g=a[f];e+=g.type+d}c.type=e.substring(0,e.length-d.length);return c}return a}(i);b=new a();g["default"]=b}),98);
__d("fbinstant/releases/samus/logger.samus",["fbinstant/releases/samus/internalStates.samus"],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.then(function(a){h(b);return a})["catch"](function(a){var c=a&&a.code||null;g(b,c);throw a})}function c(a){var c=b("fbinstant/releases/samus/internalStates.samus").getAnalytics();c.logAPICall(a);i(j(a,"api_call"),"API",{type:"api_call",name:a})}function d(a){var c=b("fbinstant/releases/samus/internalStates.samus").getAnalytics();c.logBeginAsyncAPICall(a);i(j(a,"api_begin_async"),"API",{type:"api_begin_async",name:a})}function g(a,c){var d=b("fbinstant/releases/samus/internalStates.samus").getAnalytics();d.logRejectAsyncAPICall(a,c);i(j(a,"api_reject_async",String(c)),"API",{type:"api_reject_async",name:a,code:c})}function h(a){var c=b("fbinstant/releases/samus/internalStates.samus").getAnalytics();c.logResolveAsyncAPICall(a);i(j(a,"api_resolve_async"),"API",{type:"api_resolve_async",name:a})}function i(a,c,d){d=babelHelpers["extends"]({},d,{key:a,gameState:b("fbinstant/releases/samus/internalStates.samus").getGameState()});b("fbinstant/releases/samus/internalStates.samus").getInternalEventLogger().logEvent(c,b("fbinstant/releases/samus/internalStates.samus"),d)}function j(a,b,c){c===void 0&&(c=null);return c!=null?a+"."+b+"."+c:a+"."+b}e.exports={logAPICall:c,logBeginAsync:d,logAsyncResult:a,logReject:g,logResolve:h}}),null);
__d("fbinstant/releases/samus/ads.samus",["InstantGamesGameState","InstantGamesSDKMessages","Promise","fbinstant/common/adType","fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/validator","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.getPlacementID=function(){return this.$1.placementID};c.loadAsync=function(){var a="AdInstance_loadAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var c=b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").LOAD_AD_ASYNC,{adInstanceID:this.$1.adInstanceID});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(c,a).then(function(){})};c.showAsync=function(){var a=this,c="AdInstance_showAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);if(b("fbinstant/releases/samus/internalStates.samus").getGameState()!==b("InstantGamesGameState").PLAYING){b("fbinstant/releases/samus/logger.samus").logReject(c,b("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}this.$2===b("fbinstant/common/adType").INTERSTITIAL&&b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("QE_LOG_EXPOSURE",{qe_name:"IGSAC"});if(!b("fbinstant/releases/samus/internalStates.samus").getAdLimiter().canShowAd(this.$2)){b("fbinstant/releases/samus/logger.samus").logReject(c,b("fbinstant/common/errorCode").RATE_LIMITED);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").RATE_LIMITED,message:"Too many ads shown recently. Wait a bit before attempting to show more."}))}var d=b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").SHOW_AD_ASYNC,{adInstanceID:this.$1.adInstanceID});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(d,c).then(function(){b("fbinstant/releases/samus/internalStates.samus").getAdLimiter().markAdShown(a.$2)})};return a}();e.exports={AdInstance:g,getInterstitialAdAsync:function(a){return b("fbinstant/common/validator").validate(a,b("fbinstant/common/validator").string()).then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").GET_INTERSTITIAL_AD_ASYNC,{placementID:a})}).then(function(a){return new g(a,b("fbinstant/common/adType").INTERSTITIAL)})},getRewardedVideoAsync:function(a){return b("fbinstant/common/validator").validate(a,b("fbinstant/common/validator").string()).then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").GET_REWARDED_VIDEO_ASYNC,{placementID:a})}).then(function(a){return new g(a,b("fbinstant/common/adType").REWARDED_VIDEO)})}}}),null);
__d("fbinstant/releases/samus/community.samus",["InstantGamesGameState","fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/genericDialogs","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){var b=a.id,c=a.name,d=a.cvc,e=a.thumbnailURL,f=a.authorName,g=a.authorPictureURL;a=a.customPayload;this.$1=b;this.$2=c;this.$3=d;this.$4=e;this.$5=f;this.$6=g;this.$7=a}var b=a.prototype;b.getName=function(){return this.$2};b.getCVC=function(){return this.$3};b.getThumbnailURL=function(){return this.$4};b.getAuthorName=function(){return this.$5};b.getAuthorPictureURL=function(){return this.$6};b.getCustomPayload=function(){return this.$7};b.watchAsync=function(){var a="LiveStream_watchAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING){c("fbinstant/releases/samus/logger.samus").logReject(a,c("fbinstant/common/errorCode").INVALID_OPERATION);return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var b=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").VIDEO_PLAYER,{videoID:this.$1});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a).then(function(){})};return a}();function a(){var a="Community_canGetLiveStreamsAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("CAN_GET_LIVE_STREAMS",{});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a).then(function(a){return a})["catch"](function(a){return!1})}function b(){var a="Community_canFollowOfficialPageAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("CAN_FOLLOW_PAGE",{});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a).then(function(a){return a})["catch"](function(a){return!1})}function e(){var a="Community_canJoinOfficialGroupAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("CAN_JOIN_GROUP",{});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a).then(function(a){return a})["catch"](function(a){return!1})}function f(a){var b="Community_getLiveStreamsAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);a=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("GET_LIVE_STREAMS",a).then(function(a){if(!a||!a.list)return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").LIVE_STREAMS_NOT_FOUND,message:"Live streams not found for the current game"}));a=a.list;return a.map(function(a){return new h(a)})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(a,b)}function i(){var a="Community_liveStreamsOverlayAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING){c("fbinstant/releases/samus/logger.samus").logReject(a,c("fbinstant/common/errorCode").INVALID_OPERATION);return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var b=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").LIVE_STREAMS,{});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a).then(function(){})}function j(){var a="followOfficialPageAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING){c("fbinstant/releases/samus/logger.samus").logReject(a,c("fbinstant/common/errorCode").INVALID_OPERATION);return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var b=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").FOLLOW_PAGE,{});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a).then(function(){})}function k(){var a="joinOfficialGroupAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING){c("fbinstant/releases/samus/logger.samus").logReject(a,c("fbinstant/common/errorCode").INVALID_OPERATION);return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var b=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").JOIN_GROUP,{});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a).then(function(){})}a={LiveStream:h,canGetLiveStreamsAsync:a,canFollowOfficialPageAsync:b,canJoinOfficialGroupAsync:e,getLiveStreamsAsync:f,liveStreamsOverlayAsync:i,followOfficialPageAsync:j,joinOfficialGroupAsync:k};g["default"]=a}),98);
__d("InstantGamesChallengePickerFilter",[],(function(a,b,c,d,e,f){a=Object.freeze({NEW_CONTEXT_ONLY:"NEW_CONTEXT_ONLY",INCLUDE_EXISTING_CHALLENGES:"INCLUDE_EXISTING_CHALLENGES",NEW_PLAYERS_ONLY:"NEW_PLAYERS_ONLY",DUMMY_FILTER:"DUMMY_FILTER"});f["default"]=a}),66);
__d("fbinstant/common/apiResultComparator",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){a.sendPassThroughAsync("API_RESULT_COMPARATOR",{control_result:b,experiment_result:c,compare_method:d,endpoint:e})}f["default"]=a}),66);
__d("fbinstant/common/bannerAdLimiter",["InstantGamesPassThroughRequestType","fbinstant/common/rateLimiter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(b){this.$2=b,this.$1=new(c("fbinstant/common/rateLimiter"))(a.RATE_LIMIT_AMOUNT,a.RATE_LIMIT_PERIOD)}var b=a.prototype;b.updateRateLimiter=function(b){this.$1=new(c("fbinstant/common/rateLimiter"))(a.RATE_LIMIT_AMOUNT,b)};b.canShowAd=function(){var a=this.$1.check();if(a)return!0;this.$2.sendPassThroughAsync(c("InstantGamesPassThroughRequestType").HIGH_AD_RATE,{});return!1};b.markAdShown=function(){this.$1.bump()};return a}();a.RATE_LIMIT_AMOUNT=1;a.RATE_LIMIT_PERIOD=45e3;g["default"]=a}),98);
__d("fbinstant/common/getJSONEntrypointData",[],(function(a,b,c,d,e,f){"use strict";function a(a){try{return JSON.parse(a)}catch(b){try{a=decodeURIComponent(a);return JSON.parse(a)}catch(a){return null}}}f["default"]=a}),66);
__d("fbinstant/common/videoPlayerInstanceManager",["fbinstant/common/platform","fbinstant/common/platformUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.updateTimestamp=function(a){var b;if(((b=this.$1[a.videoPlayerInstanceID])==null?void 0:b.val)===a.timestamp)return;this.$1[a.videoPlayerInstanceID]={receivedTime:new Date(),val:a.timestamp}};b.getCurrentTimestamp=function(b){var d;b=this.$1[b];if(b===void 0)return 0;var e=new Date()-b.receivedTime;d=(d=a.maxTimestampOffsetMs[c("fbinstant/common/platformUtils").getPlatform()])!=null?d:0;return b.val+Math.min(e,d)};return a}();a.maxTimestampOffsetMs=(b={},b[c("fbinstant/common/platform").IOS]=200,b[c("fbinstant/common/platform").ANDROID]=16,b[c("fbinstant/common/platform").WEB]=16,b[c("fbinstant/common/platform").MOBILE_WEB]=16,b);d=new a();g["default"]=d}),98);
__d("fbinstant/latest/entryPoint",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$2=a,this.$1=b||null}var b=a.prototype;b.getData=function(){return this.$1};b.getSource=function(){return this.$2};return a}();f["default"]=a}),66);
__d("fbinstant/latest/internalEventLogger",["fbinstant/common/eventBatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.$3=function(b){var c=a.$2;if(b.length<=0||!c)return;b=a.$4(b);c.sendPassThroughAsync("SDK_EVENT",{events:b})};this.$1=new(c("fbinstant/common/eventBatcher"))(this.$3)}var b=a.prototype;b.initialize=function(a){this.$2=a,this.$1.startInterval()};b.logEvent=function(a,b,c){this.$1.logEvent({type:a,data:babelHelpers["extends"]({},c,{contextID:b.getContext().getID()})})};b.$4=function(a){var b={};for(var c=0;c<a.length;c++){var d=a[c];Object.prototype.hasOwnProperty.call(b,d.data.key)||(b[d.data.key]=babelHelpers["extends"]({},d),b[d.data.key].data.count=0);b[d.data.key].data.count+=1}d=[];for(c in b)d.push(b[c]);return d};return a}();g["default"]=a}),98);
__d("fbinstant/latest/messageSender",["Alea","InstantGamesSDKMessages","fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/event","fbinstant/common/exclusiveMessageManager","fbinstant/common/platform","fbinstant/common/platformUtils","fbinstant/common/supportedMessagesManager"],(function(a,b,c,d,e,f,g){"use strict";var h=c("Alea")(),i=4294967296;a=function(){function a(a){this.$4=a,this.$1={},this.$2=new(c("fbinstant/common/event"))(),this.$3=new(c("fbinstant/common/event"))()}var b=a.prototype;b.initialize=function(a){var b=this;this.$6=a.source;this.$5=a.sender;this.$2.on(function(a){b.$7(a,!0)});this.$3.on(function(a){b.$7(a,!1)});a=new RegExp("[?&]IsMobileWeb(=([^&#]*)|&|#|$)","i");a=a.exec(window.location.href);if(!a||!a[2])return;window.IsMobileWeb=parseInt(a[2],10)===1};b.getResolvePromiseEvent=function(){return this.$2};b.getRejectPromiseEvent=function(){return this.$3};b.send=function(a,b){if(!this.$6||!this.$5||!c("fbinstant/common/supportedMessagesManager").isSupported(a))return;this.$5.postMessage(this.$8({type:a,content:b,destination:this.$6}),"*")};b.sendAsync=function(a,b){var d=this;return!c("fbinstant/common/supportedMessagesManager").isSupported(a)?Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION,message:"Client does not support the message: "+a})):c("fbinstant/common/exclusiveMessageManager").lockOrThrow(a).then(function(){return d.$9(a,b).then(function(b){c("fbinstant/common/exclusiveMessageManager").release(a);return b})["catch"](function(b){c("fbinstant/common/exclusiveMessageManager").release(a);throw b})})["catch"](function(a){throw new(c("fbinstant/common/apiError"))(a)})};b.showGenericDialogAsync=function(a,b){b=JSON.stringify(b||{});b={data:b,request:a,sdkVersion:this.$4};a=c("fbinstant/common/platformUtils").getPlatform()===c("fbinstant/common/platform").IOS?c("InstantGamesSDKMessages").SHOW_GENERIC_DIALOG_ASYNC_IOS:c("InstantGamesSDKMessages").SHOW_GENERIC_DIALOG_ASYNC;return this.sendAsync(a,b).then(function(a){if(!a)return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").UNKNOWN,message:"No response data provided"}));return a.errorCode?Promise.reject(new(c("fbinstant/common/apiError"))({code:a.errorCode,message:a.errorMessage||""})):a})["catch"](function(a){throw new(c("fbinstant/common/apiError"))(a)})};b.sendPassThroughAsync=function(a,b){b=JSON.stringify(b||{});b={data:b,request:a,sdkVersion:this.$4};return this.sendAsync(c("InstantGamesSDKMessages").SEND_PASS_THROUGH_ASYNC,b).then(function(a){if(!a)return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").UNKNOWN,message:"No response data provided"}));a=JSON.parse(a);var b=a.data,d=a.errorCode;a=a.errorMessage;return d?Promise.reject(new(c("fbinstant/common/apiError"))({code:d,message:a||""})):b})};b.$8=function(a){switch(this.$6){case"Android":case"quicksilver-rn":return JSON.stringify(a)}return a};b.$10=function(a){return a+"_"+Math.floor(h()*i)};b.$11=function(a,b,c){this.$1[a]={resolve:b,reject:c}};b.$7=function(a,b){var d=a.promiseID;if(!d||!this.$1[d])return;var e=this.$1[d];if(b&&e.resolve)e.resolve(a.data);else if(!b&&e.reject){b=a.data;!b?b=new(c("fbinstant/common/apiError"))({message:""}):b=new(c("fbinstant/common/apiError"))({code:b.code||c("fbinstant/common/errorCode").UNKNOWN,message:b.message||""});e.reject(b)}delete this.$1[d]};b.$9=function(a,b){var c=this;return new Promise(function(d,e){var f=c.$10(a);c.$11(f,d,e);d=b||{};d.promiseID=f;c.send(a,d)})};return a}();g["default"]=a}),98);
__d("fbinstant/latest/paymentsState",["fbinstant/common/event"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.$3=!1;this.$1=new(c("fbinstant/common/event"))();this.$2=new Promise(function(b,c){a.$1.on(function(){a.$3=!0,b(),a.$1.unbind()})})}var b=a.prototype;b.getPaymentsInitializedEvent=function(){return this.$1};b.isClientReady=function(){return this.$3};b.onInitialized=function(a){this.$2.then(a)};return a}();g["default"]=a}),98);
__d("fbinstant/latest/internalStates",["InstantGamesGameState","fbinstant/common/adLimiter","fbinstant/common/analytics","fbinstant/common/bannerAdLimiter","fbinstant/common/contextType","fbinstant/common/event","fbinstant/common/gameContext","fbinstant/common/getJSONEntrypointData","fbinstant/common/supportedFeaturesManager","fbinstant/common/supportedMessagesManager","fbinstant/common/videoPlayerInstanceManager","fbinstant/latest/entryPoint","fbinstant/latest/internalEventLogger","fbinstant/latest/messageSender","fbinstant/latest/paymentsState"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$32=null,this.$33=!1,this.$30="fbinstant.latest".substring("fbinstant.".length),this.$18=new(c("fbinstant/latest/messageSender"))(this.$30),this.$1=new(c("fbinstant/common/adLimiter"))(this.$18),this.$2=new(c("fbinstant/common/analytics"))(),this.$3=new(c("fbinstant/common/event"))(),this.$4=null,this.$5=new(c("fbinstant/common/bannerAdLimiter"))(this.$18),this.$6=null,this.$7=new(c("fbinstant/common/gameContext"))({type:c("fbinstant/common/contextType").SOLO}),this.$8=0,this.$10=new(c("fbinstant/latest/entryPoint"))(null,null),this.$11=d("InstantGamesGameState").LOADING,this.$12=new(c("fbinstant/common/event"))(),this.$13=new(c("fbinstant/common/event"))(),this.$14=!1,this.$15=new(c("fbinstant/latest/internalEventLogger"))(),this.$16=null,this.$17=null,this.$19=new(c("fbinstant/common/event"))(),this.$22=new(c("fbinstant/latest/paymentsState"))(),this.$23=null,this.$24=null,this.$25=null,this.$26=null,this.$20=new(c("fbinstant/common/event"))(),this.$21=new(c("fbinstant/common/event"))(),this.$27=new(c("fbinstant/common/event"))(),this.$28=new(c("fbinstant/common/event"))(),this.$29=new(c("fbinstant/common/event"))(),this.$31=new(c("fbinstant/common/event"))(),this.$9=null,this.$34=!1,this.$35=null}var b=a.prototype;b.initialize=function(a){var b=this;a.appID&&this.setAppID(a.appID);a.customUpdateID&&this.setCustomUpdateID(a.customUpdateID);a.supportedMessages&&Array.isArray(a.supportedMessages)&&c("fbinstant/common/supportedMessagesManager").setSupported(a.supportedMessages);a.supportedFeatures&&Array.isArray(a.supportedFeatures)&&c("fbinstant/common/supportedFeaturesManager").setSupported(a.supportedFeatures);var d=null;if(a.entryPointData){var e=c("fbinstant/common/getJSONEntrypointData")(a.entryPointData);e!=null&&(e.sender&&e.data?d=e.data:d=e)}e=a.entryPoint||null;this.updateEntryPoint(new(c("fbinstant/latest/entryPoint"))(e,d));this.updateContext(a);this.setInitialized();this.getAnalyticsLogEvent().on(function(a){var c=a.eventName,d=a.valueToSum;a=a.parameters;if(!c)return;b.getAnalytics().logEvent(c,d!=null?d:null,a||null)});this.getInternalEventLogger().initialize(this.getMessageSender());this.getVideoPlayerInstanceTimestampUpdateEvent().on(function(a){var b=a.videoPlayerInstanceID;a=a.timestamp;c("fbinstant/common/videoPlayerInstanceManager").updateTimestamp({videoPlayerInstanceID:b,timestamp:a})})};b.setEntryPointVideoID=function(a){a!=null&&(this.$32=String(a)),this.$33=!0};b.updateContext=function(a){if(!a.contextType)return;this.$7=new(c("fbinstant/common/gameContext"))({id:a.contextID,size:a.contextSize,type:a.contextType.toUpperCase()});this.getMessageSender().sendPassThroughAsync("CROSS_PLAY_TRACKING",{context_token_id:this.getContext().getID()})};b.updateEntryPoint=function(a){this.$10=a};b.setAppID=function(a){this.$4=a};b.setCustomUpdateID=function(a){this.$9=a};b.setLocale=function(a){this.$16=a};b.setPlayerID=function(a){this.$23=a};b.setPlayerName=function(a){this.$24=a};b.setPlayerPhoto=function(a){this.$25=a};b.setInitialized=function(){this.$14=!0};b.setLoadingProgress=function(a){this.$8=a};b.setGameState=function(a){this.$11=a};b.setConnectedPlayersPromise=function(a){this.$6=a};b.setMatchPlayerPromise=function(a){this.$17=a};b.setQEParams=function(a){this.$26=a};b.setShouldCallGraphApiDuringInitialization=function(a){this.$34=a};b.setGetEntryPointAsyncPromise=function(a){this.$35=a};b.getAnalytics=function(){return this.$2};b.getAppID=function(){return this.$4};b.getConnectedPlayersPromise=function(){return this.$6};b.getContext=function(){return this.$7};b.getCustomUpdateID=function(){return this.$9};b.getLoadingProgress=function(){return this.$8};b.getEntryPoint=function(){return this.$10};b.getEntryPointVideoID=function(){return this.$32};b.hasEntryPointVideoIDResolved=function(){return this.$33};b.getGameState=function(){return this.$11};b.getGameStartEvent=function(){return this.$12};b.isInitialized=function(){return this.$14};b.getInternalEventLogger=function(){return this.$15};b.getLocale=function(){return this.$16};b.getMatchPlayerPromise=function(){return this.$17};b.getMessageSender=function(){return this.$18};b.getPaymentsState=function(){return this.$22};b.getPlayerID=function(){return this.$23};b.getPlayerName=function(){return this.$24};b.getPlayerPhoto=function(){return this.$25};b.getRequestScreenshotEvent=function(){return this.$27};b.getRestartEvent=function(){return this.$28};b.getPauseEvent=function(){return this.$19};b.getReceiveMessageEvent=function(){return this.$20};b.getReceiveStateUpdateEvent=function(){return this.$21};b.getResumeEvent=function(){return this.$29};b.getAnalyticsLogEvent=function(){return this.$3};b.getSdkVersion=function(){return this.$30};b.getQEParams=function(){return this.$26};b.getAdLimiter=function(){return this.$1};b.getBannerAdLimiter=function(){return this.$5};b.updateBannerAdLimiter=function(a){this.$5.updateRateLimiter(a)};b.getGestureCommandEvent=function(){return this.$13};b.getVideoPlayerInstanceTimestampUpdateEvent=function(){return this.$31};b.getShouldCallGraphApiDuringInitialization=function(){return this.$34};b.getEntryPointAsyncPromise=function(){return this.$35};return a}();b=new a();g["default"]=b}),98);
__d("fbinstant/latest/config",["JSSDKFBInstantConfig","JSSDKFBInstantGraphAPIMigrationConfig","fbinstant/latest/internalStates"],(function(a,b,c,d,e,f,g){"use strict";var h="default";function a(a){var b=c("fbinstant/latest/internalStates").getSdkVersion();b=i(b,a);return b!=null?b:i(h,a)}function i(a,b){var c=j();c=a in c?c[a]:null;return c==null?null:b in c?c[b]:null}function j(){return c("JSSDKFBInstantConfig")}function b(a){var b=k();return b==null?!1:a in b?b[a]:!1}function k(){return c("JSSDKFBInstantGraphAPIMigrationConfig")}d={get:a,shouldUseGraphAPI:b};g["default"]=d}),98);
__d("fbinstant/common/graphAPIResponseHandler",["fbinstant/common/apiError","fbinstant/common/errorCode"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){if(!a)return d(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").UNKNOWN,message:"No response data provided"}));return a.error?d(h(a.error)):b(a)}function h(a){try{a=a.error_user_msg;var b=null;if(a==null||a.length===0)b=c("fbinstant/common/errorCode").UNKNOWN;else switch(a){case"Player cannot see the game.":case"Invalid app.":case"No page associated to the Instant Game.":case"Can not perform this operation before game start.":case"User already subscribed to this game bot.":b=c("fbinstant/common/errorCode").INVALID_OPERATION;break;case"Exceed API policy limit.":b=c("fbinstant/common/errorCode").RATE_LIMITED;break;case"Client version does not support this API.":b=c("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION;break;case"Invalid entry point":b=c("fbinstant/common/errorCode").INVALID_PARAM;break;default:b=c("fbinstant/common/errorCode").UNKNOWN}return new(c("fbinstant/common/apiError"))({code:b,message:a})}catch(a){return new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").UNKNOWN,message:""})}}g["default"]=a}),98);
__d("fbinstant/latest/asid",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getASID=function(){return this.$1.asid};b.getSignature=function(){return this.$1.signed_request};return a}();f["default"]=a}),66);
__d("InstantGamesSDKFeatures",[],(function(a,b,c,d,e,f){"use strict";a="flexible";f.FLEXIBLE=a}),66);
__d("fbinstant/common/consoleLogger",[],(function(a,b,c,d,e,f){"use strict";a={init:function(a){if(!a)return;window.addEventListener("error",function(b){b={type:"error",message:b&&b.message||"",filename:b&&b.filename||null,lineno:b&&b.lineno||null,colno:b&&b.colno||null,stack:b&&b.error&&b.error.stack||null};try{b.print=JSON.stringify(b)}catch(a){b.print=b.message}a(b)})}};b=a;f["default"]=b}),66);
__d("fbinstant/common/gestureCommandManager",["getActiveElement"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.handleCommand=function(a){a=a.gesture;if(!a.length)return;var b=a[0];switch(b){case"swipe":b=this.$1(a);b!=null&&this.$2(b);break}};b.$1=function(a){if(a.length!==6)return null;var b=parseFloat(a[1]),c=parseFloat(a[2]),d=parseFloat(a[3]),e=parseFloat(a[4]);a=parseFloat(a[5]);return isNaN(b)||b<0||b>1||isNaN(c)||c<0||c>1||isNaN(d)||d<0||d>1||isNaN(e)||e<0||e>1||isNaN(a)||a<0?null:{x1:b,y1:c,x2:d,y2:e,speed:a}};b.$2=function(a){var b=c("getActiveElement")();if(b==null)return;var d=a.x1*b.clientWidth,e=a.y1*b.clientHeight,f=a.x2*b.clientWidth,g=a.y2*b.clientHeight,h=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0,clientX:d,clientY:e}),i=new MouseEvent("mousemove",{view:window,bubbles:!0,cancelable:!0,clientX:f,clientY:g}),j=new MouseEvent("mouseup",{view:window,bubbles:!0,cancelable:!0,clientX:f,clientY:g});b=(f=document.elementFromPoint(d,e))!=null?f:b;b.dispatchEvent(h);(function(b){window.setTimeout(function(){b.dispatchEvent(i),b.dispatchEvent(j)},a.speed*1e3)})(b)};return a}();b=new a();g["default"]=b}),98);
__d("fbinstant/common/igPromiseDone",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=arguments.length>1?a.then(b,c):a;d.then(function(){},function(){})}f["default"]=a}),66);
__d("fbinstant/common/performanceTracker",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.init=function(a){return};return a}();b=new a();f["default"]=b}),66);
__d("fbinstant/latest/heartbeat",["fbinstant/latest/internalStates"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i={_heartbeatInterval:null,startHeartbeat:function(){i._heartbeatInterval&&i.stopHeartbeat(),i.sendHeartbeat("start"),i._heartbeatInterval=window.setInterval(function(){i.sendHeartbeat("update")},h)},stopHeartbeat:function(){window.clearInterval(i._heartbeatInterval),i._heartbeatInterval=null,i.sendHeartbeat("end")},sendHeartbeat:function(a){c("fbinstant/latest/internalStates").getMessageSender().sendPassThroughAsync("HEARTBEAT",{action:a,contextID:c("fbinstant/latest/internalStates").getContext().getID()})}};a=i;g["default"]=a}),98);
__d("fbinstant/latest/messageConfig",[],(function(a,b,c,d,e,f){"use strict";a={getConfig:function(){if(window.QuicksilverAndroid)return{sender:window.QuicksilverAndroid,source:"Android"};else if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.quicksilver)return{sender:window.webkit.messageHandlers.quicksilver||parent,source:"iOS"};var a=new RegExp("[?&]source(=([^&#]*)|&|#|$)","i");a=a.exec(window.location.href);return{sender:parent,source:a&&a[2]&&decodeURIComponent(a[2].replace(/\+/g," "))}}};b=a;f["default"]=b}),66);
__d("fbinstant/latest/messageReceiver",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=null}var b=a.prototype;b.$2=function(a){if(!a.data||!a.data.source)return;var b=a.data.type;if(!b)return;b=this.$1&&this.$1[b];if(!b)return;b(a.data.content)};b.init=function(){this.$1={},window.addEventListener("message",this.$2.bind(this))};b.registerMessageHandler=function(a,b,c){var d=this.$1;if(!d)return;c?d[a]=b.triggerSubscribers.bind(b,c):d[a]=b.triggerSubscribers.bind(b)};return a}();b=new a();f["default"]=b}),66);
__d("fbinstant/latest/lifecycle",["InstantGamesGameState","InstantGamesSDKFeatures","InstantGamesSDKMessages","fbinstant/common/apiError","fbinstant/common/consoleLogger","fbinstant/common/errorCode","fbinstant/common/genericDialogs","fbinstant/common/gestureCommandManager","fbinstant/common/getJSONEntrypointData","fbinstant/common/igPromiseDone","fbinstant/common/performanceTracker","fbinstant/common/supportedFeaturesManager","fbinstant/latest/entryPoint","fbinstant/latest/heartbeat","fbinstant/latest/internalStates","fbinstant/latest/messageConfig","fbinstant/latest/messageReceiver"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=null;return new Promise(function(d){c("fbinstant/latest/internalStates").getGameStartEvent().on(d),a.send(c("InstantGamesSDKMessages").ON_GAME_READY),b=function(a){c("fbinstant/latest/internalStates").getGameStartEvent().off(d);return a}}).then(b)}function i(a){c("fbinstant/latest/internalStates").updateContext(a);a.customUpdateID&&c("fbinstant/latest/internalStates").setCustomUpdateID(a.customUpdateID);var b=null;if(a.entryPointData){var d=c("fbinstant/common/getJSONEntrypointData")(a.entryPointData);d!=null&&(d.sender&&d.data?b=d.data:(c("fbinstant/latest/internalStates").getMessageSender().sendPassThroughAsync("ENTRYPOINT_DATA",{entrypoint_data:a.entryPointData}),b=d))}d=null;a.entryPoint&&(d=a.entryPoint);c("fbinstant/latest/internalStates").updateEntryPoint(new(c("fbinstant/latest/entryPoint"))(d,b))}var j={initializeAsync:function(a){a.initialize(c("fbinstant/latest/messageConfig").getConfig());a.send(c("InstantGamesSDKMessages").ON_BEGIN_LOAD,100);c("fbinstant/common/consoleLogger").init(function(b){a.send(c("InstantGamesSDKMessages").ON_CONSOLE,b)});c("fbinstant/latest/messageReceiver").init();c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").REQUEST_SCREENSHOT,c("fbinstant/latest/internalStates").getRequestScreenshotEvent(),null);c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").RESTART,c("fbinstant/latest/internalStates").getRestartEvent(),null);c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").RESOLVE_PROMISE,a.getResolvePromiseEvent(),null);c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").REJECT_PROMISE,a.getRejectPromiseEvent(),null);c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").PAUSE,c("fbinstant/latest/internalStates").getPauseEvent(),null);c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").RESUME,c("fbinstant/latest/internalStates").getResumeEvent(),null);c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").VIDEO_PLAYER_INSTANCE_TIMESTAMP_UPDATE,c("fbinstant/latest/internalStates").getVideoPlayerInstanceTimestampUpdateEvent(),null);c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").ANALYTICS_LOG_EVENT,c("fbinstant/latest/internalStates").getAnalyticsLogEvent(),null);c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").REALTIME_RECEIVE_MESSAGE,c("fbinstant/latest/internalStates").getReceiveMessageEvent(),null);c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").REALTIME_RECEIVE_STATE_UPDATE,c("fbinstant/latest/internalStates").getReceiveStateUpdateEvent(),null);c("fbinstant/latest/internalStates").getGameStartEvent().on(function(){c("fbinstant/latest/internalStates").setGameState(d("InstantGamesGameState").PLAYING)});c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").GAME_START,c("fbinstant/latest/internalStates").getGameStartEvent(),null);c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").PAYMENTS_INITIALIZED,c("fbinstant/latest/internalStates").getPaymentsState().getPaymentsInitializedEvent(),null);c("fbinstant/latest/internalStates").getGestureCommandEvent().on(function(a){c("fbinstant/common/gestureCommandManager").handleCommand(a)});c("fbinstant/latest/messageReceiver").registerMessageHandler(c("InstantGamesSDKMessages").GESTURE_COMMAND,c("fbinstant/latest/internalStates").getGestureCommandEvent(),null);return a.sendAsync(c("InstantGamesSDKMessages").INITIALIZE_ASYNC,{sdkVersion:c("fbinstant/latest/internalStates").getSdkVersion()}).then(function(a){c("fbinstant/latest/internalStates").isInitialized()||c("fbinstant/latest/internalStates").initialize(a)})},startGameAsync:function(a){if(c("fbinstant/latest/internalStates").getGameState()===d("InstantGamesGameState").PLAYING)return Promise.resolve();if(!c("fbinstant/latest/internalStates").isInitialized())return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"The SDK has not been initialized yet. Please wait for FBInstant.initializeAsync to resolve before calling this API."}));if(!c("fbinstant/common/supportedFeaturesManager").isSupported(d("InstantGamesSDKFeatures").FLEXIBLE))return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION,message:"The client does not support Instant Games."}));c("fbinstant/common/performanceTracker").init(a);c("fbinstant/latest/internalStates").setLoadingProgress(100);return h(a).then(function(b){c("fbinstant/latest/internalStates").setGameState(d("InstantGamesGameState").PLAYING);b&&i(b);return a.sendPassThroughAsync("APP_CUSTOM_EVENT",{contextID:c("fbinstant/latest/internalStates").getContext().getID(),entryPointRawSource:c("fbinstant/latest/internalStates").getEntryPoint().getSource(),payload:c("fbinstant/latest/internalStates").getEntryPoint().getData(),customUpdateID:c("fbinstant/latest/internalStates").getCustomUpdateID()})}).then(function(b){var d;b&&b.shouldShowMessagingConsentDialog?d=a.showGenericDialogAsync(c("fbinstant/common/genericDialogs").CUSTOM_UPDATE_MESSAGING_CONSENT,b.args).then()["catch"](function(b){b.code===c("fbinstant/common/errorCode").USER_INPUT&&j.quit(a)}):d=Promise.resolve();b&&b.shouldPromptTournamentStatus&&c("fbinstant/common/igPromiseDone")(d,function(){return a.showGenericDialogAsync(c("fbinstant/common/genericDialogs").TOURNAMENT_STATUS,b.args).then(function(a){if(a!=null&&a.context_id!=null&&a.context_type!=null&&a.context_size!=null){var b=a.context_id,d=a.context_type;a=a.context_size;c("fbinstant/latest/internalStates").updateContext({contextID:b,contextType:d,contextSize:a})}})});c("fbinstant/latest/heartbeat").startHeartbeat()})},setLoadingProgress:function(a,b){if(b>=0&&b<=100&&b>c("fbinstant/latest/internalStates").getLoadingProgress())a.send(c("InstantGamesSDKMessages").ON_PROGRESS_LOAD,b),c("fbinstant/latest/internalStates").setLoadingProgress(b);else{a="FbInstant::setLoadingProgress(";a=") is invalid. The progress must be";b<0||b>100||b<=c("fbinstant/latest/internalStates").getLoadingProgress()}},quit:function(a){a.send(c("InstantGamesSDKMessages").QUIT,{}),c("fbinstant/latest/heartbeat").stopHeartbeat()}};a=j;g["default"]=a}),98);
__d("fbinstant/latest/logger",["fbinstant/common/getUrlParam","fbinstant/latest/internalStates"],(function(a,b,c,d,e,f,g){"use strict";var h=15e3;function a(a,b,c){i([a,b].filter(Boolean).join("_"));for(var d=arguments.length,e=new Array(d>3?d-3:0),g=3;g<d;g++)e[g-3]=arguments[g];return c.apply(null,e)}function b(a,b){var c=window.setTimeout(function(){return l(b)},h);return a.then(function(a){window.clearTimeout(c);k(b);return a})["catch"](function(a){window.clearTimeout(c);var d=a&&a.code||null,e=a&&a.message||null;j(b,d,e);throw a})}function i(a){var b=c("fbinstant/latest/internalStates").getAnalytics();b.logAPICall(a);m(n(a,"api_call"),"API",{type:"api_call",name:a})}function d(a){var b=c("fbinstant/latest/internalStates").getAnalytics();b.logBeginAsyncAPICall(a);m(n(a,"api_begin_async"),"API",{type:"api_begin_async",name:a})}function j(a,b,d){var e=c("fbinstant/latest/internalStates").getAnalytics();e.logRejectAsyncAPICall(a,b);m(n(a,"api_reject_async",String(b)),"API",{type:"api_reject_async",name:a,code:b,errorMessage:d})}function k(a){var b=c("fbinstant/latest/internalStates").getAnalytics();b.logResolveAsyncAPICall(a);m(n(a,"api_resolve_async"),"API",{type:"api_resolve_async",name:a})}function l(a){m(n(a,"api_exceed_duration"),"API",{type:"api_exceed_duration",name:a})}function m(a,b,d){d=babelHelpers["extends"]({},d,{key:a,gameState:c("fbinstant/latest/internalStates").getGameState(),clientTime:new Date().getTime(),environmentType:c("fbinstant/common/getUrlParam")("environment_type")});c("fbinstant/latest/internalStates").getInternalEventLogger().logEvent(b,c("fbinstant/latest/internalStates"),d)}function n(a,b,c){c===void 0&&(c=null);return c!=null?a+"."+b+"."+c:a+"."+b}e={logAPICall:a,logBeginAsync:d,logAsyncResult:b,logReject:j,logResolve:k};g["default"]=e}),98);
__d("fbinstant/latest/graphApi",["ApiClient","fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/genericDialogs","fbinstant/common/graphAPIResponseHandler","fbinstant/latest/asid","fbinstant/latest/config","fbinstant/latest/internalStates","fbinstant/latest/lifecycle","fbinstant/latest/logger"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null,k=2e3;function l(a,b,d){var e="graph_api_async";c("fbinstant/latest/logger").logBeginAsync(e);var f="https://graph.fb.gg"+a;a=n().then(function(){return new Promise(function(a,e){return c("ApiClient").graph(f,b,d,function(b){return c("fbinstant/common/graphAPIResponseHandler")(b,a,e)})})});return c("fbinstant/latest/logger").logAsyncResult(a,e)}function a(){i==null&&(i=l("/me","get",{fields:["id"]}).then(function(a){return a.id}));return i}function b(){if(c("fbinstant/latest/config").shouldUseGraphAPI("getSignedASIDAsync")){j==null&&(j=l("/me","get",{fields:["signed_asid"]}).then(function(a){if(a&&a.signed_asid)return new(c("fbinstant/latest/asid"))(a.signed_asid)}));return j}else return c("fbinstant/latest/internalStates").getMessageSender().sendPassThroughAsync("ASID").then(function(a){if(a&&a.asid)return new(c("fbinstant/latest/asid"))(a)})}function d(){h===null&&(h=c("fbinstant/latest/internalStates").getMessageSender().sendPassThroughAsync("PLATFORM_INIT",{payload:c("fbinstant/latest/internalStates").getEntryPoint().getData(),context_token_id:c("fbinstant/latest/internalStates").getContext().getID(),retry_count:0}).then(function(a){if(a==null||a.access_token==null)throw a;q(a);return m()},function(){h=null})["catch"](function(a){var b=[1,2,3].reduce(function(a,b){return a.then(function(a){return o(b,a).then()})},new Promise(function(b){return b(a)}));return b.then(function(a){if(a==null||a.access_token==null){c("fbinstant/latest/lifecycle").quit(c("fbinstant/latest/internalStates").getMessageSender());throw new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").NOT_AUTHORIZED,message:"The player is not currently authorized."})}else{q(a);return m()}})}));return h}function m(){if(!c("fbinstant/latest/internalStates").getShouldCallGraphApiDuringInitialization())return Promise.resolve();if(c("ApiClient").getAccessToken()==null)throw new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").NOT_AUTHORIZED,message:"The player is not currently authorized."});return l("/me","get",{fields:["instant_game_player_id","name","picture","locale"]}).then(function(a){c("fbinstant/latest/internalStates").setPlayerID(a.instant_game_player_id);c("fbinstant/latest/internalStates").setPlayerName(a.name);c("fbinstant/latest/internalStates").setPlayerPhoto(a.picture.data.url);c("fbinstant/latest/internalStates").setLocale((a=a.locale)!=null?a:"")})}function n(){var a=c("ApiClient").getAccessToken();return a?Promise.resolve():c("fbinstant/latest/internalStates").getMessageSender().sendPassThroughAsync("GET_ACCESS_TOKEN").then(function(a){if(a&&a.access_token){c("ApiClient").setAccessToken(a.access_token);return Promise.resolve()}})}function o(a,b){if(b==null||b.access_token==null)return p(a);else return new Promise(function(a){return a(b)})}function p(a){return new Promise(function(b){return window.setTimeout(function(){return c("fbinstant/latest/internalStates").getMessageSender().sendPassThroughAsync("PLATFORM_INIT",{payload:c("fbinstant/latest/internalStates").getEntryPoint().getData(),context_token_id:c("fbinstant/latest/internalStates").getContext().getID(),retry_count:a}).then(function(a){return b(a)})},k*a)})}function q(a){a&&a.access_token&&c("ApiClient").setAccessToken(a.access_token),a&&a.should_call_graph_api_during_initialization!=null&&c("fbinstant/latest/internalStates").setShouldCallGraphApiDuringInitialization(a.should_call_graph_api_during_initialization),a&&a.is_canvas_to_instant_games_silent_reauth&&window.setTimeout(function(){c("fbinstant/latest/internalStates").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").CANVAS_TO_INSTANT_GAMES_SILENT_REAUTH_NOTICE)},5e3)}e={initPlatformAsync:d,getPlayerASIDAsync:a,getPlayerSignedASIDAsync:b,requestAsync:l};g["default"]=e}),98);
__d("fbinstant/common/connectedPlayers",["InstantGamesPassThroughRequestType","InstantGamesSDKMessages","fbinstant/common/apiResultComparator","fbinstant/latest/config","fbinstant/latest/graphApi"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){this.$1=a}var b=a.prototype;b.getID=function(){return this.$1.id};b.getName=function(){return this.$1.name};b.getPhoto=function(){return this.$1.photo};return a}();function i(){return c("fbinstant/latest/graphApi").requestAsync("/me/friends?limit=1000","get",{fields:["instant_game_player_id","name","picture"]}).then(function(a){return a.data.map(function(a){return new h({id:a.instant_game_player_id,name:a.name,photo:a.picture.data.url})})})}a={fetchAsync:function(a){a.sendAsync(c("InstantGamesSDKMessages").GET_CONNECTED_PLAYERS_ASYNC,{});return a.sendPassThroughAsync(c("InstantGamesPassThroughRequestType").GET_CONNECTED_PLAYERS,{}).then(function(b){c("fbinstant/latest/config").shouldUseGraphAPI("getConnectedPlayersAsync")&&i().then(function(d){var e=d.map(function(a){return a.getID()}),f=b.map(function(a){return a.id}),g=d.map(function(a){return a.getName()}),h=b.map(function(a){return a.name});d=d.map(function(a){return a.getPhoto()});var i=b.map(function(a){return a.photo});c("fbinstant/common/apiResultComparator")(a,f,e,"one_to_one_match","player.getConnectedPlayer.id");c("fbinstant/common/apiResultComparator")(a,h,g,"one_to_one_match","player.getConnectedPlayer.name");c("fbinstant/common/apiResultComparator")(a,i,d,"observing","player.getConnectedPlayer.photo")});return b.map(function(a){return new h(a)})})},ConnectedPlayer:h};b=a;g["default"]=b}),98);
__d("fbinstant/releases/samus/contextCreator.samus",["InstantGamesGameState","InstantGamesSDKMessages","Promise","fbinstant/common/apiError","fbinstant/common/connectedPlayers","fbinstant/common/errorCode","fbinstant/common/validator","fbinstant/releases/samus/internalStates.samus"],(function(a,b,c,d,e,f){"use strict";var g={createAsync:function(a){if(b("fbinstant/releases/samus/internalStates.samus").getGameState()!==b("InstantGamesGameState").PLAYING)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}));var c=a==null||Array.isArray(a);if(a!=null&&!Array.isArray(a)){var d=[a];d=g._createAsync(d,c)}else{var e=a;d=g._canCreateAsync(e).then(function(a){if(!a)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION,message:"Client does not support no player IDS or multiple player IDs yet"}));if(e==null)return g._createAsyncNullState(c);else return g._createAsync(e,c)})}return d},_createAsync:function(a,c){return b("fbinstant/common/validator").validate(a,b("fbinstant/common/validator").array().schemaType(b("fbinstant/common/validator").string())).then(function(){var c=a.indexOf(b("fbinstant/releases/samus/internalStates.samus").getPlayerID()||"");c>-1&&a.splice(c,1);if(a.length===0)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_PARAM,message:"At least one player id besides the current player must be provided."}));c=b("fbinstant/releases/samus/internalStates.samus").getConnectedPlayersPromise();if(c)return c;c=b("fbinstant/common/connectedPlayers").fetchAsync(b("fbinstant/releases/samus/internalStates.samus").getMessageSender());b("fbinstant/releases/samus/internalStates.samus").setConnectedPlayersPromise(c);return c}).then(function(d){d=new Set(d.map(function(a){return a.getID()}));for(var e=0;e<a.length;e++){var f=a[e];if(!d.has(f))return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_PARAM,message:"Provided ID "+String(f)+" is not a connected player of the current player."}))}return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").CONTEXT_CREATE_ASYNC,{playerIDs:a,shouldCreateGroup:c})}).then(function(a){b("fbinstant/releases/samus/internalStates.samus").updateContext(a);return})},_canCreateAsync:function(a){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("CAN_CREATE_CONTEXT",{suggestedPlayerIDs:a})["catch"](function(a){return!1})},_createAsyncNullState:function(a){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").CONTEXT_CREATE_ASYNC,{shouldCreateGroup:a}).then(function(a){b("fbinstant/releases/samus/internalStates.samus").updateContext(a);return})}};e.exports=g}),null);
__d("fbinstant/releases/samus/contextPlayers.samus",["InstantGamesSDKMessages","fbinstant/releases/samus/internalStates.samus"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a){this.$1=a}var b=a.prototype;b.getID=function(){return this.$1.id};b.getName=function(){return this.$1.name||null};b.getPhoto=function(){return this.$1.photo||null};return a}();a={fetchAsync:function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").CONTEXT_PLAYERS_FETCH_ASYNC,{}).then(function(a){return a.map(function(a){return new g(a)})})},ContextPlayer:g};e.exports=a}),null);
__d("fbinstant/releases/samus/contextSwitcher.samus",["InstantGamesGameState","InstantGamesSDKMessages","fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/genericDialogs","fbinstant/common/getUrlParam","fbinstant/common/platform","fbinstant/common/platformUtils","fbinstant/common/validator","fbinstant/releases/samus/internalStates.samus"],(function(a,b,c,d,e,f,g){"use strict";var h={switchAsync:function(a){if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING)return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}));if(a===c("fbinstant/releases/samus/internalStates.samus").getContext().getID())return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").SAME_CONTEXT,message:"Must specify a context other than the current one."}));var b=Number(c("fbinstant/common/getUrlParam")("use_generic_dialog_for_switch_async"))||0;if(b===1&&c("fbinstant/common/platformUtils").getPlatform()!==c("fbinstant/common/platform").WEB&&c("fbinstant/common/platformUtils").getPlatform()!==c("fbinstant/common/platform").MOBILE_WEB)return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("CAN_SWITCH_CONTEXT",{id:a}).then(function(){return h._switchAsync(a,!0)});b=Number(c("fbinstant/common/getUrlParam")("gcgs"))||0;b=b===1;if(!b)return h._canSwitchAsync(a).then(function(b){return!b?Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").CLIENT_REQUIRES_UPDATE,message:"Client requires update to support this operation"})):h._switchAsync(a,!1)});else return h._switchAsync(a,!1)},_switchAsync:function(a,b){return c("fbinstant/common/validator").validate(a,c("fbinstant/common/validator").string()).then(function(){if(b)return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").CONTEXT_SWITCH,{newContextTokenID:a,switchContext:!0});else return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").CONTEXT_SWITCH_ASYNC,{id:a})}).then(function(a){c("fbinstant/releases/samus/internalStates.samus").updateContext(a);return})},_canSwitchAsync:function(a){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("CAN_SWITCH_CONTEXT",{id:a})["catch"](function(a){return!1})}};a=h;g["default"]=a}),98);
__d("fbinstant/releases/samus/context.samus",["InstantGamesChallengePickerFilter","InstantGamesGameState","InstantGamesSDKMessages","Promise","fbinstant/common/apiError","fbinstant/common/dataAccessRecorder","fbinstant/common/errorCode","fbinstant/common/getUrlParam","fbinstant/common/validator","fbinstant/releases/samus/contextCreator.samus","fbinstant/releases/samus/contextPlayers.samus","fbinstant/releases/samus/contextSwitcher.samus","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus"],(function(a,b,c,d,e,f){"use strict";a={getID:function(){b("fbinstant/releases/samus/logger.samus").logAPICall("context_getID");var a=b("fbinstant/releases/samus/internalStates.samus").getContext().getID();a!=null&&b("fbinstant/common/dataAccessRecorder")("RECORD_GET_CONTEXT_INFO",b("fbinstant/releases/samus/internalStates.samus").getMessageSender(),a,{contextID:a});return a},getType:function(){b("fbinstant/releases/samus/logger.samus").logAPICall("context_getType");var a=b("fbinstant/releases/samus/internalStates.samus").getContext().getType(),c=b("fbinstant/releases/samus/internalStates.samus").getContext().getID();a==="POST"&&b("fbinstant/common/getUrlParam")("oct")&&(a="THREAD");c!=null&&b("fbinstant/common/dataAccessRecorder")("RECORD_GET_CONTEXT_INFO",b("fbinstant/releases/samus/internalStates.samus").getMessageSender(),c,{contextID:c});return a},isSizeBetween:function(a,c){b("fbinstant/releases/samus/logger.samus").logAPICall("context_isSizeBetween");var d=b("fbinstant/releases/samus/internalStates.samus").getContext().getContextSizeResponse();if(d)return d;d=b("fbinstant/releases/samus/internalStates.samus").getContext().getSize();if(a!==null&&!Number.isInteger(a)||c!==null&&!Number.isInteger(c)||d==null)return null;var e=!1;(!a||d>=a)&&(!c||d<=c)&&(a||c)&&(e=!0);d={answer:e,minSize:a,maxSize:c};b("fbinstant/releases/samus/internalStates.samus").getContext().setContextSizeResponse(d);return d},switchAsync:function(a){var c="context_switchAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);a=b("fbinstant/releases/samus/contextSwitcher.samus").switchAsync(a);return b("fbinstant/releases/samus/logger.samus").logAsyncResult(a,c)},chooseAsync:function(a){var c="context_chooseAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);if(b("fbinstant/releases/samus/internalStates.samus").getGameState()!==b("InstantGamesGameState").PLAYING){b("fbinstant/releases/samus/logger.samus").logReject(c,b("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var d=a||{};d.filters=d.filters||[];d.maxSize=d.maxSize||null;d.minSize=d.minSize||null;if(d.maxSize&&d.maxSize<2){b("fbinstant/releases/samus/logger.samus").logReject(c,b("fbinstant/common/errorCode").INVALID_PARAM);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_PARAM,message:"The maximum context size must be at least 2"}))}else if(d.minSize&&d.minSize<2){b("fbinstant/releases/samus/logger.samus").logReject(c,b("fbinstant/common/errorCode").INVALID_PARAM);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_PARAM,message:"The minimum context size must be at least 2"}))}else if(d.maxSize&&d.minSize&&d.minSize>d.maxSize){b("fbinstant/releases/samus/logger.samus").logReject(c,b("fbinstant/common/errorCode").INVALID_PARAM);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_PARAM,message:"The min size cannot be greater than the max size"}))}for(var a=d.filters,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;if(!Object.prototype.hasOwnProperty.call(b("InstantGamesChallengePickerFilter"),g)){b("fbinstant/releases/samus/logger.samus").logReject(c,b("fbinstant/common/errorCode").INVALID_PARAM);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_PARAM,message:'Filter "'+g+'" is not supported'}))}}g=b("fbinstant/common/validator").object().keys({filters:b("fbinstant/common/validator").array().schemaType(b("fbinstant/common/validator").string()),maxSize:b("fbinstant/common/validator").number().optional(),minSize:b("fbinstant/common/validator").number().optional()});f=b("fbinstant/common/validator").validate(d,g).then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").CONTEXT_CHOOSE_ASYNC,d)}).then(function(a){b("fbinstant/releases/samus/internalStates.samus").updateContext(a);return});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(f,c)},addPlayerAsync:function(a){var c="context_addPlayerAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);if(b("fbinstant/releases/samus/internalStates.samus").getGameState()!==b("InstantGamesGameState").PLAYING){b("fbinstant/releases/samus/logger.samus").logReject(c,b("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var d={playerID:a?a:null};a=b("fbinstant/common/validator").object().keys({playerID:b("fbinstant/common/validator").string().optional()});a=b("fbinstant/common/validator").validate(d,a).then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").CONTEXT_ADD_PLAYER_ASYNC,d)}).then(function(a){b("fbinstant/releases/samus/internalStates.samus").updateContext(a);return});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(a,c)},createAsync:function(a){var c="context_createAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);a=b("fbinstant/releases/samus/contextCreator.samus").createAsync(a);return b("fbinstant/releases/samus/logger.samus").logAsyncResult(a,c)},getPlayersAsync:function(){var a="context_fetchPlayers";b("fbinstant/releases/samus/logger.samus").logBeginAsync(a);if(b("fbinstant/releases/samus/internalStates.samus").getContext().getID()===null){b("fbinstant/releases/samus/logger.samus").logReject(a,b("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot get context players in a solo context"}))}var c=b("fbinstant/releases/samus/contextPlayers.samus").fetchAsync().then(function(c){b("fbinstant/releases/samus/logger.samus").logResolve(a);return c})["catch"](function(c){b("fbinstant/releases/samus/logger.samus").logReject(a);throw c});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(c,a)},isPublicAsync:function(a){var c="context_isPublicAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);if(b("fbinstant/releases/samus/internalStates.samus").getGameState()!==b("InstantGamesGameState").PLAYING){b("fbinstant/releases/samus/logger.samus").logReject(c,b("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var d=b("fbinstant/common/validator").validate(a,b("fbinstant/common/validator").string()).then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("GET_IS_CONTEXT_PUBLIC",{contextID:a})});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(d,c)}};e.exports=a}),null);
__d("fbinstant/common/score",["fbinstant/common/genericDialogs","fbinstant/common/validator"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return c("fbinstant/common/validator").validate(a,c("fbinstant/common/validator").integer())}function a(a,b,d){return h(b).then(function(){return a.sendPassThroughAsync("POST_SESSION_SCORE",{score:b,contextID:d})}).then(function(b){if(!b||b==null)return Promise.resolve();if(b.shouldPromptAchievementShare&&a.showGenericDialogAsync)return a.showGenericDialogAsync(c("fbinstant/common/genericDialogs").POST_USER_ACHIEVEMENT,b.achievementArgs)["catch"](function(){return Promise.resolve()}).then(function(){return b.shouldPromptTournamentShare&&a.showGenericDialogAsync?a.showGenericDialogAsync(c("fbinstant/common/genericDialogs").SHARE_TOURNAMENT,b.args)["catch"](function(){return Promise.resolve()}):Promise.resolve()});else if(b.shouldPromptTournamentShare&&a.showGenericDialogAsync)return a.showGenericDialogAsync(c("fbinstant/common/genericDialogs").SHARE_TOURNAMENT,b.args)["catch"](function(){return Promise.resolve()});return Promise.resolve()})}b={PostSessionScore:a,ValidateScore:h};g["default"]=b}),98);
__d("fbinstant/releases/samus/tournaments.samus",["fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/score","fbinstant/releases/samus/internalStates.samus"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){var b=a.tournamentID,c=a.contextID,d=a.endTime,e=a.title;a=a.payload;this.$1=b;this.$2=c;this.$3=d;this.$4=e;this.$5=a}var b=a.prototype;b.getID=function(){return this.$1};b.getContextID=function(){return this.$2};b.getEndTime=function(){return this.$3};b.getTitle=function(){return this.$4};b.getPayload=function(){return this.$5};return a}();function a(a){return c("fbinstant/common/score").PostSessionScore(c("fbinstant/releases/samus/internalStates.samus").getMessageSender(),a,c("fbinstant/releases/samus/internalStates.samus").getContext().getID()).then(function(a){a&&a.contextType&&c("fbinstant/releases/samus/internalStates.samus").updateContext(a)})}function b(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("GET_TOURNAMENT_INFO",{contextID:c("fbinstant/releases/samus/internalStates.samus").getContext().getID()}).then(function(a){if(!a||!a.tournament_id||!a.context_id||!a.end_time)return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").TOURNAMENT_NOT_FOUND,message:"A Tournament with current context was not found"}));var b=a.tournament_id,d=a.context_id,e=a.end_time,f=a.title;a=a.payload;return new h({tournamentID:b,contextID:d,endTime:e,title:f,payload:a})})}d={getTournamentAsync:b,postSessionScoreAsync:a,Tournament:h};g["default"]=d}),98);
__d("fbinstant/releases/samus/deepTournaments.samus",["fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/genericDialogs","fbinstant/common/score","fbinstant/common/validator","fbinstant/releases/samus/contextSwitcher.samus","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus","fbinstant/releases/samus/tournaments.samus"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b="tournament_postScoreAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);var d=c("fbinstant/common/score").ValidateScore(a).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("POST_TOURNAMENT_SCORE",{contextID:c("fbinstant/releases/samus/internalStates.samus").getContext().getID(),score:a})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(d,b)}function b(a){var b="tournament_createAsync",d=c("fbinstant/common/validator").object().keys({initialScore:c("fbinstant/common/validator").integer(),config:c("fbinstant/common/validator").object().keys({title:c("fbinstant/common/validator").string().optional(),image:c("fbinstant/common/validator").string().optional(),sortOrder:c("fbinstant/common/validator").string().optional(),scoreFormat:c("fbinstant/common/validator").string().optional(),endTime:c("fbinstant/common/validator").number().optional()}),data:c("fbinstant/common/validator").object().optional().maxSize(1e3)});c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);d=c("fbinstant/common/validator").validate(a,d).then(function(){var b=["HIGHER_IS_BETTER","LOWER_IS_BETTER"];if(a.config.sortOrder!=null&&!b.includes(a.config.sortOrder))return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_PARAM,message:"Incorrect leaderboard sort order value provided."}));b=["NUMERIC","TIME"];return a.config.scoreFormat!=null&&!b.includes(a.config.scoreFormat)?Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_PARAM,message:"Incorrect leaderboard score format value provided."})):c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("CAN_CREATE_TOURNAMENT",{contextID:c("fbinstant/releases/samus/internalStates.samus").getContext().getID(),endTime:(b=a.config.endTime)!=null?b:null,image:(b=a.config.image)!=null?b:null,score:a.initialScore,scoreFormat:(b=a.config.scoreFormat)!=null?b:null}).then(function(b){var d;if(b==null||b.result==null||b.result===!1)return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Tournaments are unavailable."}));var e=JSON.stringify(a.data);return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").TOURNAMENT_CREATE,{endTime:(d=a.config.endTime)!=null?d:null,formattedScore:(d=b.formattedScore)!=null?d:null,image:(b=a.config.image)!=null?b:null,initialScore:a.initialScore,payload:(d=e)!=null?d:null,title:(b=a.config.title)!=null?b:null,sortOrder:(e=a.config.sortOrder)!=null?e:null,scoreFormat:(d=a.config.scoreFormat)!=null?d:null}).then(function(a){if(a==null||a.tournament_id==null||a.context_id==null||a.context_type==null||a.context_size==null||a.end_time==null)return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").NETWORK_FAILURE,message:"The tournament creation returned an invalid response"}));var b=a.tournament_id,d=a.context_id,e=a.end_time,f=a.title,g=a.payload,h=a.context_type;a=a.context_size;c("fbinstant/releases/samus/internalStates.samus").updateContext({contextID:d,contextType:h,contextSize:a});return new(c("fbinstant/releases/samus/tournaments.samus").Tournament)({tournamentID:b,contextID:d,endTime:e,title:f,payload:g})})})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(d,b)}function d(a){var b="tournament_shareAsync",d=c("fbinstant/releases/samus/internalStates.samus").getMessageSender(),e=c("fbinstant/common/validator").object().keys({score:c("fbinstant/common/validator").integer(),data:c("fbinstant/common/validator").object().optional().maxSize(1e3)});c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);e=c("fbinstant/common/validator").validate(a,e).then(function(){return d.sendPassThroughAsync("CAN_SHARE_TOURNAMENT",{contextID:c("fbinstant/releases/samus/internalStates.samus").getContext().getID(),score:a.score}).then(function(b){if(!b)return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").UNKNOWN,message:"Tournaments are unavailable."}));b.entryPointData=JSON.stringify(a.data);return d.showGenericDialogAsync(c("fbinstant/common/genericDialogs").SHARE_TOURNAMENT,b).then(function(){return Promise.resolve()})})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(e,b)}function e(a){var b="tournament_joinAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);var d=c("fbinstant/common/validator").validate(a,c("fbinstant/common/validator").string()).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("CAN_JOIN_TOURNAMENT",{tournamentID:a}).then(function(a){a=a==null?void 0:a.context_id;return a==null?Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").NETWORK_FAILURE,message:"Tournaments are unavailable."})):c("fbinstant/releases/samus/contextSwitcher.samus").switchAsync(a)})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(d,b)}function f(){var a="tournament_getTournamentsAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("GET_TOURNAMENTS").then(function(a){if(a==null)return Promise.reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Tournaments are unavailable."}));var b=[];a.forEach(function(a){a.tournament_id!=null&&a.context_id!=null&&a.end_time!=null&&b.push(new(c("fbinstant/releases/samus/tournaments.samus").Tournament)({tournamentID:a.tournament_id,contextID:a.context_id,endTime:a.end_time,title:a.title,payload:a.payload}))});return b});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a)}b={createAsync:b,getTournamentsAsync:f,joinAsync:e,postScoreAsync:a,shareAsync:d};f=b;g["default"]=f}),98);
__d("InstantGameSDKCustomUpdateNotificationType",[],(function(a,b,c,d,e,f){a=Object.freeze({PUSH:"PUSH",NO_PUSH:"NO_PUSH"});f["default"]=a}),66);
__d("InstantGameSDKEndAction",[],(function(a,b,c,d,e,f){a=Object.freeze({SCORE:"SCORE",CUSTOM:"CUSTOM",NONE:"NONE"});f["default"]=a}),66);
__d("fbinstant/releases/samus/endGamePayload.samus",["InstantGameSDKCustomUpdateNotificationType","InstantGameSDKEndAction","InstantGamesCustomUpdateDeliveryPolicy","Promise","fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/validator","fbinstant/releases/samus/internalStates.samus"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.format=function(a){if(!a||!(a instanceof Object)||!a.action||a.action!==b("InstantGameSDKEndAction").CUSTOM)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_PARAM,message:'Update action property must be "CUSTOM"'}));if(!a.image&&!a.media)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_PARAM,message:"Custom update requires image or media input"}));return a.media&&!a.media.gif&&!a.media.video?b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_PARAM,message:"Media content requires at least video or gif."})):this.$1(a)};c.$1=function(a){var c=a.strategy&&a.strategy in b("InstantGamesCustomUpdateDeliveryPolicy")?a.strategy:b("InstantGamesCustomUpdateDeliveryPolicy").IMMEDIATE,d=a.notification&&a.notification in b("InstantGameSDKCustomUpdateNotificationType")?a.notification:b("InstantGameSDKCustomUpdateNotificationType").NO_PUSH;a=babelHelpers["extends"]({},a,{strategy:c,notification:d});c=b("fbinstant/common/validator").object().keys({action:b("fbinstant/common/validator").string(),template:b("fbinstant/common/validator").string(),cta:b("fbinstant/common/validator").union([b("fbinstant/common/validator").string(),b("fbinstant/common/validator").object()]).optional(),image:b("fbinstant/common/validator").string().optional(),media:b("fbinstant/common/validator").object().keys({gif:b("fbinstant/common/validator").object().keys({url:b("fbinstant/common/validator").string()}).optional(),video:b("fbinstant/common/validator").object().keys({url:b("fbinstant/common/validator").string()}).optional()}).optional(),text:b("fbinstant/common/validator").union([b("fbinstant/common/validator").string(),b("fbinstant/common/validator").object()]),data:b("fbinstant/common/validator").object().optional().maxSize(1e3),strategy:b("fbinstant/common/validator").string(),notification:b("fbinstant/common/validator").string()});return this.$2(a,c,["action","cta","image","media","text","data","strategy"],["data"])};c.$2=function(a,c,d,e){var f=this;e===void 0&&(e=[]);return b("fbinstant/common/validator").validate(a,c).then(function(a){return b("Promise").resolve(f.$3(a,d,e))})};c.$3=function(a,c,d){d===void 0&&(d=[]);var e=this.$4(a);a.data={sender:b("fbinstant/releases/samus/internalStates.samus").getPlayerID(),data:a.data};a=babelHelpers["extends"]({},a,e);e={};for(var f in a)if(d.indexOf(f)!==-1)try{a[f]=JSON.stringify(a[f])}catch(a){}for(f in a)c.indexOf(f)===-1&&(e[f]=a[f],delete a[f]);a.extra=JSON.stringify(e);return a};c.$4=function(a){var b={},c=a.text,d=a.cta;typeof c==="object"&&(b.text_localizations=c.localizations,a.text=c["default"]);d!=null&&typeof d!=="string"&&(b.cta_localizations=d.localizations,a.cta=d["default"]);return b};return a}();e.exports=new a()}),null);
__d("fbinstant/releases/samus/inventory.samus",["InstantGamesGameState","InstantGamesSDKMessages","Promise","fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/platform","fbinstant/common/platformUtils","fbinstant/common/validator","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus"],(function(a,b,c,d,e,f){"use strict";function a(a){var c="inventory_unlockItem";if(b("fbinstant/releases/samus/internalStates.samus").getGameState()!==b("InstantGamesGameState").PLAYING)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot unlock item until startGameAsync() resolves."}));if(b("fbinstant/common/platformUtils").getPlatform()===b("fbinstant/common/platform").IOS)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Client not supported."}));b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);var d=b("fbinstant/common/validator").object().keys({name:b("fbinstant/common/validator").string()});d=b("fbinstant/common/validator").validate(a,d).then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").INVENTORY_UNLOCK_ITEM_ASYNC,{unlockableItemConfig:a})});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(d,c)}c={unlockItemAsync:a};e.exports=c}),null);
__d("fbinstant/releases/samus/leaderboards.samus",["Promise","fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/rateLimiter","fbinstant/common/validator","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus"],(function(a,b,c,d,e,f){"use strict";d=20;f=2e3;var g=new(b("fbinstant/common/rateLimiter"))(d,f);function h(){var a=g.bump();return a?b("Promise").resolve():b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").RATE_LIMITED,message:"Game called too many leaderboard APIs too quickly. Reduce the rate of requests in order to avoid being rate-limited."}))}var i=function(){function a(a){var b=a.id,c=a.name;a=a.contextID;this.$1=b;this.$2=c;this.$3=a}var c=a.prototype;c.getName=function(){return this.$2};c.getContextID=function(){return this.$3};c.getEntryCountAsync=function(){var a=this,c="Leaderboard_getEntryCountAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);var d=h().then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("LEADERBOARD_OPERATION",{leaderboard_id:a.$1,operation:"COUNT"})});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(d,c)};c.setScoreAsync=function(a,c){var d=this;c===void 0&&(c=null);var e="Leaderboard_setScoreAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(e);var f=b("fbinstant/common/validator").integer(),g=b("fbinstant/common/validator").string().optional();f=b("fbinstant/common/validator").validate(a,f).then(function(){return b("fbinstant/common/validator").validate(c,g)}).then(h).then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("LEADERBOARD_OPERATION",{context_id:b("fbinstant/releases/samus/internalStates.samus").getContext().getID(),leaderboard_id:d.$1,operation:"SET_SCORE",score:a,extra_data:c})}).then(function(a){return new j(a)});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(f,e)};c.getPlayerEntryAsync=function(){var a=this,c="Leaderboard_getPlayerEntryAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);var d=h().then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("LEADERBOARD_OPERATION",{leaderboard_id:a.$1,operation:"GET_ENTRY"})}).then(function(a){return!a?null:new j(a)});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(d,c)};c.getEntriesAsync=function(a,c){var d=this,e="Leaderboard_getEntriesAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(e);var f=b("fbinstant/common/validator").integer().optional(),g=b("fbinstant/common/validator").integer().optional();f=b("fbinstant/common/validator").validate(a,f).then(function(){return b("fbinstant/common/validator").validate(c,g)}).then(h).then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("LEADERBOARD_OPERATION",{leaderboard_id:d.$1,operation:"GET_ENTRIES",limit:a,offset:c})}).then(function(a){return a.map(function(a){return new j(a)})});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(f,e)};c.getConnectedPlayerEntriesAsync=function(a,c){var d=this,e="Leaderboard_getConnectedPlayerEntriesAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(e);var f=b("fbinstant/common/validator").integer().optional(),g=b("fbinstant/common/validator").integer().optional();f=b("fbinstant/common/validator").validate(a,f).then(function(){return b("fbinstant/common/validator").validate(c,g)}).then(h).then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("LEADERBOARD_OPERATION",{leaderboard_id:d.$1,operation:"GET_FRIENDS_ENTRIES",limit:a,offset:c})}).then(function(a){return a.map(function(a){return new j(a)})});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(f,e)};return a}(),j=function(){function a(a){this.$1=a.score,this.$2=a.format_score,this.$5=a.rank,this.$3=a.extra_data,this.$4=a.ts,this.$6=new k(a.player.name,a.player.photo,a.player.player_id)}var b=a.prototype;b.getScore=function(){return this.$1};b.getFormattedScore=function(){return this.$2};b.getTimestamp=function(){return this.$4};b.getRank=function(){return this.$5};b.getExtraData=function(){return this.$3};b.getPlayer=function(){return this.$6};return a}(),k=function(){function a(a,b,c){this.$1=a,this.$2=c,this.$3=b}var b=a.prototype;b.getName=function(){return this.$1};b.getPhoto=function(){return this.$3};b.getID=function(){return this.$2};return a}();function a(a){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("LEADERBOARD_FETCH",{name:a}).then(function(a){var b=a.id,c=a.name;a=a.context_id;return new i({id:b,name:c,contextID:a})})}function c(a){var c,d=(c=b("fbinstant/common/validator")).object().keys({name:c.string(),text:c.string().optional()});return c.validate(a,d).then(function(a){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("LEADERBOARD_UPDATE",{context_token_id:b("fbinstant/releases/samus/internalStates.samus").getContext().getID(),leaderboard_name:a.name,text:a.text})}).then(function(){})}e.exports={getLeaderboardAsync:a,sendUpdateAsync:c,Leaderboard:i}}),null);
__d("fbinstant/releases/samus/heartbeat.samus",["fbinstant/releases/samus/internalStates.samus"],(function(a,b,c,d,e,f){"use strict";var g=6e4,h={_heartbeatInterval:null,startHeartbeat:function(){h._heartbeatInterval&&h.stopHeartbeat(),h.sendHeartbeat("start"),h._heartbeatInterval=window.setInterval(function(){h.sendHeartbeat("update")},g)},stopHeartbeat:function(){window.clearInterval(h._heartbeatInterval),h._heartbeatInterval=null,h.sendHeartbeat("end")},sendHeartbeat:function(a){b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("HEARTBEAT",{action:a,contextID:b("fbinstant/releases/samus/internalStates.samus").getContext().getID()})}};e.exports=h}),null);
__d("fbinstant/releases/samus/messageConfig.samus",[],(function(a,b,c,d,e,f){"use strict";a={getConfig:function(){if(window.QuicksilverAndroid)return{sender:window.QuicksilverAndroid,source:"Android"};else if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.quicksilver)return{sender:window.webkit.messageHandlers.quicksilver||parent,source:"iOS"};else if(window.fbInstantSameOriginOnWeb)return{sender:window.self,source:window.fbInstantSource};var a=new RegExp("[?&]source(=([^&#]*)|&|#|$)","i");a=a.exec(window.location.href);return{sender:parent,source:a&&a[2]&&decodeURIComponent(a[2].replace(/\+/g," "))}}};e.exports=a}),null);
__d("fbinstant/releases/samus/messageReceiver.samus",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=null}var b=a.prototype;b.$2=function(a){if(!a.data||!a.data.source)return;var b=a.data.type;if(!b)return;b=this.$1&&this.$1[b];if(!b)return;b(a.data.content)};b.init=function(){this.$1={},window.addEventListener("message",this.$2.bind(this))};b.registerMessageHandler=function(a,b,c){var d=this.$1;if(!d)return;c?d[a]=b.triggerSubscribers.bind(b,c):d[a]=b.triggerSubscribers.bind(b)};return a}();e.exports=new a()}),null);
__d("fbinstant/releases/samus/lifecycle.samus",["InstantGamesGameState","InstantGamesSDKFeatures","InstantGamesSDKMessages","Promise","fbinstant/common/apiError","fbinstant/common/consoleLogger","fbinstant/common/errorCode","fbinstant/common/genericDialogs","fbinstant/common/gestureCommandManager","fbinstant/common/performanceTracker","fbinstant/common/supportedFeaturesManager","fbinstant/releases/samus/entryPoint.samus","fbinstant/releases/samus/heartbeat.samus","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/messageConfig.samus","fbinstant/releases/samus/messageReceiver.samus"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=null;return new(b("Promise"))(function(d){b("fbinstant/releases/samus/internalStates.samus").getGameStartEvent().on(d),a.send(b("InstantGamesSDKMessages").ON_GAME_READY),c=function(a){b("fbinstant/releases/samus/internalStates.samus").getGameStartEvent().off(d);return a}}).then(c)}function h(a){b("fbinstant/releases/samus/internalStates.samus").updateContext(a);var c=null;if(a.entryPointData)try{var d=JSON.parse(a.entryPointData);d.sender&&d.data?c=d.data:c=d}catch(a){}d=null;a.entryPoint&&(d=a.entryPoint);b("fbinstant/releases/samus/internalStates.samus").updateEntryPoint(new(b("fbinstant/releases/samus/entryPoint.samus"))(d,c))}a={initializeAsync:function(a){var c,d,e;a.initialize(b("fbinstant/releases/samus/messageConfig.samus").getConfig());a.send((c=b("InstantGamesSDKMessages")).ON_BEGIN_LOAD,100);b("fbinstant/common/consoleLogger").init(function(c){a.send(b("InstantGamesSDKMessages").ON_CONSOLE,c)});(d=b("fbinstant/releases/samus/messageReceiver.samus")).init();d.registerMessageHandler(c.RESTART,(e=b("fbinstant/releases/samus/internalStates.samus")).getRestartEvent(),null);d.registerMessageHandler(c.RESOLVE_PROMISE,a.getResolvePromiseEvent(),null);d.registerMessageHandler(c.REJECT_PROMISE,a.getRejectPromiseEvent(),null);d.registerMessageHandler(c.PAUSE,e.getPauseEvent(),null);d.registerMessageHandler(c.RESUME,e.getResumeEvent(),null);d.registerMessageHandler(c.ANALYTICS_LOG_EVENT,e.getAnalyticsLogEvent(),null);d.registerMessageHandler(c.REALTIME_RECEIVE_MESSAGE,e.getReceiveMessageEvent(),null);d.registerMessageHandler(c.REALTIME_RECEIVE_STATE_UPDATE,e.getReceiveStateUpdateEvent(),null);e.getGameStartEvent().on(function(){b("fbinstant/releases/samus/internalStates.samus").setGameState(b("InstantGamesGameState").PLAYING)});d.registerMessageHandler(c.GAME_START,e.getGameStartEvent(),null);d.registerMessageHandler(c.PAYMENTS_INITIALIZED,e.getPaymentsState().getPaymentsInitializedEvent(),null);e.getGestureCommandEvent().on(function(a){b("fbinstant/common/gestureCommandManager").handleCommand(a)});d.registerMessageHandler(c.GESTURE_COMMAND,e.getGestureCommandEvent(),null);return a.sendAsync(c.INITIALIZE_ASYNC,{sdkVersion:e.getSdkVersion()}).then(function(a){b("fbinstant/releases/samus/internalStates.samus").isInitialized()||b("fbinstant/releases/samus/internalStates.samus").initialize(a)})},startGameAsync:function(a){if(b("fbinstant/releases/samus/internalStates.samus").getGameState()===b("InstantGamesGameState").PLAYING)return b("Promise").resolve();if(!b("fbinstant/releases/samus/internalStates.samus").isInitialized())return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"The SDK has not been initialized yet. Please wait for FBInstant.initializeAsync to resolve before calling this API."}));if(!b("fbinstant/common/supportedFeaturesManager").isSupported(b("InstantGamesSDKFeatures").FLEXIBLE))return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION,message:"The client does not support Instant Games."}));b("fbinstant/common/performanceTracker").init(a);b("fbinstant/releases/samus/internalStates.samus").setLoadingProgress(100);return g(a).then(function(c){b("fbinstant/releases/samus/internalStates.samus").setGameState(b("InstantGamesGameState").PLAYING);c&&h(c);return a.sendPassThroughAsync("APP_CUSTOM_EVENT",{contextID:b("fbinstant/releases/samus/internalStates.samus").getContext().getID(),entryPointRawSource:b("fbinstant/releases/samus/internalStates.samus").getEntryPoint().getSource()})}).then(function(c){c&&c.shouldPromptTournamentStatus&&a.showGenericDialogAsync(b("fbinstant/common/genericDialogs").TOURNAMENT_STATUS,c.args),b("fbinstant/releases/samus/heartbeat.samus").startHeartbeat()})},setLoadingProgress:function(a,c){if(c>=0&&c<=100&&c>b("fbinstant/releases/samus/internalStates.samus").getLoadingProgress())a.send(b("InstantGamesSDKMessages").ON_PROGRESS_LOAD,c),b("fbinstant/releases/samus/internalStates.samus").setLoadingProgress(c);else{a="FbInstant::setLoadingProgress(";a=") is invalid. The progress must be";c<0||c>100||c<=b("fbinstant/releases/samus/internalStates.samus").getLoadingProgress()}},quit:function(a){a.send(b("InstantGamesSDKMessages").QUIT,{}),b("fbinstant/releases/samus/heartbeat.samus").stopHeartbeat()}};e.exports=a}),null);
__d("fbinstant/releases/samus/payments.samus",["InstantGamesGameState","InstantGamesSDKMessages","Promise","fbinstant/common/apiError","fbinstant/common/errorCode","fbinstant/common/supportedMessagesManager","fbinstant/common/validator","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a="payments_getCatalogAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=n(c("InstantGamesSDKMessages").PAYMENTS_FETCH_CATALOG_ASYNC).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").PAYMENTS_FETCH_CATALOG_ASYNC,{})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a)}function e(a){var e="payments_purchaseAsync";if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING)return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot purchase until startGameAsync() resolves."}));c("fbinstant/releases/samus/logger.samus").logBeginAsync(e);var f=c("fbinstant/common/validator").object().keys({productID:c("fbinstant/common/validator").string(),developerPayload:c("fbinstant/common/validator").string().optional()});f=c("fbinstant/common/validator").validate(a,f).then(function(){return n(c("InstantGamesSDKMessages").PAYMENTS_PURCHASE_ASYNC)}).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").PAYMENTS_PURCHASE_ASYNC,{config:a})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(f,e)}function f(){var a="payments_getPurchasesAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=n(c("InstantGamesSDKMessages").PAYMENTS_FETCH_PURCHASES_ASYNC).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").PAYMENTS_FETCH_PURCHASES_ASYNC,{})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a)}function h(a){var b="payments_consumePurchaseAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);var d=c("fbinstant/common/validator").string();d=c("fbinstant/common/validator").validate(a,d).then(function(){return n(c("InstantGamesSDKMessages").PAYMENTS_CONSUME_PURCHASE_ASYNC)}).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").PAYMENTS_CONSUME_PURCHASE_ASYNC,{token:a})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(d,b).then(function(){})}function i(a){c("fbinstant/releases/samus/internalStates.samus").getPaymentsState().onInitialized(a)}function j(){var a="payments_restorePurchasesAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=n(c("InstantGamesSDKMessages").PAYMENTS_RESTORE_PURCHASES_ASYNC).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").PAYMENTS_RESTORE_PURCHASES_ASYNC,{})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a).then(function(){})}function k(){var a="payments_getSubscribableCatalogAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=n(c("InstantGamesSDKMessages").PAYMENTS_FETCH_SUBSCRIBABLE_CATALOG_ASYNC).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").PAYMENTS_FETCH_SUBSCRIBABLE_CATALOG_ASYNC,{})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a)}function l(a){var e="payments_purchaseSubscriptionAsync";if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING)return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot purchase until startGameAsync() resolves."}));c("fbinstant/releases/samus/logger.samus").logBeginAsync(e);var f=n(c("InstantGamesSDKMessages").PAYMENTS_PURCHASE_SUBSCRIPTION_ASYNC).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").PAYMENTS_PURCHASE_SUBSCRIPTION_ASYNC,{productID:a})}).then(function(a){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("PAYMENTS_FETCH_SUBSCRIPTIONS",{productID:a})}).then(function(a){return a[0]});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(f,e)}function m(){var a="payments_getSubscriptionsAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=n(c("InstantGamesSDKMessages").PAYMENTS_FETCH_SUBSCRIPTIONS_ASYNC).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("PAYMENTS_FETCH_SUBSCRIPTIONS",{})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a)}function n(a){return!c("fbinstant/common/supportedMessagesManager").isSupported(a)?b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION,message:"Client does not support this API"})):b("Promise").resolve()}function o(a){var b="payments_cancelSubscriptionAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);var d=n(c("InstantGamesSDKMessages").PAYMENTS_CANCEL_SUBSCRIPTION_ASYNC).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("PAYMENTS_CANCEL_SUBSCRIPTION",{token:a})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(d,b)}o={cancelSubscriptionAsync:o,consumePurchaseAsync:h,getCatalogAsync:a,getPurchasesAsync:f,getSubscribableCatalogAsync:k,getSubscriptionsAsync:m,purchaseAsync:e,purchaseSubscriptionAsync:l,onReady:i,restorePurchasesAsync:j};h=o;g["default"]=h}),98);
__d("fbinstant/common/signedPlayerInfo",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getPlayerID=function(){return this.$1.playerID};b.getSignature=function(){return this.$1.signature};return a}();f["default"]=a}),66);
__d("fbinstant/releases/samus/graphApi.samus",["ApiClient","fbinstant/common/graphAPIResponseHandler","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e="graph_api_async";b("fbinstant/releases/samus/logger.samus").logBeginAsync(e);var f="https://graph.fb.gg"+a;a=g().then(function(){return new Promise(function(a,e){return b("ApiClient").graph(f,c,d,function(c){return b("fbinstant/common/graphAPIResponseHandler")(c,a,e)})})});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(a,e)}function g(){var a=b("ApiClient").getAccessToken();return a?Promise.resolve():b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("GET_ACCESS_TOKEN").then(function(a){if(a&&a.access_token){b("ApiClient").setAccessToken(a.access_token);return Promise.resolve()}})}c={requestAsync:a};f["default"]=c}),66);
__d("fbinstant/releases/samus/botSubscription.samus",["InstantGamesGameState","InstantGamesSDKMessages","Promise","fbinstant/common/apiError","fbinstant/common/dataAccessRecorder","fbinstant/common/errorCode","fbinstant/releases/samus/graphApi.samus","fbinstant/releases/samus/internalStates.samus"],(function(a,b,c,d,e,f){"use strict";var g=1,h=0,i=null;function j(){var a=b("fbinstant/releases/samus/internalStates.samus").getContext().getID();a=a!=null?"can_subscribe_to_game_bot.context_id("+a+")":"can_subscribe_to_game_bot";return b("fbinstant/releases/samus/graphApi.samus").requestAsync("/me","get",{fields:[a]}).then(function(a){return a.can_subscribe_to_game_bot})}function a(){if(h>=g){i=!1;return b("Promise").resolve(!1)}return i!=null?b("Promise").resolve(i):j().then(function(a){i=a;return a})}function c(){if(b("fbinstant/releases/samus/internalStates.samus").getGameState()!==b("InstantGamesGameState").PLAYING)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot perform this operation before the game has started."}));if(h>=g)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Player can only see the subscription dialog once per session."}));if(i!=null){if(!i)return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot use subscribeBotAsync() to the player. Please check canSubscribeBotAsync() before calling this API."}))}else return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot directly use subscribeBotAsync(). Please check canSubscribeBotAsync() before calling this API."}));i=null;h+=1;b("fbinstant/common/dataAccessRecorder")("RECORD_SUBSCRIBE_BOT_ASYNC_DIALOG",b("fbinstant/releases/samus/internalStates.samus").getMessageSender(),b("InstantGamesSDKMessages").SUBSCRIBE_BOT_ASYNC);return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").SUBSCRIBE_BOT_ASYNC)}e.exports={canSubscribeBotAsync:a,subscribeBotAsync:c}}),null);
__d("fbinstant/releases/samus/config.samus",["JSSDKFBInstantGraphAPIMigrationConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=h();return b==null?!1:a in b?b[a]:!1}function h(){return c("JSSDKFBInstantGraphAPIMigrationConfig")}b={shouldUseGraphAPI:a};g["default"]=b}),98);
__d("fbinstant/releases/samus/player.samus",["InstantGamesSDKMessages","Promise","fbinstant/common/apiError","fbinstant/common/connectedPlayers","fbinstant/common/errorCode","fbinstant/common/signedPlayerInfo","fbinstant/common/validator","fbinstant/releases/samus/botSubscription.samus","fbinstant/releases/samus/config.samus","fbinstant/releases/samus/graphApi.samus","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus"],(function(a,b,c,d,e,f){"use strict";a={getID:function(){b("fbinstant/releases/samus/logger.samus").logAPICall("player_getID");return""},getSignedPlayerInfoAsync:function(a){var c="player_getSignedPlayerInfoAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);var d=b("fbinstant/common/validator").string().optional();d=b("fbinstant/common/validator").validate(a,d).then(function(){if(b("fbinstant/releases/samus/config.samus").shouldUseGraphAPI("getSignedPlayerInfoAsync")){var c=a!=null?"signed_player_info.request_payload("+a+")":"signed_player_info";return b("fbinstant/releases/samus/graphApi.samus").requestAsync("/me","get",{fields:[c]}).then(function(a){a=a.signed_player_info;var c=a.player_id;a=a.signature;return new(b("fbinstant/common/signedPlayerInfo"))({playerID:c,signature:a})})}else return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").GET_SIGNED_PLAYER_INFO_ASYNC,{requestPayload:a||null}).then(function(a){return new(b("fbinstant/common/signedPlayerInfo"))(a)})});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(d,c)},canSubscribeBotAsync:function(){var a="getPlayerCanSubscribeBotAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var c=b("fbinstant/releases/samus/botSubscription.samus").canSubscribeBotAsync();return b("fbinstant/releases/samus/logger.samus").logAsyncResult(c,a)},subscribeBotAsync:function(){var a="subscribeBotAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var c=b("fbinstant/releases/samus/botSubscription.samus").subscribeBotAsync();return b("fbinstant/releases/samus/logger.samus").logAsyncResult(c,a)},getName:function(){b("fbinstant/releases/samus/logger.samus").logAPICall("player_getName");return""},getPhoto:function(){b("fbinstant/releases/samus/logger.samus").logAPICall("player_getPhoto");return""},getDataAsync:function(a){var c="player_getDataAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);var d=b("fbinstant/common/validator").array().schemaType(b("fbinstant/common/validator").string());d=b("fbinstant/common/validator").validate(a,d).then(function(){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").GET_PLAYER_DATA_ASYNC,{keys:a})});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(d,c)},setDataAsync:function(a){var c="player_setDataAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(c);var d=function(a){var b=Object.keys(a);for(var c=0;c<b.length;c++){var d=b[c];d=a[d];if(typeof d==="function")return!0}return!1},e=function(a){try{JSON.stringify(a);return!1}catch(a){return!0}},f=b("fbinstant/common/validator").validate(a,b("fbinstant/common/validator").object()).then(function(a){if(d(a)||e(a)){b("fbinstant/releases/samus/logger.samus").logReject(c,b("fbinstant/common/errorCode").INVALID_PARAM);return b("Promise").reject(new(b("fbinstant/common/apiError"))({code:b("fbinstant/common/errorCode").INVALID_PARAM,message:"Object is not serializable"}))}return a}).then(function(c){return b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").SET_PLAYER_DATA_ASYNC,{data:a})});return b("fbinstant/releases/samus/logger.samus").logAsyncResult(f,c).then(function(){})},flushDataAsync:function(){var a="player_flushDataAsync";b("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var c=b("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(b("InstantGamesSDKMessages").FLUSH_PLAYER_DATA_ASYNC,null);return b("fbinstant/releases/samus/logger.samus").logAsyncResult(c,a).then(function(){})},getConnectedPlayersAsync:function(){var a="player_getConnectedPlayers",c=b("fbinstant/releases/samus/internalStates.samus").getConnectedPlayersPromise();if(c)return c;b("fbinstant/releases/samus/logger.samus").logBeginAsync(a);c=b("fbinstant/releases/samus/logger.samus").logAsyncResult(b("fbinstant/common/connectedPlayers").fetchAsync(b("fbinstant/releases/samus/internalStates.samus").getMessageSender()),a)["catch"](function(a){b("fbinstant/releases/samus/internalStates.samus").setConnectedPlayersPromise(null);throw a});b("fbinstant/releases/samus/internalStates.samus").setConnectedPlayersPromise(c);return c}};e.exports=a}),null);
__d("fbinstant/releases/samus/supportedFunctions.samus",["InstantGamesSDKFeatures","InstantGamesSDKMessages","fbinstant/common/supportedFeaturesManager","fbinstant/common/supportedMessagesManager"],(function(a,b,c,d,e,f){"use strict";var g=new Set(["getLocale","getPlatform","getSDKVersion","getSupportedAPIs","getEntryPointData","player.getID","player.getName","player.getPhoto","context.getID","context.getType","context.isSizeBetween","logEvent","onPause"]),h={"inventory.unlockItemAsync":(c=b("InstantGamesSDKMessages")).INVENTORY_UNLOCK_ITEM_ASYNC,matchPlayerAsync:c.MATCH_PLAYER_ASYNC,initializeAsync:c.INITIALIZE_ASYNC,setLoadingProgress:c.ON_PROGRESS_LOAD,setSessionData:c.SET_SESSION_DATA,startGameAsync:c.ON_GAME_READY,"player.flushDataAsync":c.FLUSH_PLAYER_DATA_ASYNC,"player.getDataAsync":c.GET_PLAYER_DATA_ASYNC,"player.setDataAsync":c.SET_PLAYER_DATA_ASYNC,"player.subscribeBotAsync":c.SUBSCRIBE_BOT_ASYNC,"player.getConnectedPlayersAsync":c.GET_CONNECTED_PLAYERS_ASYNC,"player.getSignedPlayerInfoAsync":c.GET_SIGNED_PLAYER_INFO_ASYNC,"context.switchAsync":c.CONTEXT_SWITCH_ASYNC,"context.chooseAsync":c.CONTEXT_CHOOSE_ASYNC,"context.createAsync":c.CONTEXT_CREATE_ASYNC,"context.getPlayersAsync":c.CONTEXT_PLAYERS_FETCH_ASYNC,getInterstitialAdAsync:c.GET_INTERSTITIAL_AD_ASYNC,getRewardedVideoAsync:c.GET_REWARDED_VIDEO_ASYNC,"payments.consumePurchaseAsync":c.PAYMENTS_CONSUME_PURCHASE_ASYNC,"payments.getCatalogAsync":c.PAYMENTS_FETCH_CATALOG_ASYNC,"payments.getPurchasesAsync":c.PAYMENTS_FETCH_PURCHASES_ASYNC,"payments.purchaseAsync":c.PAYMENTS_PURCHASE_ASYNC,shareAsync:c.SHARE_ASYNC,switchGameAsync:c.GAME_SWITCH,quit:c.QUIT,canCreateShortcutAsync:c.CAN_CREATE_SHORTCUT_ASYNC,createShortcutAsync:c.CREATE_SHORTCUT_ASYNC,performHapticFeedbackAsync:c.PERFORM_HAPTIC_FEEDBACK_ASYNC},i=new Set(["getEntryPointAsync","getLeaderboardAsync","checkCanPlayerMatchAsync","context.isPublicAsync","player.canSubscribeBotAsync","postSessionScore"]),j=new Set(["shareLinkAsync"]),k={updateAsync:function(){return b("fbinstant/common/supportedFeaturesManager").isSupported(b("InstantGamesSDKFeatures").FLEXIBLE)}};function a(){var a=l(),b=m(),c=o(),d=p(),e=n(),f=q(g);return f.concat(a).concat(b).concat(e).concat(c).concat(d)}function l(){var a=new Set();for(var c in h){var d=h[c];b("fbinstant/common/supportedMessagesManager").isSupported(d)&&a.add(c)}return q(a)}function m(){return b("fbinstant/common/supportedMessagesManager").isSupported(b("InstantGamesSDKMessages").SEND_PASS_THROUGH_ASYNC)?q(i):[]}function n(){return b("fbinstant/common/supportedMessagesManager").isSupported(b("InstantGamesSDKMessages").SHOW_GENERIC_DIALOG_ASYNC)?q(j):[]}function o(){var a=new Set();for(var b in k){var c=k[b]();c&&a.add(b)}return q(a)}function p(){var a=l(),b=new Set();a.indexOf("payments.purchaseAsync")!==-1&&b.add("payments.onReady");return q(b)}function q(a){var b=[];a.forEach(function(a){b.push(a)});return b}d={getSupported:a};e.exports=d}),null);
__d("fbinstant/releases/samus/index.samus",["InstantGamesCustomUpdateDeliveryPolicy","InstantGamesGameState","InstantGamesSDKMessages","Promise","fbinstant/common/apiError","fbinstant/common/dataAccessRecorder","fbinstant/common/errorCode","fbinstant/common/featureAvailabilityFetcher","fbinstant/common/genericDialogs","fbinstant/common/platform","fbinstant/common/platformUtils","fbinstant/common/validator","fbinstant/releases/samus/ads.samus","fbinstant/releases/samus/community.samus","fbinstant/releases/samus/context.samus","fbinstant/releases/samus/deepTournaments.samus","fbinstant/releases/samus/endGamePayload.samus","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/inventory.samus","fbinstant/releases/samus/leaderboards.samus","fbinstant/releases/samus/lifecycle.samus","fbinstant/releases/samus/logger.samus","fbinstant/releases/samus/payments.samus","fbinstant/releases/samus/player.samus","fbinstant/releases/samus/supportedFunctions.samus","fbinstant/releases/samus/tournaments.samus"],(function(a,b,c,d,e,f,g){"use strict";var h={CUSTOM:"CUSTOM",LEADERBOARD:"LEADERBOARD"};a={getLocale:function(){c("fbinstant/releases/samus/logger.samus").logAPICall("getLocale");return""},getPlatform:function(){c("fbinstant/releases/samus/logger.samus").logAPICall("getPlatform");return!c("fbinstant/releases/samus/internalStates.samus").isInitialized()?null:c("fbinstant/common/platformUtils").getPlatform()},getSDKVersion:function(){c("fbinstant/releases/samus/logger.samus").logAPICall("getSDKVersion");var a=c("fbinstant/releases/samus/internalStates.samus").getSdkVersion();c("fbinstant/common/dataAccessRecorder")("RECORD_GET_SDK_VERSION",c("fbinstant/releases/samus/internalStates.samus").getMessageSender(),a,{SDKVersion:a});return a},initializeAsync:function(){var a="initializeAsync";c("fbinstant/releases/samus/internalStates.samus").isInitialized()&&c("fbinstant/releases/samus/internalStates.samus").constructor();if(c("fbinstant/releases/samus/internalStates.samus").isInitialized())return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Game has already been initialized."}));c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var d=c("fbinstant/releases/samus/internalStates.samus").getMessageSender(),e=c("fbinstant/releases/samus/lifecycle.samus").initializeAsync(d);return c("fbinstant/releases/samus/logger.samus").logAsyncResult(e,a).then(function(){c("fbinstant/common/featureAvailabilityFetcher").fetchAsync(d,"IGIP"),c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("QE_PARAM_NO_EXPOSURE_FETCH",{}).then(function(a){c("fbinstant/releases/samus/internalStates.samus").setQEParams(a)})["catch"]()})},setLoadingProgress:function(a){c("fbinstant/releases/samus/logger.samus").logAPICall("setLoadingProgress"),c("fbinstant/releases/samus/lifecycle.samus").setLoadingProgress(c("fbinstant/releases/samus/internalStates.samus").getMessageSender(),a)},getSupportedAPIs:function(){c("fbinstant/releases/samus/logger.samus").logAPICall("getSupportedAPIs");return c("fbinstant/releases/samus/supportedFunctions.samus").getSupported()},getEntryPointData:function(){c("fbinstant/releases/samus/logger.samus").logAPICall("getEntryPointData");return c("fbinstant/releases/samus/internalStates.samus").getEntryPoint().getData()},getEntryPointAsync:function(){var a="getEntryPointAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b("Promise").resolve(""),a)},setSessionData:function(a){c("fbinstant/releases/samus/logger.samus").logAPICall("setSessionData");var b=a;c("fbinstant/common/validator").validate(b,c("fbinstant/common/validator").object().maxSize(1e3)).then(function(){var a=JSON.stringify(b);c("fbinstant/common/dataAccessRecorder")("RECORD_SET_SESSION_DATA",c("fbinstant/releases/samus/internalStates.samus").getMessageSender(),a,{sessionData:a});c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(c("InstantGamesSDKMessages").SET_SESSION_DATA,a)})},startGameAsync:function(){var a="startGameAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=c("fbinstant/releases/samus/lifecycle.samus").startGameAsync(c("fbinstant/releases/samus/internalStates.samus").getMessageSender());return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a).then(function(){})},player:c("fbinstant/releases/samus/player.samus"),context:c("fbinstant/releases/samus/context.samus"),payments:c("fbinstant/releases/samus/payments.samus"),inventory:c("fbinstant/releases/samus/inventory.samus"),community:c("fbinstant/releases/samus/community.samus"),tournament:c("fbinstant/releases/samus/deepTournaments.samus"),shareAsync:function(a){var e="shareAsync",f=c("fbinstant/common/validator").object().keys({intent:c("fbinstant/common/validator").string(),image:c("fbinstant/common/validator").string(),media:c("fbinstant/common/validator").object().keys({gif:c("fbinstant/common/validator").object().keys({url:c("fbinstant/common/validator").string()}).optional(),video:c("fbinstant/common/validator").object().keys({url:c("fbinstant/common/validator").string()}).optional()}).optional(),text:c("fbinstant/common/validator").string(),data:c("fbinstant/common/validator").object().optional().maxSize(1e3),surface:c("fbinstant/common/validator").string().optional(),switchContext:c("fbinstant/common/validator")["boolean"]().optional()});c("fbinstant/releases/samus/logger.samus").logBeginAsync(e);if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING){c("fbinstant/releases/samus/logger.samus").logReject(e,c("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}f=c("fbinstant/common/validator").validate(a,f).then(function(){if(a.media!=null)return c("fbinstant/common/featureAvailabilityFetcher").fetchAsync(c("fbinstant/releases/samus/internalStates.samus").getMessageSender(),"IGVS").then(function(a){return a?b("Promise").resolve():b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_PARAM,message:"The share content provided is not supported"}))});else return b("Promise").resolve()}).then(function(){var b=babelHelpers["extends"]({},a);b.data=JSON.stringify({sender:c("fbinstant/releases/samus/internalStates.samus").getPlayerID(),data:a.data});return c("fbinstant/common/platformUtils").getPlatform()===c("fbinstant/common/platform").IOS&&a.switchContext?c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").CUSTOM_SHARE,b):c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").SHARE_ASYNC,b)}).then(function(a){a&&a.contextID&&a.contextType&&c("fbinstant/releases/samus/internalStates.samus").updateContext(a);return});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(f,e).then(function(){})},shareLinkAsync:function(a){var e="shareLinkAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(e);if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING){c("fbinstant/releases/samus/logger.samus").logReject(e,c("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var f=c("fbinstant/common/validator").object().keys({image:c("fbinstant/common/validator").string().optional(),text:c("fbinstant/common/validator").string().optional(),data:c("fbinstant/common/validator").object().maxSize(1e3)});f=c("fbinstant/common/validator").validate(a,f).then(function(){var b=babelHelpers["extends"]({},a);b.data=JSON.stringify(a.data);return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").CUSTOM_LINK_SHARE,b)});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(f,e).then(function(){})},updateAsync:function(a){var d="updateAsync";function e(a){return new(b("Promise"))(function(b,d){c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(c("InstantGamesSDKMessages").ON_END_GAME,a),c("fbinstant/releases/samus/internalStates.samus").getRestartEvent().on(function(a){if(a&&a.error){d(new(c("fbinstant/common/apiError"))({code:a.error.code,message:a.error.message}));return}a&&a.contextType&&c("fbinstant/releases/samus/internalStates.samus").updateContext(a);b();c("fbinstant/releases/samus/internalStates.samus").getRestartEvent().unbind()})})}if(a.action===h.LEADERBOARD){var f=a;c("fbinstant/releases/samus/logger.samus").logBeginAsync(d);f=c("fbinstant/releases/samus/leaderboards.samus").sendUpdateAsync(f);return c("fbinstant/releases/samus/logger.samus").logAsyncResult(f,d)}else if(a.action===h.CUSTOM){f=a;var g=f.media!=null;c("fbinstant/releases/samus/logger.samus").logBeginAsync(d);if(g){g=c("fbinstant/releases/samus/endGamePayload.samus").format(f).then(function(a){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("UPDATE",{formatted_payload:a,context_token_id:c("fbinstant/releases/samus/internalStates.samus").getContext().getID()}).then(function(){})});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(g,d)}g=c("fbinstant/releases/samus/endGamePayload.samus").format(f).then(function(d){if(a.strategy===c("InstantGamesCustomUpdateDeliveryPolicy").IMMEDIATE)return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("GET_DOES_CONTEXT_HAVE_FEEDBACK",{context_token_id:c("fbinstant/releases/samus/internalStates.samus").getContext().getID()}).then(function(a){if(a===!0)return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").CUSTOM_UPDATE_POST_COMMENT,{context_token_id:c("fbinstant/releases/samus/internalStates.samus").getContext().getID(),custom_update_data:d})["catch"](function(a){if(a.code===c("fbinstant/common/errorCode").CLIENT_UNSUPPORTED_OPERATION)return e(d);else return b("Promise").reject(a)});else return e(d)});else return e(d)});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(g,d)}return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_PARAM,message:'Invalid update action. Must be "CUSTOM" or "LEADERBOARD".'}))},switchGameAsync:function(a,e){var f="switchGameAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(f);if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING){c("fbinstant/releases/samus/logger.samus").logReject(f,c("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var g=c("fbinstant/common/validator").validate(a,c("fbinstant/common/validator").string()).then(function(){return c("fbinstant/common/validator").validate(e,c("fbinstant/common/validator").object().optional().maxSize(1e3))}).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("SWITCH_GAME",{app_id:a})}).then(function(){var b={app_id:a,payload:e!=null?JSON.stringify(e):null};return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").GAME_SWITCH,b)});c("fbinstant/common/dataAccessRecorder")("RECORD_SWITCH_GAME_ASYNC_DIALOG",c("fbinstant/releases/samus/internalStates.samus").getMessageSender(),c("InstantGamesSDKMessages").GAME_SWITCH);return c("fbinstant/releases/samus/logger.samus").logAsyncResult(g,f)},canCreateShortcutAsync:function(){var a="canCreateShortcutAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").CAN_CREATE_SHORTCUT_ASYNC,null);return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a).then(function(a){return a.canCreateShortcut})["catch"](function(a){return!1})},createShortcutAsync:function(){var a="createShortcutAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING){c("fbinstant/releases/samus/logger.samus").logReject(a,c("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var e=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").CREATE_SHORTCUT_ASYNC,null);return c("fbinstant/releases/samus/logger.samus").logAsyncResult(e,a)},quit:function(){c("fbinstant/releases/samus/logger.samus").logAPICall("quit"),c("fbinstant/releases/samus/lifecycle.samus").quit(c("fbinstant/releases/samus/internalStates.samus").getMessageSender())},logEvent:function(a,b,d){var e=a+(b!=null?"_"+b:"")+(d!=null?"_"+JSON.stringify(d):"");c("fbinstant/common/dataAccessRecorder")("RECORD_LOG_EVENT",c("fbinstant/releases/samus/internalStates.samus").getMessageSender(),e,{eventName:a,valueToSum:b,parameters:d});e=c("fbinstant/releases/samus/internalStates.samus").getAnalytics().logEvent(a,b,d);return!e?null:new(c("fbinstant/common/apiError"))({code:e.code,message:e.message})},onPause:function(a){c("fbinstant/releases/samus/logger.samus").logAPICall("onPause"),c("fbinstant/releases/samus/internalStates.samus").getPauseEvent().on(a)},onResume:function(a){c("fbinstant/releases/samus/logger.samus").logAPICall("onResume"),c("fbinstant/releases/samus/internalStates.samus").getResumeEvent().on(a)},getInterstitialAdAsync:function(a){var b="getInterstitialAdAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);var d=c("fbinstant/common/validator").string();d=c("fbinstant/common/validator").validate(a,d).then(function(){return c("fbinstant/releases/samus/ads.samus").getInterstitialAdAsync(a)});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(d,b)},getRewardedVideoAsync:function(a){var b="getRewardedVideoAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);var d=c("fbinstant/common/validator").string();d=c("fbinstant/common/validator").validate(a,d).then(function(){return c("fbinstant/releases/samus/ads.samus").getRewardedVideoAsync(a)});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(d,b)},matchPlayerAsync:function(a,e,f){var g="matchPlayerAsync",h=c("fbinstant/releases/samus/internalStates.samus").getMatchPlayerPromise();if(h)return h;c("fbinstant/releases/samus/logger.samus").logBeginAsync(g);if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING){c("fbinstant/releases/samus/logger.samus").logReject(g,c("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Can not perform this operation before game start."}))}var i={matchTag:a||null,switchContextWhenMatched:c("fbinstant/common/platformUtils").getPlatform()===c("fbinstant/common/platform").IOS?!0:e||!1,offlineMatch:f||!1};h=/^[a-zA-Z0-9_]+$/;if(i.matchTag&&i.matchTag.search(h)===-1){c("fbinstant/releases/samus/logger.samus").logReject(g);return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_PARAM,message:"Match Tag must only include letters, numbers and underscores."}))}if(i.matchTag&&i.matchTag.length>100){c("fbinstant/releases/samus/logger.samus").logReject(g);return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_PARAM,message:"Match Tag must be 100 characters or less."}))}a=c("fbinstant/common/validator").object().keys({matchTag:c("fbinstant/common/validator").string().optional(),switchContextWhenMatched:c("fbinstant/common/validator")["boolean"](),offlineMatch:c("fbinstant/common/validator")["boolean"]()});e=c("fbinstant/common/validator").validate(i,a).then(function(a){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("CAN_PLAYER_MATCH",{contextID:c("fbinstant/releases/samus/internalStates.samus").getContext().getID(),offlineMatch:f})}).then(function(a){if(!a.can_match)throw new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"The player is not currently eligible to match."});i.dialogTitle=a.dialog_title;i.dialogTextLineOne=a.dialog_text_line_one;i.dialogTextLineTwo=a.dialog_text_line_two;i.dialogButtonText=a.dialog_button_text;i.bannerSearchText=a.banner_search_text;i.bannerRetryText=a.banner_retry_text;i.bannerMatchFoundText=a.banner_match_found_text;i.bannerUserAlreadyInThreadText=a.banner_user_already_in_thread_text;i.useV2=a.use_v2||!1;return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").MATCH_PLAYER_ASYNC,i)}).then(function(a){c("fbinstant/releases/samus/internalStates.samus").updateContext(a);c("fbinstant/releases/samus/internalStates.samus").setMatchPlayerPromise(null);return})["catch"](function(a){c("fbinstant/releases/samus/internalStates.samus").setMatchPlayerPromise(null);throw a});e=c("fbinstant/releases/samus/logger.samus").logAsyncResult(e,g);c("fbinstant/releases/samus/internalStates.samus").setMatchPlayerPromise(e);return e},checkCanPlayerMatchAsync:function(){var a="checkCanPlayerMatchAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendPassThroughAsync("CAN_PLAYER_MATCH",{contextID:c("fbinstant/releases/samus/internalStates.samus").getContext().getID()}).then(function(a){return a.can_match});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a)},getLeaderboardAsync:function(a){var b="getLeaderboardAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);var d=c("fbinstant/common/validator").string();d=c("fbinstant/common/validator").validate(a,d).then(function(){return c("fbinstant/releases/samus/leaderboards.samus").getLeaderboardAsync(a)});return c("fbinstant/releases/samus/logger.samus").logAsyncResult(d,b)},postSessionScore:function(a){c("fbinstant/releases/samus/logger.samus").logAPICall("postSessionScore"),c("fbinstant/releases/samus/tournaments.samus").postSessionScoreAsync(a)},postSessionScoreAsync:function(a){var b="postSessionScoreAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(b);a=c("fbinstant/releases/samus/tournaments.samus").postSessionScoreAsync(a);return c("fbinstant/releases/samus/logger.samus").logAsyncResult(a,b)},getTournamentAsync:function(){var a="getTournamentAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);var b=c("fbinstant/releases/samus/tournaments.samus").getTournamentAsync();return c("fbinstant/releases/samus/logger.samus").logAsyncResult(b,a)},performHapticFeedbackAsync:function(){var a="performHapticFeedbackAsync";c("fbinstant/releases/samus/logger.samus").logBeginAsync(a);if(c("fbinstant/releases/samus/internalStates.samus").getGameState()!==d("InstantGamesGameState").PLAYING){c("fbinstant/releases/samus/logger.samus").logReject(a,c("fbinstant/common/errorCode").INVALID_OPERATION);return b("Promise").reject(new(c("fbinstant/common/apiError"))({code:c("fbinstant/common/errorCode").INVALID_OPERATION,message:"Cannot perform performHapticFeedbackAsync() before game start."}))}var e=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync(c("InstantGamesSDKMessages").PERFORM_HAPTIC_FEEDBACK_ASYNC,null);return c("fbinstant/releases/samus/logger.samus").logAsyncResult(e,a)}};f.exports=a}),34);
__d("CloudGamingErrorManagement",["Clipboard","CloudGamingApertureUtils","CloudGamingConstants","CloudGamingErrorTypes","CometDebounce","ConstUriUtils","InstantGamesPWAUtils","InstantGamesPlayerUtils","fbinstant/releases/samus/index.samus","fbinstant/releases/samus/internalStates.samus"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){return d("CloudGamingApertureUtils").isMobileApp(a)?null:c("CometDebounce")(function(){b==null?void 0:b.send(d("CloudGamingConstants").CloudGamingMessageTypes.RETRY),c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send("cgretry",null)},{leading:!0,wait:5e3})},i=function(a,b,c){return d("CloudGamingApertureUtils").isMobileApp(a)?null:function(){c==null?void 0:c.send(d("CloudGamingConstants").CloudGamingMessageTypes.QUIT),b&&d("fbinstant/releases/samus/index.samus").quit()}};function a(a,b,c,e,f,g,n,o,p,q){if(Object.values(d("CloudGamingConstants").HorizonAppIDs).includes(q)&&j())return{errorType:d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNSUPPORTED_DEVICE,isGameOver:!0,primaryButtonLabel:p.LEARN_MORE_TEXT,primaryButtonOnClick:null,primaryText:p.UNSUPPORTED_DEVICE_HEADER,secondaryButtonLabel:p.RETURN_GAMING_TEXT,secondaryButtonOnClick:i(e,f,g),secondaryText:p.getUnsupportedDeviceMessage(c)};q=null;if(a.phase==="error")if(a.payloadResponse!=null){var r=a.payloadResponse;if(a.code==="CREATE_OFFER_FAILURE"){var s;q=(s=(s=k(r,e,f,g,p))!=null?s:l(r,e,f,!1,g,p))!=null?s:m(r,e,f,c,o,g,p)}}else a.message!=null&&(q=k(a.message,e,f,g,p));else if(b==="Inactivated"||b==="Timeout"){s=b==="Timeout";r=d("InstantGamesPlayerUtils").isCometOnMobile()||e===String(412378670482);q={errorType:s?d("CloudGamingErrorTypes").CloudGamingErrorTypes.CONNECTION_TIMEOUT:d("CloudGamingErrorTypes").CloudGamingErrorTypes.CONNECTION_TIMEOUT_WARNING,internalOnlyErrorDetail:void 0,isGameOver:s,primaryButtonLabel:s?p.PLAY_AGAIN_TEXT:p.WARNING_EXIT_TEXT,primaryButtonOnClick:s?h(e,g):function(){n()},primaryText:s?p.CONNECTION_TIMEOUT_TEXT:p.CONNECTION_TIMEOUT_WARNING_TEXT,secondaryButtonLabel:p.RETURN_GAMING_TEXT,secondaryButtonOnClick:i(e,f,g),secondaryText:s&&r&&!d("InstantGamesPWAUtils").isInPWA()?p.getRefreshToRestartGameMessage((o=c)!=null?o:""):s?p.CONNECTION_TIMEOUT_DESCRIPTION_TEXT:null}}r=(b=q)!=null?b:{errorType:d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNKNOWN,internalOnlyErrorDetail:void 0,isGameOver:!0,primaryButtonLabel:p.RETRY_TEXT,primaryButtonOnClick:h(e,g),primaryText:p.CONNECTION_ERROR_TEXT,secondaryButtonLabel:p.RETURN_GAMING_TEXT,secondaryButtonOnClick:i(e,f,g),secondaryText:p.CONNECTION_ERROR_DESCRIPTION_TEXT};a.payloadResponse!=null&&(r.internalOnlyErrorDetail=a.payloadResponse);return r}function b(a){if(!Object.values(d("CloudGamingConstants").HorizonAppIDs).includes(a))return!0;a=!j();return a}function j(){var a=/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints!=null&&navigator.maxTouchPoints>1,b=/iPad/i.test(navigator.userAgent)&&/\'CriOS\'/i.test(navigator.userAgent),c=navigator.userAgent.toLowerCase();c=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(c);return a||b||c}function k(a,b,c,e,f){var g=f.RETRY_TEXT,j=f.CONNECTION_ERROR_TEXT,k=null,l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNKNOWN;a.includes("GAME_NODE_IN_USE")?(j=f.GAME_NODE_IN_USE_TEXT,k=f.GAME_NODE_IN_USE_DESCRIPTION_TEXT,l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.GAME_NODE_IN_USE):a.includes("GAME_NODE_TERMINATING")?(j=f.SAVE_ERROR_TEXT,k=f.GAME_NODE_TERMINATING_TEXT,l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.GAME_NODE_TERMINATING):a.includes("NO_AVAILABLE_REGIONS")?(k=f.REGION_UNAVAILABLE_TEXT,l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.REGION_UNAVAILABLE):a.includes("ACCESS_TOKEN_GEN_FAILED")?(k=f.UNABLE_CONNECT_SERVER_TEXT,l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.ACCESS_TOKEN_GEN_FAILED):a.includes("h264 required but not supported")&&(j=f.H264_ERROR_TEXT,k=f.H264_ERROR_DESCRIPTION_TEXT,l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.H264_ERROR,g=null);if(k!==null)return{errorType:l,isGameOver:!0,primaryButtonLabel:g,primaryButtonOnClick:h(b,e),primaryText:j,secondaryButtonLabel:f.RETURN_GAMING_TEXT,secondaryButtonOnClick:i(b,c,e),secondaryText:k}}function l(a,b,c,e,f,g){a=a.includes("APP_NOT_FOUND")?d("CloudGamingErrorTypes").CloudGamingErrorTypes.APP_NOT_FOUND:a.includes("CANNOT_SEE_CLOUD_GAME")?d("CloudGamingErrorTypes").CloudGamingErrorTypes.CANNOT_SEE_CLOUD_GAME:a.includes("CAPACITY_ERROR")?d("CloudGamingErrorTypes").CloudGamingErrorTypes.CAPACITY_ERROR:null;if(a!=null)return{errorType:a,isGameOver:!0,primaryButtonLabel:g.RETRY_TEXT,primaryButtonOnClick:e?h(b,f):null,primaryText:a===d("CloudGamingErrorTypes").CloudGamingErrorTypes.CAPACITY_ERROR?g.CAPACITY_ERROR_TEXT:g.GAME_COULD_NOT_BE_LOADED_TEXT,secondaryButtonLabel:g.RETURN_GAMING_TEXT,secondaryButtonOnClick:i(b,c,f),secondaryText:a===d("CloudGamingErrorTypes").CloudGamingErrorTypes.CAPACITY_ERROR?g.CAPACITY_ERROR_DESCRIPTION_TEXT:g.TRY_AGAIN_TEXT}}function m(a,b,c,e,f,g,h){var j=h.UNSUPPORTED_GAME_TEXT,k=null,l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNKNOWN;a.includes("CHROME_DESKTOP")?(k=h.getUseChromeDesktopMessage(e),l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.USE_CHROME_DESKTOP):a.includes("FACEBOOK_FOR_ANDROID")?(k=h.getUseFacebookOnAndroidMessage(e),l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.USE_FACEBOOK_FOR_ANDROID):a.includes("MOBILE_SAFARI")?(k=h.getUseMobileSafariMessage(e),l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.USE_MOBILE_SAFARI):a.includes("UPGRADE_MOBILE_OS_VS")?(k=h.PLEASE_UPGRADE_MOBILE_OS_VS,l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UPGRADE_MOBILE_OS_VS):a.includes("UPGRADE_ANDROID_WEBVIEW_VS")?(k=h.PLEASE_UPGRADE_ANDROID_WEBVIEW_VS,l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UPGRADE_ANDROID_WEBVIEW_VS):a.includes("UPGRADE_FACEBOOK_FOR_ANDROID")?(k=h.PLEASE_UPGRADE_FACEBOOK_FOR_ANDROID,l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UPGRADE_FACEBOOK_FOR_ANDROID):a.includes("UPDATE_BROWSER")?(j=h.UPDATE_BROWSER_HEADER,k=h.getUpdateBrowserMessage(e),l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UPDATE_BROWSER):a.includes("UNSUPPORTED_DEVICE")?(j=h.UNSUPPORTED_DEVICE_HEADER,k=h.getUnsupportedDeviceMessage(e),l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNSUPPORTED_DEVICE):a.includes("UNSUPPORTED_OS")?(j=h.UNSUPPORTED_OS_HEADER,k=h.getUnsupportedOSMessage(e),l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNSUPPORTED_OS):a.includes("UNSUPPORTED_BROWSER")&&(j=h.UNSUPPORTED_BROWSER_HEADER,k=h.getUnsupportedBrowserMessage(e),l=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNSUPPORTED_BROWSER);if(k!==null){var m=(a=d("ConstUriUtils").getUri(f))==null?void 0:(e=a.getQualifiedUri())==null?void 0:e.toString();return{errorType:l,isGameOver:!0,primaryButtonLabel:h.COPY_GAME_LINK_TEXT,primaryButtonOnClick:!d("CloudGamingApertureUtils").isMobileApp(b)&&m!=null?function(){d("Clipboard").copy(m)}:null,primaryText:j,secondaryButtonLabel:h.RETURN_GAMING_TEXT,secondaryButtonOnClick:i(b,c,g),secondaryText:k}}}g.getErrorInfo=a;g.passClientCheckForHorizon=b;g.connectionCheckErrorInfo=k;g.capacityCheckErrorInfo=l;g.platformCheckErrorInfo=m}),98);
__d("CloudGamingFullScreenMode.react",["CloudGamingClientFbts","CloudGamingWindowsGamesSpecialConfigurationConfig","CometFullScreen","CometPressable.react","TetraText.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j={body:{paddingBottom:"xwxc41k",width:"x65xoit",$$css:!0},header:{paddingBottom:"x1m7pmia",paddingEnd:"x1o0k56v",paddingStart:"x4ge4z1",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xatbrnm",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexWrap:"xozqiw3",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x71s49j",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",touchAction:"x5ve5x3",userSelect:"x87ps6o",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.clientAppID,e=a.cloudGameID,f=a.isGameNotReady,g=a.isMobileApp,k=a.isMobileBrowser;a=a.provider;var l=i(!1),m=l[0];l=l[1];if(a==="GREDOS"&&window.navigator.keyboard!=null&&!(g||k)){window.navigator.keyboard.lock(["Escape"]);a=c("CloudGamingWindowsGamesSpecialConfigurationConfig").force_full_screen;g=a.indexOf(e)!==-1;b!==String(351299233827255)&&c("gkx")("4388")&&!f&&g&&(!d("CometFullScreen").isFullScreen()&&!m?l(!0):d("CometFullScreen").isFullScreen()&&m&&l(!1))}return m?h.jsx("div",{className:"x6s0dn4 xatbrnm x9f619 x78zum5 xdt5ytf xozqiw3 x5yr21d xl56j7k x6ikm8r x10wlt62 x71s49j x10l6tqk x17qophe x13vifvy x5ve5x3 x87ps6o xh8yej3 x1vjfegm",children:h.jsxs(c("CometPressable.react"),{onPress:function(){var a=document.getElementById("iframe_canvas");if(a==null)return;var b=document.getElementById("ApertureVideoComponent");document.pointerLockElement||(b==null?void 0:b.requestPointerLock(),b==null?void 0:b.focus());d("CometFullScreen").requestFullScreen(a)},overlayDisabled:!0,preventContextMenu:!0,xstyle:j.root,children:[h.jsx("div",{className:"x1m7pmia x1o0k56v x4ge4z1",children:h.jsx(c("TetraText.react"),{align:"center",color:"primaryOnMedia",type:"entityHeaderHeadline1",children:d("CloudGamingClientFbts").CloudGamingClientFbts.PLAY_IN_FULL_SCREEN})}),h.jsx("div",{className:"xwxc41k x65xoit",children:h.jsx(c("TetraText.react"),{align:"center",color:"primaryOnMedia",type:"body2",children:d("CloudGamingClientFbts").CloudGamingClientFbts.PLAY_IN_FULL_SCREEN_INSTRUCTIONS})}),h.jsx("div",{className:"xwxc41k x65xoit",children:h.jsx(c("TetraText.react"),{align:"center",color:"primaryOnMedia",type:"body2",children:d("CloudGamingClientFbts").CloudGamingClientFbts.PLAY_IN_FULL_SCREEN_EXIT})})]})}):null}a.displayName=a.name+" [from "+f.id+"]";g.CloudGamingFullScreenMode=a}),98);
__d("CloudGamingLockedMouseProcessor",["EventTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=0,q=0,r=0,s=20;function t(){return{index:0,originalIndex:0,position:{x:0,y:0},timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:"MOUSE_DOWN"}}function u(){return{index:0,originalIndex:0,position:{x:0,y:0},timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:"MOUSE_MOVE"}}function v(){return{index:0,originalIndex:0,position:{x:0,y:0},timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:"MOUSE_UP"}}var w=function(a,b,c){var d=a,e=b;a<=c.getBoundingClientRect().left?d=c.getBoundingClientRect().left:a>=c.getBoundingClientRect().width+c.getBoundingClientRect().left&&(d=c.getBoundingClientRect().width+c.getBoundingClientRect().left);b<=c.getBoundingClientRect().top?e=c.getBoundingClientRect().top:b>=c.getBoundingClientRect().height+c.getBoundingClientRect().top&&(e=c.getBoundingClientRect().height+c.getBoundingClientRect().top);return[d,e]},x=function(a,b,c){if(a<=c.getBoundingClientRect().left||a>=c.getBoundingClientRect().width+c.getBoundingClientRect().left||b<=c.getBoundingClientRect().top||b>=c.getBoundingClientRect().height+c.getBoundingClientRect().top)return!0;else return!1},y=function(a){if(h){var b;[0,0];if(!document.pointerLockElement)h.requestPointerLock(),b=C(a.clientX,a.clientY,h),i=a.clientX,j=a.clientY;else if(m)b=C(i,j,h);else return;n(b[0],b[1],1,t);a.stopPropagation()}},z=function(a){!m&&document.pointerLockElement&&document.exitPointerLock(),n(a.clientX,a.clientY,0,v),a.stopPropagation()},A=function(a){if(!document.pointerLockElement)return;if(h){if(m&&x(i+a.movementX,j+a.movementY,h)){var b=new Date().getTime();b-p>=s?(o(q,r,u),p=b,q=0,r=0):(q+=a.movementX,r+=a.movementY)}else{i+=a.movementX;j+=a.movementY;b=w(i,j,h);i=b[0];j=b[1];b=C(i,j,h);n(b[0],b[1],a.buttons,u)}a.stopPropagation()}},B=function(a){a.stopPropagation()},C=function(a,b,c){a=Math.round((a-c.getBoundingClientRect().left)*k/c.getBoundingClientRect().width);b=Math.round((b-c.getBoundingClientRect().top)*l/(c.getBoundingClientRect().width*l/k));return[a,b]},D=function(){h!=null&&(h.removeEventListener("mousedown",y,!0),h.removeEventListener("mouseup",z,!0),h.removeEventListener("mousemove",A,!0),h.removeEventListener("mouseout",B,!0))};a=function(a,b,c,d,e,f){k=a,l=b,h=c,m=d,n=e,o=f,h!=null&&(D(),h.addEventListener("mousedown",y,!0),h.addEventListener("mouseup",z,!0),h.addEventListener("mousemove",A,!0),h.addEventListener("mouseout",B,!0))};g.removeLockedMouseListeners=D;g.setupLockedMouseProcessor=a}),98);
__d("CloudGamingContainerReducer",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";var h={browserOrientation:0,streamingRotation:0,viewportHeight:0,viewportLeft:0,viewportTop:0,viewportWidth:0};function a(a,b){a===void 0&&(a=h);switch(b.type){case c("CloudGamingActionTypes").CONTAINER_RESIZE:return babelHelpers["extends"]({},a,{browserOrientation:b.browserOrientation,streamingRotation:b.streamingRotation,viewportHeight:b.viewportHeight,viewportLeft:b.viewportLeft,viewportTop:b.viewportTop,viewportWidth:b.viewportWidth});default:break}return a}g.DefaultState=h;g.container=a}),98);
__d("CloudGamingConnectionReducer",[],(function(a,b,c,d,e,f){"use strict";var g={phase:"initial",timestamp:0};function a(a){return a.phase==="error"||a.phase==="done"}function b(a){return a.phase==="connecting"}function h(a){return"Waiting for "+a.join(", ")}function i(a,b){if(a.phase!=="connecting")return a;var c=a.pending.filter(function(a){return a!==b});if(c.length===0)return{phase:"live",timestamp:Date.now()};return c.length===a.pending.length?a:babelHelpers["extends"]({},a,{message:h(c),pending:c,timestamp:Date.now()})}function c(a,b){a===void 0&&(a=g);switch(b.type){case"DISCONNECT":return babelHelpers["extends"]({},g,{timestamp:Date.now()});case"CREATE_SDP_OFFER":var c=["Server Connection","Video Stream","Data Channel","First Heartbeat"];return{message:h(c),pending:c,phase:"connecting",timestamp:Date.now()};case"RECEIVED_SDP_ANSWER":return i(a,"Server Connection");case"ADD_MEDIA_STREAM":case"ADD_VIDEO_TRACK":return i(a,"Video Stream");case"DATA_CHANNEL_OPENED":return i(a,"Data Channel");case"SERVER_TICK":return i(a,"First Heartbeat");case"FATAL_ERROR":return{code:b.code,message:b.detail,payloadResponse:b.payloadResponse,phase:"error",timestamp:Date.now()};case"RESOURCE_CLOSED":return{code:b.code,message:b.detail,phase:"done",timestamp:Date.now()};default:return a}}f.DefaultState=g;f.isTerminated=a;f.isLoading=b;f.pendingMessage=h;f.pendingFulfillment=i;f.connection=c}),66);
__d("CloudGamingCoreTypes",["ApertureHeartbeatReducer","ApertureKeyboardReducer","ApertureMediaReducer","ApertureMouseReducer","ApertureRTCReducer","ApertureResourceReducer","CloudGamingConnectionReducer"],(function(a,b,c,d,e,f,g){"use strict";a={connection:d("CloudGamingConnectionReducer").DefaultState,heartbeat:d("ApertureHeartbeatReducer").DefaultState,keyboard:d("ApertureKeyboardReducer").DefaultState,media:d("ApertureMediaReducer").DefaultState,mouse:d("ApertureMouseReducer").DefaultState,resource:d("ApertureResourceReducer").DefaultState,rtc:d("ApertureRTCReducer").DefaultState};g.DefaultState=a}),98);
__d("CloudGamingGamepadReducer",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={keysDown:new Map()};function a(a,b){a===void 0&&(a=h);switch(b.type){case"GAMEPAD":var c=new Map(a.keysDown);if(b.direction==="down")if(c.has(b.index)){var d=i(c,b.index);d.add(b.code)}else c.set(b.index,new Set([b.code]));else if(c.has(b.index)){d=i(c,b.index);d["delete"](b.code)}return{keysDown:c};case"GAMEPAD_DISCONNECTED":d=new Map(a.keysDown);d.has(b.index)&&d["delete"](b.index);return{keysDown:d};case"CLEAR_GAMEPAD_KEYS_DOWN":return{keysDown:new Map()};default:return a}}function i(a,b){a=a.get(b);if(a==null)throw c("FBLogger")("cloud_gaming").mustfixThrow("keysDown is undefined");return a}g.DefaultState=h;g.gamepad=a}),98);
__d("CloudGamingInGameStateReducer",["CloudGamingActionTypes","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h={gameState:"none"};function a(a,b){a===void 0&&(a=h);switch(b.type){case c("CloudGamingActionTypes").IN_GAME_STATE:if(c("gkx")("333")){var d=document.getElementById("gameState");if(!d){var e;d=document.createElement("div");d.id="gameState";d.hidden=!0;(e=document.body)==null?void 0:e.appendChild(d)}d&&(d.innerText=b.state)}return babelHelpers["extends"]({},a,{gameState:b.state})}return a}g.DefaultState=h;g.inGameState=a}),98);
__d("CloudGamingLocalCursorReducer",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";var h={screenPosX:.5,screenPosY:.5};function a(a,b){a===void 0&&(a=h);switch(b.type){case c("CloudGamingActionTypes").CURSOR_MOVEMENT:return babelHelpers["extends"]({},a,{screenPosX:b.screenPosX,screenPosY:b.screenPosY});default:break}return a}g.DefaultState=h;g.localCursor=a}),98);
__d("CloudGamingMultiTouchOverlayReducer",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";var h={primaryX:0,primaryY:0,secondaryX:0,secondaryY:0,showMultiTouchOverlay:!1};function a(a,b){a===void 0&&(a=h);switch(b.type){case c("CloudGamingActionTypes").SHOW_MULTI_TOUCH_OVERLAY:return babelHelpers["extends"]({},a,{showMultiTouchOverlay:!0});case c("CloudGamingActionTypes").HIDE_MULTI_TOUCH_OVERLAY:return babelHelpers["extends"]({},a,{showMultiTouchOverlay:!1});case c("CloudGamingActionTypes").SET_POINTERS_COORDINATES:return babelHelpers["extends"]({},a,{primaryX:b.primaryX,primaryY:b.primaryY,secondaryX:b.secondaryX,secondaryY:b.secondaryY});default:break}return a}g.DefaultState=h;g.multiTouchOverlay=a}),98);
__d("CloudGamingResolutionReducer",[],(function(a,b,c,d,e,f){"use strict";var g={height:1920,width:720};function a(a,b){a===void 0&&(a=g);switch(b.type){case"RECEIVED_SDP_ANSWER":return babelHelpers["extends"]({},a,{height:b.displaySize.height,width:b.displaySize.width});default:break}return a}f.DefaultState=g;f.resolution=a}),66);
__d("CloudGamingWarningAlertReducer",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";var h={warningDialogs:new Map(),warnings:new Map()};function a(a,b){a===void 0&&(a=h);switch(b.type){case c("CloudGamingActionTypes").WARNING_METRIC:var d=new Map(a.warnings);if(!d.has(b.name)){d.set(b.name,{buttonCallback:b.buttonCallback,buttonText:b.buttonText,value:b.value});return babelHelpers["extends"]({},a,{warnings:d})}break;case c("CloudGamingActionTypes").CLEAN_WARNING_METRIC:d=new Map(a.warnings);if(d.has(b.name)){d["delete"](b.name);return babelHelpers["extends"]({},a,{warnings:d})}break;case c("CloudGamingActionTypes").SHOW_WARNING_DIALOG:d=new Map(a.warningDialogs);if(!d.has(b.dialogType)){d.set(b.dialogType,{closeCallback:b.closeCallback});return babelHelpers["extends"]({},a,{warningDialogs:d})}break;case c("CloudGamingActionTypes").HIDE_WARNING_DIALOG:d=new Map(a.warningDialogs);if(d.has(b.dialogType)){d["delete"](b.dialogType);return babelHelpers["extends"]({},a,{warningDialogs:d})}break;default:return a}return a}g.DefaultState=h;g.warningAlert=a}),98);
__d("GameLifecycleReducer",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";var h={gameLifecycleState:"NotReady"};function a(a,b){a===void 0&&(a=h);switch(b.type){case c("CloudGamingActionTypes").GAME_READY:return babelHelpers["extends"]({},a,{gameLifecycleState:"Playing"});case c("CloudGamingActionTypes").PAUSE_GAME:return babelHelpers["extends"]({},a,{gameLifecycleState:"Paused"});case c("CloudGamingActionTypes").RESUME_GAME:return babelHelpers["extends"]({},a,{gameLifecycleState:"Playing"});case c("CloudGamingActionTypes").INACTIVATE_GAME:return babelHelpers["extends"]({},a,{gameLifecycleState:"Inactivated"});case c("CloudGamingActionTypes").REACTIVATE_GAME:return babelHelpers["extends"]({},a,{gameLifecycleState:"Playing"});case c("CloudGamingActionTypes").FINISH_GAME:return babelHelpers["extends"]({},a,{gameLifecycleState:"Timeout"});default:break}return a}g.DefaultState=h;g.gameLifecycle=a}),98);
__d("CloudGamingApertureTypes",["CloudGamingContainerReducer","CloudGamingCoreTypes","CloudGamingGamepadReducer","CloudGamingInGameStateReducer","CloudGamingLocalCursorReducer","CloudGamingMultiTouchOverlayReducer","CloudGamingResolutionReducer","CloudGamingWarningAlertReducer","GameLifecycleReducer"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},d("CloudGamingCoreTypes").DefaultState,{container:d("CloudGamingContainerReducer").DefaultState,gameLifecycle:d("GameLifecycleReducer").DefaultState,gamepad:d("CloudGamingGamepadReducer").DefaultState,inGameState:d("CloudGamingInGameStateReducer").DefaultState,localCursor:d("CloudGamingLocalCursorReducer").DefaultState,multiTouchOverlay:d("CloudGamingMultiTouchOverlayReducer").DefaultState,resolution:d("CloudGamingResolutionReducer").DefaultState,warningAlert:d("CloudGamingWarningAlertReducer").DefaultState});g.DefaultState=a}),98);
__d("CloudGamingContext.react",["ApertureLayout","CloudGamingApertureTypes","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={phase:"waiting_for_user_config",timestamp:0};c={connection:b,gameLifecycle:d("CloudGamingApertureTypes").DefaultState.gameLifecycle.gameLifecycleState,initialResolutionHeight:d("CloudGamingApertureTypes").DefaultState.resolution.height,initialResolutionWidth:d("CloudGamingApertureTypes").DefaultState.resolution.width,resourceHeight:d("ApertureLayout").initialResourceSize.height,resourceWidth:d("ApertureLayout").initialResourceSize.width,showMultiTouchOverlay:d("CloudGamingApertureTypes").DefaultState.multiTouchOverlay.showMultiTouchOverlay,viewportHeight:d("CloudGamingApertureTypes").DefaultState.container.viewportHeight,viewportWidth:d("CloudGamingApertureTypes").DefaultState.container.viewportWidth};e={connectionPhase:b.phase,mediaStream:d("CloudGamingApertureTypes").DefaultState.media.mediaStream};f=babelHelpers["extends"]({},d("CloudGamingApertureTypes").DefaultState.warningAlert,{browserOrientation:d("CloudGamingApertureTypes").DefaultState.container.browserOrientation});var h=a.createContext(function(a){});c=a.createContext(c);e=a.createContext(e);d=a.createContext(d("CloudGamingApertureTypes").DefaultState.multiTouchOverlay);a=a.createContext(f);g.DefaultConnectionState=b;g.CloudGamingDispatchContext=h;g.CloudGamingContentStateContext=c;g.CloudGamingVideoStreamStateContext=e;g.CloudGamingMultiTouchOverlayStateContext=d;g.CloudGamingWarningAlertStateContext=a}),98);
__d("CloudGamingMultiTouchOverlay.react",["CloudGamingContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(){var a=i(d("CloudGamingContext.react").CloudGamingContentStateContext),b=i(d("CloudGamingContext.react").CloudGamingMultiTouchOverlayStateContext),c=a.viewportWidth/2;a=a.viewportHeight/2;var e=b.primaryX,f=b.primaryY,g=b.secondaryX;b=b.secondaryY;return h.jsxs("svg",{className:"x5yr21d x47corl x10l6tqk xh8yej3 x1n327nk",children:[h.jsx("line",{className:"x1cy1n3u xnpr05h",x1:e,x2:c,y1:f,y2:a}),h.jsx("line",{className:"x1cy1n3u xnpr05h",x1:g,x2:c,y1:b,y2:a}),h.jsx("circle",{className:"x144hvv3 x1cy1n3u xat63qw xvlca1e",cx:e,cy:f,r:"20"}),h.jsx("circle",{className:"x170xcvm x1cy1n3u xkcscd8 x17ub4bw xnpr05h",cx:c,cy:a,r:"30"}),h.jsx("circle",{className:"x18t5km x1cy1n3u x17ub4bw xnpr05h",cx:c,cy:a,r:"7"}),h.jsx("circle",{className:"x144hvv3 x1cy1n3u xat63qw xvlca1e",cx:g,cy:b,r:"20"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingStreamLoading.react",["ix","CometIcon.react","CometLoadingAnimation.react","IconSource","TetraText.react","intlList","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={"Data Channel":h("497907"),"First Heartbeat":h("722869"),"Game Ready":h("608320"),"Resource Ready":h("514776"),"Server Connection":h("1072516"),"Video Stream":h("507229")};function a(a){var b=a.inPossibleLoadingState,d=a.isGameNotReady,e=a.isInsideIframe,f=a.message,g=a.pending;a=j(function(){var a=[];for(var b=g,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var h=f in k?k[f]:null;if(h==null)continue;h=new(c("IconSource"))("FB",h,24);a.push(i.jsx("div",{className:"x1xmf6yo x1emribx x1e56ztr x1i64zmx",children:i.jsx(c("CometIcon.react"),{icon:h})},f))}return a},[g]);var h=j(function(){return b?d?g.concat(["Game Ready"]):g:[]},[b,d,g]),l=j(function(){if(!b)return null;if(h.length>0){var a=c("intlList")(h);return"Waiting for "+a.toString()}return f},[b,h,f]);if(h.length===0&&l===null)return null;var m="Game Loading";return i.jsx("div",{className:"x6s0dn4 x14nfmen x78zum5 xdt5ytf x5yr21d xl56j7k x1ks1olk x10l6tqk xh8yej3 xhtitgo",style:{display:e?"block":"none"},children:i.jsxs("div",{className:"x1n2onr6 x2b8uid xwa60dl x1cb1t30",children:[i.jsx("div",{className:"x6s0dn4 x78zum5 x1q0g3np xc9qbxq xl56j7k x1n2onr6 xtzzx4i xuuh30 x14qfxbe",children:i.jsx(c("CometLoadingAnimation.react"),{size:36})}),i.jsx("div",{className:"x1xmf6yo x1emribx x1e56ztr x1i64zmx",children:i.jsx(c("TetraText.react"),{align:"center",color:"primary",type:"body1",children:m})}),i.jsx("div",{className:"x1xmf6yo x1emribx x1e56ztr x1i64zmx",children:i.jsx(c("TetraText.react"),{align:"center",color:"primary",type:"body2",children:l})}),i.jsx("div",{className:"x6s0dn4 x78zum5 x1q0g3np xl56j7k x1n2onr6 xh8yej3",children:a})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingVideoComponent.react",["cx","ApertureVideo.react","CloudGamingActionTypes","CloudGamingConstants","CloudGamingContext.react","CloudGamingMessageReceiver","Visibility","fbinstant/releases/samus/internalStates.samus","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.eventBus,e=a.onBlur,f=a.onKeyDown,g=a.onKeyUp,h=a.onMouseEnter,n=a.onMouseOut,o=l(),p=l(),q=m(!1),r=q[0],s=q[1];q=m(!0);var t=q[0],u=q[1],v=l();q=m(!0);var w=q[0],x=q[1],y=j(d("CloudGamingContext.react").CloudGamingDispatchContext),z=l(!1);k(function(){var a=o.current;if(a){var b=function(a){if(g!=null)return g(a)};a.addEventListener("keyup",b);return function(){a.removeEventListener("keyup",b)}}},[g]);k(function(){var a=o.current;if(a){var b=function(a){if(f!=null)return f(a)};a.addEventListener("keydown",b);return function(){a.removeEventListener("keydown",b)}}},[f]);k(function(){var a=o.current;if(a){var b=function(a){if(n!=null)return n(a)};a.addEventListener("mouseout",b);return function(){a.removeEventListener("mouseout",b)}}},[n]);k(function(){var a=o.current;if(a){var b=function(a){if(h!=null)return h(a)};a.addEventListener("mouseenter",b);return function(){a.removeEventListener("mouseenter",b)}}},[h]);k(function(){var a=o.current;if(a){a.addEventListener("blur",e);return function(){a.removeEventListener("blur",e)}}},[e]);k(function(){o.current&&(w&&o.current.focus({preventScroll:!0}))},[w]);k(function(){var a=function(){s(function(a){return!a})},e=function(a){s(a)};b==null?void 0:b.on(d("CloudGamingConstants").CloudGamingMessageTypes.TOGGLE_AUDIO,a);b==null?void 0:b.on(d("CloudGamingConstants").CloudGamingMessageTypes.MUTE_AUDIO,function(){return e(!0)});b==null?void 0:b.on(d("CloudGamingConstants").CloudGamingMessageTypes.UNMUTE_AUDIO,function(){return e(!1)});b==null?void 0:b.on(d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_FOCUS,function(){x(!1)});b==null?void 0:b.on(d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_FOCUS,function(){x(!0)});if(!v.current){v.current=new(c("CloudGamingMessageReceiver"))(function(b){b===d("CloudGamingConstants").CloudGamingMessageTypes.TOGGLE_AUDIO?a():b===d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_FOCUS?x(!1):b===d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_FOCUS&&x(!0)});return function(){v.current!=null&&(v.current.clean(),v.current=null)}}},[b]);k(function(){var a=p.current;if(!(a instanceof HTMLVideoElement))return;a.play().then(function(){z.current=!0;y({type:r||!t?c("CloudGamingActionTypes").AUDIO_MUTED:c("CloudGamingActionTypes").AUDIO_UNMUTED});var a=r||!t?d("CloudGamingConstants").CloudGamingMessageTypes.START_MUTED:d("CloudGamingConstants").CloudGamingMessageTypes.START_UNMUTED;c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(a);b==null?void 0:b.send(a);!r&&t&&(b==null?void 0:b.send(d("CloudGamingConstants").CloudGamingMessageTypes.VIDEO_PLAY))})["catch"](function(a){s(!0),y({type:c("CloudGamingActionTypes").AUDIO_MUTED})})},[r,t,b,y]);k(function(){var a=c("Visibility").addListener(c("Visibility").VISIBLE,function(){u(!0)}),b=c("Visibility").addListener(c("Visibility").HIDDEN,function(){u(!1)});return function(){c("Visibility").removeListener(a),c("Visibility").removeListener(b)}},[]);function A(a){return function(b){if(o&&w){var c=o.current;c&&c.focus({preventScroll:!0})}a&&a(b)}}function B(a){return function(b){if(o&&w){var c=o.current;c&&c.focus({preventScroll:!0})}a&&a(b)}}function C(){return t?i.jsx(c("ApertureVideo.react"),{muted:r||!t,onError:a.onError,onMouseDown:A(a.onMouseDown),onMouseMove:a.onMouseMove,onMouseUp:A(a.onMouseUp),onPlay:a.onPlay,onReady:a.onReady,onTouchEnd:B(a.onTouchEnd),onTouchMove:a.onTouchMove,onTouchStart:B(a.onTouchStart),onWheel:a.onWheel,ref:p,stream:a.mediaStream}):null}return i.jsx("div",{className:"_886q","data-playing":z.current,"data-testid":void 0,id:"ApertureVideoComponent",ref:o,tabIndex:-1,children:C()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingVideoStream.react",["ApertureKeyboardAction","ApertureMouseAction","CloudGamingActionTypes","CloudGamingConstants","CloudGamingContext.react","CloudGamingVideoComponent.react","CometFullScreen","Visibility","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;e=27;var m=[e];function a(a){var b=a.appID,e=a.eventBus,f=a.forceVideoHidden,g=a.manageKeyModifiers,n=a.provider,o=a.sendCustomMouseEvent,p=a.sendCustomTouchEvent,q=a.sendMultiTouchKeyDown,r=a.sendMultiTouchKeyUp,s=a.sendMultiTouchMouseDown,t=a.sendMultiTouchMouseMove,u=a.sendMultiTouchMouseUp,v=j(d("CloudGamingContext.react").CloudGamingVideoStreamStateContext),w=j(d("CloudGamingContext.react").CloudGamingDispatchContext);a=v.mediaStream;var x=function(){if(f)return!1;switch(v.connectionPhase){case"live":return!0;case"connecting":return!0;default:return!1}},y=l([]),z=i(function(a){var b=y.current.indexOf(a.keyCode);if(m.includes(a.keyCode)&&(n==="GREDOS"&&d("CometFullScreen").isFullScreen()||b!==-1)){b===-1&&y.current.push(a.keyCode);return!1}return!0},[n]),A=i(function(a){var b=y.current.indexOf(a.keyCode);if(m.includes(a.keyCode)&&b!==-1){y.current.splice(b,1);if(d("CometFullScreen").isFullScreen()){w(d("ApertureKeyboardAction").sendKeyDown(a,g!==!1,!1));return!0}else return!1}return!0},[w,g]),B=function(a){t!=null?t(a):o!=null?o(a):w(d("ApertureMouseAction").sendMouseMove(a))},C=i(function(a){u!=null?u(a):o!=null?o(a):w(d("ApertureMouseAction").sendMouseUpWhenOut(a))},[w,o,u]),D=i(function(a){o!=null?o(a):w(d("ApertureMouseAction").sendMouseDownWhenEnter(a))},[w,o]),E=function(a){a.preventDefault(),M.current=!1,p!=null?p(a):w(d("ApertureMouseAction").sendTouchStart(a))},F=i(function(a){q!=null?q(a):z(a)&&w(d("ApertureKeyboardAction").sendKeyDown(a,g!==!1,!1))},[w,g,q,z]),G=i(function(a){r!=null?r(a):A(a)&&w(d("ApertureKeyboardAction").sendKeyUp(a,g!==!1,!1))},[w,g,r,A]),H=l(!0),I=function(a){s!=null?s(a):o!=null?(H.current===!0&&Object.values(d("CloudGamingConstants").HorizonAppIDs).includes(b)&&(e==null?void 0:e.send(d("CloudGamingConstants").CloudGamingMessageTypes.UNMUTE_AUDIO),w({type:c("CloudGamingActionTypes").AUDIO_UNMUTED}),H.current=!1),o(a)):w(d("ApertureMouseAction").sendMouseDown(a))},J=function(a){u!=null?u(a):o!=null?o(a):w(d("ApertureMouseAction").sendMouseUp(a))},K=l(!0),L=function(a){p!=null?(K.current===!0&&M.current===!1&&Object.values(d("CloudGamingConstants").HorizonAppIDs).includes(b)&&(e==null?void 0:e.send(d("CloudGamingConstants").CloudGamingMessageTypes.UNMUTE_AUDIO),w({type:c("CloudGamingActionTypes").AUDIO_UNMUTED}),K.current=!1),p(a)):w(d("ApertureMouseAction").sendTouchEnd(a))},M=l(!1),N=function(a){M.current=!0,p!=null?p(a):w(d("ApertureMouseAction").sendTouchMove(a))},O=i(function(){w(d("ApertureMouseAction").onBlur)},[w]),P=function(a){w(d("ApertureMouseAction").sendMouseWheel(a))};k(function(){var a=c("Visibility").addListener(c("Visibility").VISIBLE,function(){K.current=!0});return function(){c("Visibility").removeListener(a)}},[]);if(!a||!x())return null;x={onBlur:O,onKeyDown:F,onKeyUp:G,onMouseDown:I,onMouseEnter:D,onMouseMove:B,onMouseOut:C,onMouseUp:J,onTouchEnd:L,onTouchMove:N,onTouchStart:E,onWheel:P};return h.jsx(c("CloudGamingVideoComponent.react"),babelHelpers["extends"]({eventBus:e,mediaStream:a},x))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingVirtualKeyboard.react",["CloudGamingConstants","CloudGamingWarningAlertAction","InstantGamesPWAUtils","UserAgent","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="\b",j="\n",k="";function l(){var a=document.getElementById("VirtualKeyboard");return a!=null&&a instanceof HTMLInputElement?a:null}var m=!1;function a(){return m}function b(a){m=!0,a&&(a(d("CloudGamingWarningAlertAction").createWarningMetricAction("TOUCH_SCREEN_TO_OPEN_KEYBOARD",1)),c("setTimeout")(function(){a(d("CloudGamingWarningAlertAction").createCleanWarningMetricAction("TOUCH_SCREEN_TO_OPEN_KEYBOARD"))},2e3))}function e(a){return!c("UserAgent").isPlatform("Android")&&(a===String(412378670482)||d("InstantGamesPWAUtils").isInPWA()||a===String(351299233827255))}function n(){var a=l();return a!=null?a===document.activeElement:!1}function o(){var a=!n();p(a);return a}function p(a){m=!1;var b=l();if(b!=null){var c=document.activeElement===b;a!==c&&(a?(window.postMessage({type:d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_FOCUS},"/"),k="",b.value="",b.focus(),b.click()):(window.postMessage({type:d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_FOCUS},"/"),b.blur()))}}function q(a){var b=a.listener;a=function(a){if(b){a=a.target.value;var c=a.length,d=k.length,e=d,f=Math.min(d,c),g="";for(var h=0;h<f;++h){if(k[h]!==a[h])break;--e}for(f=0;f<e;++f)g+=i;h=d-e;k=a;g+=a.substring(h,c);g.length>0&&b.onIMEEvent(g)}};var c=function(a){if(b){var c="";switch(a.keyCode){case 8:c=i;break;case 13:c=j;p(!1);break}c.length>0&&b.onIMEEvent(c)}};a=h.jsx("input",{id:"VirtualKeyboard",onInput:a,onKeyUp:c,type:"text"});return h.jsx("div",{className:"x1i10hfl xpdipgo x1winvzj xjm9jq1 xl56j7k x1a2a7pz x6ikm8r x10wlt62 x10l6tqk xd665xh x80663w x87ps6o x1i1rx1s",children:a})}q.displayName=q.name+" [from "+f.id+"]";g.getOpenSoftKeyboardRequested=a;g.setOpenSoftKeyboardRequested=b;g.openKeyboardDelayed=e;g.isVirtualKeyboardVisible=n;g.switchVirtualKeyboard=o;g.showVirtualKeyboard=p;g.CloudGamingVirtualKeyboard=q}),98);
__d("CloudGamingMessageParentDelegate",["SecurePostMessage"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var b=window.parent;if(!b)return;var c=new RegExp("[?&]source(=([^&#]*)|&|#|$)","i");c=c.exec(window.location.href);c=c&&c[2]&&decodeURIComponent(c[2].replace(/\+/g," "));d("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(b,{content:a.content,destination:c,type:a.type})};b=a;g["default"]=b}),98);
__d("CloudGamingMessageSender",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.send=function(a){this.$1(a)};return a}();f["default"]=a}),66);
__d("VirtualGamepadAuxFunctions",[],(function(a,b,c,d,e,f){"use strict";var g={A:4096,B:8192,BACK:32,DPAD_DOWN:2,DPAD_LEFT:4,DPAD_RIGHT:8,DPAD_UP:1,HOME:1024,LEFT_SHOULDER:256,LEFT_THUMB:64,RIGHT_SHOULDER:512,RIGHT_THUMB:128,START:16,X:16384,Y:32768};function a(a){var b=1;if(a.length===9){a="0x"+a[7]+a[8];b=+(parseInt(a,16)/255).toFixed(3)}return b}function b(a,b,c){a=a*a+b*b;b=c*c;return a<=b?!0:!1}function c(a,b,c,d){return Math.abs(a)<=c/2&&Math.abs(b)<=d/2?!0:!1}function d(){try{return window.self!==window.top}catch(a){return!0}}function e(a,b){return{isPointInside:!0,xAxis:0,yAxis:0}}var h="EventTypeButton",i="EventTypeTriggerLeft",j="EventTypeTriggerRight",k="EventTypeJoystickLeft",l="EventTypeJoystickRight",m="EventTypeJoystickLeftPositiveXAxis",n="EventTypeJoystickLeftNegativeXAxis",o="EventTypeJoystickLeftPositiveYAxis",p="EventTypeJoystickLeftNegativeYAxis",q="EventTypeJoystickRightPositiveXAxis",r="EventTypeJoystickRightNegativeXAxis",s="EventTypeJoystickRightPositiveYAxis",t="EventTypeJoystickRightNegativeYAxis",u="EventTypeSwitchGyroscope",v="EventTypeSwitchKeyboard";f.XINPUT_GAMEPAD=g;f.hexToAlpha=a;f.checkPointInsideCircle=b;f.checkPointInsideRectangle=c;f.checkInIframe=d;f.onTouchMoveDefault=e;f.EventTypeButton=h;f.EventTypeTriggerLeft=i;f.EventTypeTriggerRight=j;f.EventTypeJoystickLeft=k;f.EventTypeJoystickRight=l;f.EventTypeJoystickLeftPositiveXAxis=m;f.EventTypeJoystickLeftNegativeXAxis=n;f.EventTypeJoystickLeftPositiveYAxis=o;f.EventTypeJoystickLeftNegativeYAxis=p;f.EventTypeJoystickRightPositiveXAxis=q;f.EventTypeJoystickRightNegativeXAxis=r;f.EventTypeJoystickRightPositiveYAxis=s;f.EventTypeJoystickRightNegativeYAxis=t;f.EventTypeSwitchGyroscope=u;f.EventTypeSwitchKeyboard=v}),66);
__d("CloudGamingVirtualWidget.react",["CloudGamingConstants","CloudGamingMessageParentDelegate","CloudGamingMessageSender","UserAgent","VirtualGamepadAuxFunctions","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=new(c("CloudGamingMessageSender"))(c("CloudGamingMessageParentDelegate"));function j(a){var b=0;a.restXAxis!==void 0&&(b=a.restXAxis);return b}function k(a){var b=0;a.restYAxis!==void 0&&(b=a.restYAxis);return b}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.state={isPressed:!1,timestamp:c.props.timestamp,toggleModeActive:!1,toggleTimeout:null,xAxis:j(c.props),yAxis:k(c.props)};c.canvasRef=h.createRef();c.stickCanvasRef=h.createRef();c.isToggle=c.props.isToggle;c.toggleTime=c.props.toggleTime;c.touchId=-1;c.checkToggleMode=function(){var a=!c.state.toggleModeActive;c.vibrateOnPress(!0);c.setState(function(b){return babelHelpers["extends"]({},b,{isPressed:!0,toggleModeActive:a})},function(){return c.props.callback(babelHelpers.assertThisInitialized(c))})};c.onTouchEnd=function(a){if(c.touchId!==-1){c.touchId=-1;c.state.toggleTimeout!=null&&window.clearTimeout(c.state.toggleTimeout);c.props.onTouchEnd&&c.props.onTouchEnd(a);var b=!1,d=j(c.props),e=k(c.props);c.isToggle&&(b=c.state.toggleModeActive,d=c.state.xAxis,e=c.state.yAxis);c.setState(function(a){return babelHelpers["extends"]({},a,{isPressed:b,xAxis:d,yAxis:e})},function(){return c.props.callback(babelHelpers.assertThisInitialized(c))})}};c.getIntersectionInfo=function(a,b){var d=c.canvasRef.current;if(d!=null){d=d.getBoundingClientRect();var e=d.width,f=d.height;return{h:f,w:e,x:a-d.left-e*.5,y:b-d.top-f*.5}}return{h:1,w:1,x:a-c.props.positionX,y:b-c.props.positionY}};c.$1=function(a){var b=a.changedTouches;for(var d=0;d<b.length;++d){var e=a.changedTouches[d],f=e.clientX,g=e.clientY;f=c.props.onTouchStart(f,g,e.identifier);g=!0;if(f.isPointInside){a.preventDefault();c.touchId=e.identifier;e=null;c.isToggle&&(g=!c.state.toggleModeActive,c.state.toggleTimeout!=null&&window.clearTimeout(c.state.toggleTimeout),e=window.setTimeout(function(){c.checkToggleMode()},c.toggleTime*1e3));c.vibrateOnPress(!0);c.setState({isPressed:g,toggleTimeout:e,xAxis:f.xAxis,yAxis:f.yAxis},function(){return c.props.callback(babelHelpers.assertThisInitialized(c))});break}}};c.$2=function(a){if(c.touchId!==-1){var b=a.changedTouches;for(var d=0;d<b.length;++d){var e=a.changedTouches[d];if(e.identifier===c.touchId){var f=function(){var b=e.clientX,d=e.clientY,f=c.props.onTouchMove(b,d);f.isPointInside?(a.preventDefault(),c.setState(function(a){return babelHelpers["extends"]({},a,{xAxis:f.xAxis,yAxis:f.yAxis})},function(){return c.props.callback(babelHelpers.assertThisInitialized(c))})):c.onTouchEnd(a);return"break"}();if(f==="break")break}}}};c.$3=function(a){if(c.touchId!==-1){var b=a.changedTouches;for(var d=0;d<b.length;++d){var e=a.changedTouches[d];if(e.identifier===c.touchId){a.preventDefault();c.onTouchEnd(a);break}}}};c.$4=function(a){if(c.touchId!==-1){var b=a.changedTouches;for(var d=0;d<b.length;++d){var e=a.changedTouches[d];if(e.identifier===c.touchId){a.preventDefault();c.onTouchEnd(a);break}}}};c.$5=function(a){var b=a.clientX;a=a.clientY;b=c.props.onTouchStart(b,a,0);if(b.isPointInside){c.touchId=0;a=!0;c.isToggle&&(a=!c.state.toggleModeActive);c.setState({isPressed:a,xAxis:b.xAxis,yAxis:b.yAxis},function(){return c.props.callback(babelHelpers.assertThisInitialized(c))})}};c.$6=function(a){c.touchId!==-1&&c.onTouchEnd(a)};c.$7=function(a){if(c.touchId!==-1){var b=a.clientX;a=a.clientY;b=c.props.onTouchMove(b,a);b.isPointInside&&c.setState({xAxis:b.xAxis,yAxis:b.yAxis},function(){return c.props.callback(babelHelpers.assertThisInitialized(c))})}};c.$8=function(){var a=c.props.color;c.state.isPressed&&(a=c.state.toggleModeActive&&c.props.toggleColor!==void 0?c.props.toggleColor:c.props.colorPress);if(c.props.sliderLength!==void 0&&c.props.orientation!==void 0&&c.props.stickImg!==void 0&&c.props.img!==void 0)c.updateSliderCanvas(c.canvasRef.current,c.props.positionX,c.props.positionY,c.props.scale,a,c.props.sliderLength,c.props.orientation,c.props.img,c.props.stickImg);else if(c.props.img!==void 0){var b=c.props.img.width*c.props.scale,d=c.props.img.height*c.props.scale;c.props.stickImg!==void 0&&(b=c.props.stickImg.width*c.props.scale*2,d=c.props.stickImg.height*c.props.scale*2);c.updateCanvas(c.canvasRef.current,c.props.positionX,c.props.positionY,b,d,a,c.props.img)}if(c.props.stickImg!==void 0){b=c.props.img?c.props.img.width:0;d=b*.5*c.props.scale;c.props.sliderLength!==void 0&&(b=c.props.sliderLength,d=b*.5);c.props.actionRatio!==void 0&&c.props.actionRatio>0&&(d*=c.props.actionRatio);b=c.props.positionX+c.state.xAxis*d;d=c.props.positionY+c.state.yAxis*d;var e=c.props.stickImg.width*c.props.scale,f=c.props.stickImg.height*c.props.scale;c.updateCanvas(c.stickCanvasRef.current,b,d,e,f,a,c.props.stickImg)}};c.$9=function(){return!1};c.props.callback(babelHelpers.assertThisInitialized(c));return c}var e=b.prototype;e.componentDidMount=function(){this.$8()};e.componentDidUpdate=function(){this.$8()};e.isPressed=function(){return this.state.isPressed};e.getXAxis=function(){return this.state.xAxis};e.getYAxis=function(){return this.state.yAxis};e.updateCanvas=function(a,b,c,e,f,g,h){if(a){a.width=e;a.height=f;e=a.getContext("2d");e.clearRect(0,0,a.width,a.height);f="#"+g;g=d("VirtualGamepadAuxFunctions").hexToAlpha(f)*this.props.disabledAlpha;e.globalAlpha=g;e.drawImage(h,0,0,a.width,a.height);e.globalCompositeOperation="source-atop";e.fillStyle=f;e.fillRect(0,0,a.width,a.height);e.globalCompositeOperation="source-over";a.style.position="absolute";a.style.left=b-a.width/2+"px";a.style.top=c-a.height/2+"px"}};e.updateSliderCanvas=function(a,b,c,e,f,g,h,i,j){if(a){var k=0,l=0,m=j.width*e;j=j.height*e;e=m*2*.2;var n=j*2*.2;a.width=m;a.height=j;switch(h){case"UP":case"DOWN":n=g;k=(m-e)/2;l=0;a.height=n;break;default:k=0;l=(j-n)/2;e=g;a.width=e;break}h=a.getContext("2d");h.clearRect(k,l,e,n);m="#"+f;j=d("VirtualGamepadAuxFunctions").hexToAlpha(m)*this.props.disabledAlpha;h.globalAlpha=j;h.drawImage(i,k,l,e,n);h.globalCompositeOperation="source-atop";h.fillStyle=m;h.fillRect(k,l,e,n);h.globalCompositeOperation="source-over";a.style.position="absolute";a.style.left=b-a.width/2+"px";a.style.top=c-a.height/2+"px"}};e.vibrateOnPress=function(a){a&&this.props.vibration>0&&c("UserAgent").isPlatform("Android")&&(d("VirtualGamepadAuxFunctions").checkInIframe()?i.send({type:d("CloudGamingConstants").CloudGamingMessageTypes.ACTIVE_VIBRATION}):window.navigator.vibrate(this.props.vibration))};e.render=function(){if(this.props.enable)if(this.props.stickImg!==void 0)return h.jsxs("div",{onMouseDown:this.$5,onMouseMove:this.$7,onMouseUp:this.$6,onSelectStart:this.$9,onTouchCancel:this.$4,onTouchEnd:this.$3,onTouchMove:this.$2,onTouchStart:this.$1,children:[h.jsx("canvas",{className:"x1i10hfl xpdipgo x1winvzj x1a2a7pz x10l6tqk x87ps6o x1vjfegm",ref:this.canvasRef}),h.jsx("canvas",{className:"x1i10hfl xpdipgo x1winvzj x1a2a7pz x10l6tqk x87ps6o x1vjfegm",ref:this.stickCanvasRef})]});else return h.jsx("canvas",{className:"x1i10hfl xpdipgo x1winvzj x1a2a7pz x10l6tqk x87ps6o x1vjfegm",onMouseDown:this.$5,onMouseMove:this.$7,onMouseUp:this.$6,onSelectStart:this.$9,onTouchCancel:this.$4,onTouchEnd:this.$3,onTouchMove:this.$2,onTouchStart:this.$1,ref:this.canvasRef});return null};return b}(h.PureComponent);g["default"]=a}),98);
__d("CloudGamingVirtualButton.react",["CloudGamingLogUtils","CloudGamingVirtualKeyboard.react","CloudGamingVirtualWidget.react","VirtualGamepadAuxFunctions","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.widgetRef=h.createRef();c.onTouchStart=function(a,b,e){e={isPointInside:!1,xAxis:0,yAxis:0};var f=c.widgetRef.current;if(f!=null){f=f.getIntersectionInfo(a,b);switch(c.props.shape){case"CIRCLE":a=f.w*.5;e.isPointInside=d("VirtualGamepadAuxFunctions").checkPointInsideCircle(f.x,f.y,a);break;case"RECTANGLE":e.isPointInside=d("VirtualGamepadAuxFunctions").checkPointInsideRectangle(f.x,f.y,f.w,f.h);break}}return e};c.checkOpenKeyboard=function(a){var b=c.props.eventInfo;for(var e=0;e<b.length;++e){var f=b[e];f.type===d("VirtualGamepadAuxFunctions").EventTypeSwitchKeyboard&&(d("CloudGamingVirtualKeyboard.react").showVirtualKeyboard(!0),a.preventDefault(),a.stopPropagation(),d("CloudGamingLogUtils").logEvent("SOFT_KEYBOARD_SHOWN",c.props.appID,c.props.cloudGameID,c.props.clientAppID,c.props.sessionID,new Map([["virtualGamepad_hidden_effect_timer","disabledTimeout"]])))}};return c}var e=b.prototype;e.isPressed=function(){return this.widgetRef.current?this.widgetRef.current.isPressed():!1};e.getEventInfo=function(){return this.props.eventInfo};e.render=function(){var a=this;return h.jsx(c("CloudGamingVirtualWidget.react"),{callback:function(b){a.props.callback(a)},color:this.props.color,colorPress:this.props.colorPress,disabledAlpha:this.props.disabledAlpha,enable:this.props.enable,img:this.props.img,isToggle:this.props.isToggle,onTouchEnd:this.checkOpenKeyboard,onTouchMove:d("VirtualGamepadAuxFunctions").onTouchMoveDefault,onTouchStart:this.onTouchStart,positionX:this.props.positionX,positionY:this.props.positionY,ref:this.widgetRef,scale:this.props.scale,timestamp:this.props.timestamp,toggleColor:this.props.toggleColor,toggleTime:this.props.toggleTime,vibration:this.props.vibration})};return b}(h.PureComponent);g["default"]=a}),98);
__d("CloudGamingVirtualGamepadBlockedArea",["VirtualGamepadAuxFunctions"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f,g){var h=this;this.$1=a;this.$2=b;this.$3=c;this.$4=e;this.$5=f;this.$6=g;this.onTouch=function(a,b){var c=h.$4*h.$3,e=h.$5*h.$3;return d("VirtualGamepadAuxFunctions").checkPointInsideRectangle(a-h.$1,b-h.$2,c,e)};this.getGameState=function(){return h.$6}};g["default"]=a}),98);
__d("CloudGamingVirtualJoystick.react",["CloudGamingVirtualWidget.react","VirtualGamepadAuxFunctions","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.widgetRef=h.createRef();c.onTouchStart=function(a,b,e){e=c.widgetRef.current;if(e!=null){e=e.getIntersectionInfo(a,b);var f=e.w*.5;if(d("VirtualGamepadAuxFunctions").checkPointInsideCircle(e.x,e.y,f))return c.onTouchMove(a,b)}return{isPointInside:!1,xAxis:0,yAxis:0}};c.onTouchMove=function(a,b){var d={isPointInside:!0,xAxis:0,yAxis:0},e=c.widgetRef.current;if(e!=null){e=e.getIntersectionInfo(a,b);a=e.w*.5;b=e.x;e=e.y;var f=b*b+e*e;a=a*c.props.actionRatio;var g=a*a;if(f>=g){g=Math.sqrt(f);d.xAxis=b/g;d.yAxis=e/g}else d.xAxis=b/a,d.yAxis=e/a;if(c.props.streamingRotation===90){f=d.xAxis;d.xAxis=d.yAxis;d.yAxis=-f}else if(c.props.streamingRotation===-90){g=d.xAxis;d.xAxis=d.yAxis;d.yAxis=g}}return d};return c}var e=b.prototype;e.getXAxis=function(){return this.widgetRef.current?this.widgetRef.current.getXAxis():0};e.getYAxis=function(){return this.widgetRef.current?this.widgetRef.current.getYAxis():0};e.getEventInfo=function(){return this.props.eventInfo};e.render=function(){var a=this;return h.jsx(c("CloudGamingVirtualWidget.react"),{actionRatio:this.props.actionRatio,callback:function(b){a.props.callback(a)},color:this.props.color,colorPress:this.props.colorPress,disabledAlpha:this.props.disabledAlpha,enable:this.props.enable,img:this.props.img,isToggle:!1,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,positionX:this.props.positionX,positionY:this.props.positionY,ref:this.widgetRef,scale:this.props.scale,stickImg:this.props.stickImg,timestamp:this.props.timestamp,toggleTime:.5,vibration:this.props.vibration})};return b}(h.PureComponent);g["default"]=a}),98);
__d("CloudGamingVirtualSlider.react",["CloudGamingVirtualWidget.react","VirtualGamepadAuxFunctions","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.widgetRef=h.createRef();c.positiveAxisValues=c.props.eventInfo.length===1;c.onTouchStart=function(a,b,e){e=c.widgetRef.current;if(e!=null){e=e.getIntersectionInfo(a,b);var f=c.getTouchWidth(),g=c.getTouchHeight();if(d("VirtualGamepadAuxFunctions").checkPointInsideRectangle(e.x,e.y,f,g))return c.onTouchMove(a,b)}return{isPointInside:!1,xAxis:0,yAxis:0}};c.getRealLength=function(){switch(c.props.orientation){case"UP":case"DOWN":var a=c.props.stickImg.height*c.props.scale;return c.props.sliderLength*a*2;default:a=c.props.stickImg.width*c.props.scale;return c.props.sliderLength*a*2}};c.onTouchMove=function(a,b){var d={isPointInside:!0,xAxis:0,yAxis:0},e=0,f=c.getRealLength()*.5;switch(c.props.orientation){case"UP":case"DOWN":e=b-c.props.positionY;Math.abs(e)>=f?d.yAxis=Math.sign(e):d.yAxis=e/f;break;default:e=a-c.props.positionX;Math.abs(e)>=f?d.xAxis=Math.sign(e):d.xAxis=e/f;break}return d};return c}var e=b.prototype;e.getTouchWidth=function(){switch(this.props.orientation){case"UP":case"DOWN":return this.props.stickImg.width*this.props.scale;default:return this.getRealLength()}};e.getTouchHeight=function(){switch(this.props.orientation){case"UP":case"DOWN":return this.getRealLength();default:return this.props.stickImg.height*this.props.scale}};e.getAxis=function(){var a=0;if(this.widgetRef.current)switch(this.props.orientation){case"UP":a=-this.widgetRef.current.getYAxis();break;case"DOWN":a=this.widgetRef.current.getYAxis();break;case"RIGHT":a=this.widgetRef.current.getXAxis();break;default:a=-this.widgetRef.current.getXAxis();break}this.positiveAxisValues&&(a=(a+1)*.5);return a};e.getRestXAxis=function(){var a=0;if(this.positiveAxisValues)switch(this.props.orientation){case"RIGHT":a=-1;break;case"LEFT":a=1;break}return a};e.getRestYAxis=function(){var a=0;if(this.positiveAxisValues)switch(this.props.orientation){case"UP":a=1;break;case"DOWN":a=-1;break}return a};e.getEventInfo=function(){return this.props.eventInfo};e.render=function(){var a=this,b=this.getRestXAxis(),d=this.getRestYAxis();return h.jsx(c("CloudGamingVirtualWidget.react"),{callback:function(b){a.props.callback(a)},color:this.props.color,colorPress:this.props.colorPress,disabledAlpha:this.props.disabledAlpha,enable:this.props.enable,img:this.props.img,isToggle:this.props.isToggle,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,orientation:this.props.orientation,positionX:this.props.positionX,positionY:this.props.positionY,ref:this.widgetRef,restXAxis:b,restYAxis:d,scale:this.props.scale,sliderLength:this.getRealLength(),stickImg:this.props.stickImg,timestamp:this.props.timestamp,toggleColor:this.props.toggleColor,toggleTime:this.props.toggleTime,vibration:this.props.vibration})};return b}(h.PureComponent);g["default"]=a}),98);
__d("CloudGamingVirtualGamepad.react",["CloudGamingLogUtils","CloudGamingVirtualButton.react","CloudGamingVirtualGamepadBlockedArea","CloudGamingVirtualJoystick.react","CloudGamingVirtualSlider.react","Event","VirtualGamepadAuxFunctions","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=.1,j=20,k=3e4,l=5e3,m=1,n=.15,o="none";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.state={disabledAlphaByTime:m,disabledInterval:null,disabledTimeout:c.onDisableByInactivity(k),enable:!0,gameState:o,height:c.props.height,numberOfPhysicalGamepads:0,streamingRotation:c.props.rotation,width:c.props.width,x:0,y:0};c.$11={config:c.props.gamepadConfig.gyroscopeConfig,orientation:[0,0,0]};c.joystickRefsArray=[];c.buttonsRefsArray=[];c.slidersRefsArray=[];c.blockedAreas=[];c.$12=null;c.$9=!1;window.DeviceOrientationEvent&&(c.$9=!0);c.props.virtualGamepadListener&&c.setListener(c.props.virtualGamepadListener);c.$1=function(a){c.$12&&c.$12.onButtonPressChangeEvent(a)};c.$2=function(a){c.$12&&c.$12.onJoystickChangeEvent(a)};c.$3=function(a){c.$12&&c.$12.onSliderChangeEvent(a)};c.$4=function(a){c.$12&&c.$12.onGyroscopeChangeEvent(a)};c.$8=function(a){var b=a.changedTouches;for(var d=0;d<b.length;++d){var e=a.changedTouches[d],f=e.clientX;e=e.clientY;for(var g=0;g<c.blockedAreas.length;++g){var h=c.blockedAreas[g];if(h.onTouch(f,e)){a.stopPropagation();break}}}};c.$6=function(a){c.state.disabledTimeout!=null&&(window.clearTimeout(c.state.disabledTimeout),d("CloudGamingLogUtils").logEvent("VIRTUAL_GAMEPAD_SHOW",c.props.appID,c.props.cloudGameID,c.props.clientAppID,c.props.sessionID,new Map([["virtualGamepad_hidden_effect_timer","disabledTimeout"]]))),c.state.disabledInterval!=null&&(window.clearInterval(c.state.disabledInterval),d("CloudGamingLogUtils").logEvent("VIRTUAL_GAMEPAD_SHOW",c.props.appID,c.props.cloudGameID,c.props.clientAppID,c.props.sessionID,new Map([["virtualGamepad_hidden_effect_timer","disabledInterval"]]))),c.setState({disabledAlphaByTime:m}),c.$8(a)};c.$7=function(a){c.$8(a)};c.$5=function(a){a!=null&&a.touches.length<=0&&(c.setState({disabledTimeout:c.onDisableByInactivity(l)}),c.$8(a))};c.$10=function(a){c.$11.config.enabled&&(c.$11.orientation[0]=a.beta,c.$11.orientation[1]=a.gamma,c.$11.orientation[2]=a.alpha,c.$12&&c.$12.onGyroscopeChangeEvent(c.$11))};c.getGyroscope=function(){return c.$11};c.onVideoResize=function(a,b,d,e,f){c.setState({height:e,streamingRotation:f,width:d,x:a,y:b})};c.$13=!1;return c}var e=b.prototype;e.componentDidMount=function(){this.$9&&(this.deviceOrientationListener=c("Event").listen(window,"deviceorientation",this.$10)),window.addEventListener("touchstart",this.$6),window.addEventListener("touchmove",this.$7),window.addEventListener("touchend",this.$5)};e.componentWillUnmount=function(){this.state.disabledTimeout!=null&&window.clearTimeout(this.state.disabledTimeout),this.state.disabledInterval!=null&&window.clearInterval(this.state.disabledInterval),window.removeEventListener("touchstart",this.$6),window.removeEventListener("touchmove",this.$7),window.removeEventListener("touchend",this.$5),this.deviceOrientationListener!=null&&this.deviceOrientationListener.remove()};e.getNumTotalWidgets=function(){var a=this.props.gamepadConfig;return a.joysticksConfig.length+a.buttonsConfig.length+a.slidersConfig.length};e.onDisableByInactivity=function(a){var b=this;d("CloudGamingLogUtils").logEvent("VIRTUAL_GAMEPAD_HIDE",this.props.appID,this.props.cloudGameID,this.props.clientAppID,this.props.sessionID,new Map([["virtualGamepad_hidden_effect_timer","setTimeout"]]));return window.setTimeout(function(){d("CloudGamingLogUtils").logEvent("VIRTUAL_GAMEPAD_HIDE",b.props.appID,b.props.cloudGameID,b.props.clientAppID,b.props.sessionID,new Map([["virtualGamepad_hidden_effect_timer","setInterval"]]));var a=window.setInterval(function(){var c=b.state.disabledAlphaByTime-i;c<=n&&(c=n);b.setState({disabledAlphaByTime:c,disabledInterval:a})},j)},a)};e.setEnable=function(a){this.setState({enable:a})};e.setListener=function(a){this.$12=a};e.getButtons=function(){return this.buttonsRefsArray};e.getJoysticks=function(){return this.joystickRefsArray};e.getSliders=function(){return this.slidersRefsArray};e.getScaleFactor=function(){var a=this.state.width,b=this.state.height;if(a>b){var c=1280,d=720;a/=c;b/=d}else{c=720;d=1280;a/=c;b/=d}return Math.min(a,b)};e.getVirtualJoystick=function(a,b,d,e,f,g){var i=this.getScaleFactor();return h.jsx(c("CloudGamingVirtualJoystick.react"),{actionRatio:a.joystickActionRatio,callback:this.$2,color:a.color,colorPress:a.colorPress,disabledAlpha:f,enable:a.enabled,eventInfo:a.eventInfo,img:a.img,positionX:b+a.posX*this.state.width,positionY:d+a.posY*this.state.height,ref:e,scale:a.scale*i,stickImg:a.thumbstickImg,streamingRotation:g,timestamp:Date.now(),vibration:a.vibration})};e.getVirtualButton=function(a,b,d,e,f){var g=this.getScaleFactor();return h.jsx(c("CloudGamingVirtualButton.react"),{appID:this.props.appID,callback:this.$1,clientAppID:this.props.clientAppID,cloudGameID:this.props.cloudGameID,color:a.color,colorPress:a.colorPress,disabledAlpha:f,enable:a.enabled,eventInfo:a.eventInfo,img:a.img,isToggle:a.isToggle,positionX:b+a.posX*this.state.width,positionY:d+a.posY*this.state.height,ref:e,scale:a.scale*g,sessionID:this.props.sessionID,shape:a.buttonShape,timestamp:Date.now(),toggleColor:a.toggleColor,toggleTime:a.toggleTime,vibration:a.vibration})};e.getVirtualSlider=function(a,b,d,e,f){var g=this.getScaleFactor();return h.jsx(c("CloudGamingVirtualSlider.react"),{callback:this.$3,color:a.color,colorPress:a.colorPress,disabledAlpha:f,enable:a.enabled,eventInfo:a.eventInfo,img:a.img,isToggle:a.isToggle,orientation:a.orientation,positionX:b+a.posX*this.state.width,positionY:d+a.posY*this.state.height,ref:e,scale:a.scale*g,sliderLength:a.sliderLength,stickImg:a.stickImg,timestamp:Date.now(),toggleColor:a.toggleColor,toggleTime:a.toggleTime,vibration:a.vibration})};e.checkValidGameState=function(a){a=a.split("_");for(var b=a.length-1;b>=0;--b){var c=a[b],d=this.props.gamepadConfig,e=d.joysticksConfig,f=d.buttonsConfig,g=d.slidersConfig;d=d.blockedAreasConfig;for(var h=0;h<e.length;++h){var i=e[h];if(i.gameState===c)return c}for(i=0;i<f.length;++i){h=f[i];if(h.gameState===c)return c}for(e=0;e<g.length;++e){h=g[e];if(h.gameState===c)return c}for(i=0;i<d.length;++i){f=d[i];if(f.gameState===c)return c}}return""};e.onGameStateChange=function(a){a=this.checkValidGameState(a);a!==""&&(a!==this.state.gameState||!this.$13)&&(this.setState({gameState:a}),this.$13=!0,this.forceUpdate(),d("CloudGamingLogUtils").logEvent("GAMEPAD_LAYOUT_CHANGE",this.props.appID,this.props.cloudGameID,this.props.clientAppID,this.props.sessionID,new Map([["newGameState",a]])))};e.onNumberOfGamepadChanges=function(a){this.setState({numberOfPhysicalGamepads:a}),this.forceUpdate()};e.render=function(){if(this.state.enable){var a=0,b=this.state.x,e=this.state.y,f=this.props.gamepadConfig,g=f.joysticksConfig,i=f.buttonsConfig,j=f.slidersConfig,k=f.blockedAreasConfig;this.$11.config=f.gyroscopeConfig;f=[];this.blockedAreas.length=0;var l=[];this.joystickRefsArray=[];this.buttonsRefsArray=[];this.slidersRefsArray=[];if(this.state.numberOfPhysicalGamepads===0)for(var m=0;m<g.length;++m){var n=g[m];n.gameState===this.state.gameState&&(this.joystickRefsArray.push(h.createRef()),f.push(this.getVirtualJoystick(n,b,e,this.joystickRefsArray[this.joystickRefsArray.length-1],this.state.disabledAlphaByTime,this.state.streamingRotation)),l.push(a));++a}for(n=0;n<i.length;++n){m=i[n];if(m.gameState===this.state.gameState){g=!0;if(this.state.numberOfPhysicalGamepads!==0){g=!1;var o=m.eventInfo;for(var p=0;p<o.length;++p){var q=o[p];if(q.type===d("VirtualGamepadAuxFunctions").EventTypeSwitchKeyboard){g=!0;break}}}g&&(this.buttonsRefsArray.push(h.createRef()),f.push(this.getVirtualButton(m,b,e,this.buttonsRefsArray[this.buttonsRefsArray.length-1],this.state.disabledAlphaByTime)),l.push(a))}++a}if(this.state.numberOfPhysicalGamepads===0)for(q=0;q<j.length;++q){o=j[q];o.gameState===this.state.gameState&&(this.slidersRefsArray.push(h.createRef()),f.push(this.getVirtualSlider(o,b,e,this.slidersRefsArray[this.slidersRefsArray.length-1],this.state.disabledAlphaByTime)),l.push(a));++a}for(p=0;p<k.length;++p){g=k[p];if(g.gameState===this.state.gameState){m=this.getScaleFactor();this.blockedAreas.push(new(c("CloudGamingVirtualGamepadBlockedArea"))(b+g.posX*this.state.width,e+g.posY*this.state.height,g.scale*m,g.blockedAreaWidth*this.state.width,g.blockedAreaHeight*this.state.height,g.gameState))}}n=[];for(i=0;i<f.length;++i)n.push(h.jsx("div",{children:f[i]},l[i]));return h.jsx("div",{className:"x10l6tqk x17qophe x13vifvy",children:n})}return null};return b}(h.PureComponent);g.defaultState=o;g.CloudGamingVirtualGamepad=a}),98);
__d("CloudGamingVirtualGamepadConfig.react",["CloudGamingLogUtils","CloudGamingVirtualGamepad.react","CloudGamingVirtualGamepadConfigQuery.graphql","RelayHooks","VirtualGamepadAuxFunctions","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useEffect,k=e.useState,l="/images/games/gredos/virtualGamepad/background/Joystick.png",m="/images/games/gredos/virtualGamepad/background/Slider.png",n=20,o=30,p=h!==void 0?h:h=b("CloudGamingVirtualGamepadConfigQuery.graphql"),q=i.createRef();function a(a){var b=k({blockedAreasConfig:[],buttonsConfig:[],gyroscopeConfig:{betaMaxAngle:n,enabled:!1,eventInfo:[],gammaMaxAngle:o,vibration:0},imageErrors:[],joysticksConfig:[],slidersConfig:[],vibration:0}),c=b[0],e=b[1];b=a.gameInfoQueryResult;b=d("RelayHooks").usePreloadedQuery(p,b);var f=b.viewer;j(function(){var b;b=f==null?void 0:(b=f.instant_game_info_with_support_check)==null?void 0:(b=b.application)==null?void 0:(b=b.instant_game_info)==null?void 0:b.gredos_virtual_gamepad;if(b){b=B(b,a);e(b)}},[f]);var g=a.connectionState;j(function(){(g==null?void 0:g.phase)!=="error"&&(g==null?void 0:g.phase)!=="connecting"&&(c.imageErrors.forEach(function(b){d("CloudGamingLogUtils").logEvent("VIRTUAL_GAMEPAD_IMAGE_ERROR",a.appID,a.cloudGameID,a.clientAppID,a.sessionID,new Map([["exception","error downloading image: "+b]]))}),c.imageErrors=[])},[g,c,a.appID,a.clientAppID,a.cloudGameID,a.sessionID]);b=((b=a.connectionState)==null?void 0:b.phase)==="error"||!1;return b?null:i.jsx(d("CloudGamingVirtualGamepad.react").CloudGamingVirtualGamepad,{appID:a.appID,clientAppID:a.clientAppID,cloudGameID:a.cloudGameID,gamepadConfig:c,height:a.height,ref:q,rotation:a.rotation,sessionID:a.sessionID,virtualGamepadListener:a.virtualGamepadListener,width:a.width})}a.displayName=a.name+" [from "+f.id+"]";function c(){return q?q.current:null}function r(a){switch(a){case"A":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.A;case"B":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.B;case"X":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.X;case"Y":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.Y;case"LB":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.LEFT_SHOULDER;case"RB":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.RIGHT_SHOULDER;case"DPAD_UP":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.DPAD_UP;case"DPAD_DOWN":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.DPAD_DOWN;case"DPAD_LEFT":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.DPAD_LEFT;case"DPAD_RIGHT":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.DPAD_RIGHT;case"SELECT":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.BACK;case"START":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.START;case"HOME":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.HOME;case"L3":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.LEFT_THUMB;case"R3":return d("VirtualGamepadAuxFunctions").XINPUT_GAMEPAD.RIGHT_THUMB}return 0}function s(a,b,c){var e=b.eventsInfo,f=0,g=[];for(var a=a,h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;switch(j){case"LT":var k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeTriggerLeft};e.push(k);break;case"RT":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeTriggerRight};e.push(k);break;case"LEFT":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeJoystickLeft};e.push(k);break;case"RIGHT":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeJoystickRight};e.push(k);break;case"LEFT_POSITIVE_X":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftPositiveXAxis};e.push(k);break;case"LEFT_NEGATIVE_X":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftNegativeXAxis};e.push(k);break;case"LEFT_POSITIVE_Y":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftPositiveYAxis};e.push(k);break;case"LEFT_NEGATIVE_Y":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftNegativeYAxis};e.push(k);break;case"RIGHT_POSITIVE_X":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeJoystickRightPositiveXAxis};e.push(k);break;case"RIGHT_NEGATIVE_X":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeJoystickRightNegativeXAxis};e.push(k);break;case"RIGHT_POSITIVE_Y":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeJoystickRightPositiveYAxis};e.push(k);break;case"RIGHT_NEGATIVE_Y":k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeJoystickRightNegativeYAxis};e.push(k);break;case"KEYBOARD":if(!c){k={keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeSwitchKeyboard};e.push(k)}break;default:g.push(j);k=r(j);b.firstKeycode===0&&(b.firstKeycode=k);f+=k;break}}if(f!==0){j={keycodeMask:f,keycodes:g,type:d("VirtualGamepadAuxFunctions").EventTypeButton};e.push(j)}}function t(a){switch(a){case"DOWN":return"DOWN";case"LEFT":return"LEFT";case"RIGHT":return"RIGHT";case"UP":return"UP";default:return"NONE"}}function u(a){switch(a){case"CIRCLE":return"CIRCLE";default:return"RECTANGLE"}}function v(a,b){var c;c={betaMaxAngle:n,blockedAreaHeight:0,blockedAreaWidth:0,color:(c=a.widget_color)!=null?c:"FFFFFFFF",enabled:(c=a.enabled)!=null?c:!1,eventsInfo:[],firstKeycode:0,gameState:(c=a.game_state)!=null?c:"",gammaMaxAngle:o,image:(c=a.widget_image_uri)!=null?c:"",isToggle:(c=a.is_toggle)!=null?c:!1,length:(c=a.length)!=null?c:0,orientation:"NONE",posX:(c=a.pos_x)!=null?c:0,posY:(c=a.pos_y)!=null?c:0,pressColor:(c=a.press_color)!=null?c:"FFFFFFFF",scale:(c=a.scale)!=null?c:1,shape:"CIRCLE",toggleColor:(c=a.toggle_color)!=null?c:"FFFFFFFF",toggleTime:(c=a.toggle_time)!=null?c:0,vibration:(c=a.widget_vibration)!=null?c:0};a.collision_shape!=null&&(c.shape=u(a.collision_shape));a.keycode!=null&&s(a.keycode,c,b);a.widget_orientation!=null&&(c.orientation=t(a.widget_orientation));a.widget_gyro_turn_limit!=null&&(c.betaMaxAngle=a.widget_gyro_turn_limit);a.widget_gyro_pitch_limit!=null&&(c.gammaMaxAngle=a.widget_gyro_pitch_limit);a.blocking_region_size_x!=null&&(c.blockedAreaWidth=a.blocking_region_size_x);a.blocking_region_size_y!=null&&(c.blockedAreaHeight=a.blocking_region_size_y);return c}function w(a,b,c){if(a.eventsInfo.length===0)return;var d=new Image();d.src=a.image;d.onerror=C(d.src,c,b);c={buttonShape:a.shape,color:a.color,colorPress:a.pressColor,enabled:a.enabled,eventInfo:a.eventsInfo,gameState:a.gameState,img:d,isToggle:a.isToggle,posX:a.posX,posY:a.posY,scale:a.scale,toggleColor:a.toggleColor,toggleTime:a.toggleTime,vibration:a.vibration};b.buttonsConfig.push(c)}function x(a,b,c,d){var e=new Image();e.src=l;e.onerror=C(e.src,d,b);var f=new Image();f.src=a.image;f.onerror=C(f.src,d,b);d={color:a.color,colorPress:a.pressColor,enabled:a.enabled,eventInfo:a.eventsInfo,gameState:a.gameState,img:e,joystickActionRatio:c,posX:a.posX,posY:a.posY,scale:a.scale,thumbstickImg:f,vibration:a.vibration};b.joysticksConfig.push(d)}function y(a,b,c){var d=new Image();d.src=m;d.onerror=C(d.src,c,b);var e=new Image();e.src=a.image;e.onerror=C(e.src,c,b);c={color:a.color,colorPress:a.pressColor,enabled:a.enabled,eventInfo:a.eventsInfo,gameState:a.gameState,img:d,isToggle:a.isToggle,orientation:a.orientation,posX:a.posX,posY:a.posY,scale:a.scale,sliderLength:a.length,stickImg:e,toggleColor:a.toggleColor,toggleTime:a.toggleTime,vibration:a.vibration};b.slidersConfig.push(c)}function z(a,b){a={blockedAreaHeight:a.blockedAreaHeight,blockedAreaWidth:a.blockedAreaWidth,enabled:a.enabled,gameState:a.gameState,posX:a.posX,posY:a.posY,scale:a.scale};b.blockedAreasConfig.push(a)}function A(a,b,c){b.gyroscopeConfig={betaMaxAngle:a.betaMaxAngle,enabled:!1,eventInfo:a.eventsInfo,gammaMaxAngle:a.gammaMaxAngle,vibration:a.vibration};var e=new Image();e.src=a.image;e.onerror=C(e.src,c,b);c={buttonShape:a.shape,color:a.color,colorPress:a.pressColor,enabled:a.enabled,eventInfo:[{keycodeMask:0,keycodes:[],type:d("VirtualGamepadAuxFunctions").EventTypeSwitchGyroscope}],gameState:a.gameState,img:e,isToggle:a.isToggle,posX:a.posX,posY:a.posY,scale:a.scale,toggleColor:a.toggleColor,toggleTime:a.toggleTime,vibration:a.vibration};b.buttonsConfig.push(c)}function B(a,b){var c={blockedAreasConfig:[],buttonsConfig:[],gyroscopeConfig:{betaMaxAngle:n,enabled:!1,eventInfo:[],gammaMaxAngle:o,vibration:0},imageErrors:[],joysticksConfig:[],slidersConfig:[],vibration:0};if(a)for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;if(g.widget_type!=null){var h=v(g,b.softKeyboardButtonAvailable);g=g.widget_type;switch(g){case"BUTTON":w(h,c,b);break;case"JOYSTICK":x(h,c,1,b);break;case"SLIDER":y(h,c,b);break;case"GYROSCOPE":A(h,c,b);break;case"BLOCKING_REGION":z(h,c);break;default:d("CloudGamingLogUtils").logEvent("VIRTUAL_GAMEPAD_CONFIG_ERROR",b.appID,b.cloudGameID,b.clientAppID,b.sessionID,new Map([["exception","wrong widget type"]]));break}}else d("CloudGamingLogUtils").logEvent("VIRTUAL_GAMEPAD_CONFIG_ERROR",b.appID,b.cloudGameID,b.clientAppID,b.sessionID,new Map([["exception","wrong widget type"]]))}return c}function C(a,b,c){var e;if(((e=b.connectionState)==null?void 0:e.phase)!=="error"){((e=b.connectionState)==null?void 0:e.phase)==="connecting"?c.imageErrors.push(a):d("CloudGamingLogUtils").logEvent("VIRTUAL_GAMEPAD_IMAGE_ERROR",b.appID,b.cloudGameID,b.clientAppID,b.sessionID,new Map([["exception","error downloading image: "+a]]))}}g.gameInfoQuery=p;g.CloudGamingVirtualGamepadConfig=a;g.getVirtualGamepad=c}),98);
__d("CloudGamingVirtualGamepadConfigManager.react",["CloudGamingVirtualGamepadConfig.react","CometPlaceholder.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.appID,e=a.clientAppID,f=a.cloudGameID,g=a.connectionState,j=a.height,k=a.rotation,l=a.sessionID,m=a.width,n=d("RelayHooks").useQueryLoader(d("CloudGamingVirtualGamepadConfig.react").gameInfoQuery),o=n[0],p=n[1];i(function(){var a={appID:b};p(a)},[b,p]);return o?h.jsx(c("CometPlaceholder.react"),{fallback:"",children:h.jsx(d("CloudGamingVirtualGamepadConfig.react").CloudGamingVirtualGamepadConfig,{appID:b,clientAppID:e,cloudGameID:f,connectionState:g,gameInfoQueryResult:o,height:j,rotation:k,sessionID:l,softKeyboardButtonAvailable:a.softKeyboardButtonAvailable,virtualGamepadListener:a.virtualGamepadListener,width:m})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingVirtualGamepadManager",["CloudGamingActionTypes","CloudGamingVirtualGamepadConfig.react","CloudGamingVirtualGamepadConfigManager.react","CometRelayEnvironmentProvider","EventTimeUtils","VirtualGamepadAuxFunctions","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,d,e,f,g,i,j,k,l){return h.jsx(c("CometRelayEnvironmentProvider"),{children:h.jsx(c("CloudGamingVirtualGamepadConfigManager.react"),{appID:a,clientAppID:b,cloudGameID:d,connectionState:e,height:k,rotation:l,sessionID:f,softKeyboardButtonAvailable:g,virtualGamepadListener:i,width:j})})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b,c,e,f){var g=d("CloudGamingVirtualGamepadConfig.react").getVirtualGamepad();g!==null&&g.onVideoResize(a,b,c,e,f)}function i(a){switch(a){case"START":return"Start";case"SELECT":return"Select";case"DPAD_UP":return"Up";case"DPAD_DOWN":return"Down";case"DPAD_RIGHT":return"Right";case"DPAD_LEFT":return"Left";default:return a}}e=function(a){var b=this;this.virtualGamepadListener={onButtonPressChangeEvent:function(a){if(a){var e=a.isPressed()?1:0,f=a.getEventInfo(),g={};if(f){for(var f=f,h=Array.isArray(f),j=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(j>=f.length)break;k=f[j++]}else{j=f.next();if(j.done)break;k=j.value}k=k;if(k)switch(k.type){case d("VirtualGamepadAuxFunctions").EventTypeButton:for(var k=k.keycodes,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}n=n;n=i(n);g[n]=e}break;case d("VirtualGamepadAuxFunctions").EventTypeTriggerLeft:g.L2=e;break;case d("VirtualGamepadAuxFunctions").EventTypeTriggerRight:g.R2=e;break;case d("VirtualGamepadAuxFunctions").EventTypeSwitchGyroscope:n=d("CloudGamingVirtualGamepadConfig.react").getVirtualGamepad();if(n){m=n.getGyroscope();m.config.enabled=a.isPressed()}break}}l={id:0,keys:g,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:c("CloudGamingActionTypes").VIRTUAL_GAMEPAD};b.$1({events:[{input:{gamepad:l}}],purpose:"input",type:"SEND_RTC"});b.$1(l)}}},onGyroscopeChangeEvent:function(a){var e=d("CloudGamingVirtualGamepadConfig.react").getVirtualGamepad();if(e&&a.config.enabled){e=a.orientation[0];var f=a.orientation[1];e=Math.min(1,Math.max(-1,e/a.config.betaMaxAngle));f=Math.min(1,Math.max(-1,f/a.config.gammaMaxAngle));a=a.config.eventInfo;if(a){var g={};for(var a=a,h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;if(j)switch(j.type){case d("VirtualGamepadAuxFunctions").EventTypeJoystickLeft:g.ThumbLX=e;g.ThumbLY=-f;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickRight:g.ThumbRX=e;g.ThumbRY=-f;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftPositiveXAxis:e>=0&&(g.ThumbLX=e);break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftNegativeXAxis:e<=0&&(g.ThumbLX=e);break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftPositiveYAxis:f>=0&&(g.ThumbLY=-f);break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftNegativeYAxis:f<=0&&(g.ThumbLY=-f);break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickRightPositiveXAxis:e>=0&&(g.ThumbRX=e);break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickRightNegativeXAxis:e<=0&&(g.ThumbRX=e);break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickRightPositiveYAxis:f>=0&&(g.ThumbRY=-f);break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickRightNegativeYAxis:f<=0&&(g.ThumbRY=-f);break}}j={id:0,keys:g,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:c("CloudGamingActionTypes").VIRTUAL_GAMEPAD};b.$1({events:[{input:{gamepad:j}}],purpose:"input",type:"SEND_RTC"});b.$1(j)}}},onJoystickChangeEvent:function(a){if(a){var e=a.getXAxis(),f=a.getYAxis();a=a.getEventInfo();var g={};if(a){for(var a=a,h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;if(j)switch(j.type){case d("VirtualGamepadAuxFunctions").EventTypeJoystickLeft:g.ThumbLX=e;g.ThumbLY=f;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickRight:g.ThumbRX=e;g.ThumbRY=f;break}}j={id:0,keys:g,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:c("CloudGamingActionTypes").VIRTUAL_GAMEPAD};b.$1({events:[{input:{gamepad:j}}],purpose:"input",type:"SEND_RTC"});b.$1(j)}}},onSliderChangeEvent:function(a){if(a){var e=a.getEventInfo();if(e){var f={},g=Math.min(e.length,2);a=a.getAxis();var h=0,j=1;for(var k=0;k<g;++k)if(k===h&&a>0||k===j&&a<0){var l=e[k];if(l){var m=a;switch(l.type){case d("VirtualGamepadAuxFunctions").EventTypeButton:k===j&&(m=-m);m=m>.5?1:0;for(var l=l.keycodes,n=Array.isArray(l),o=0,l=n?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=l.length)break;p=l[o++]}else{o=l.next();if(o.done)break;p=o.value}p=p;p=i(p);f[p]=m}break;case d("VirtualGamepadAuxFunctions").EventTypeTriggerLeft:k===j&&(m=-m);f.L2=m;break;case d("VirtualGamepadAuxFunctions").EventTypeTriggerRight:k===j&&(m=-m);f.R2=m;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftPositiveXAxis:k===j&&(m=-m);f.ThumbLX=m;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftNegativeXAxis:k===h&&(m=-m);f.ThumbLX=m;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftPositiveYAxis:k===h&&(m=-m);f.ThumbLY=m;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickLeftNegativeYAxis:k===j&&(m=-m);f.ThumbLY=m;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickRightPositiveXAxis:k===j&&(m=-m);f.ThumbRX=m;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickRightNegativeXAxis:k===h&&(m=-m);f.ThumbRX=m;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickRightPositiveYAxis:k===h&&(m=-m);f.ThumbRY=m;break;case d("VirtualGamepadAuxFunctions").EventTypeJoystickRightNegativeYAxis:k===j&&(m=-m);f.ThumbRY=m;break}}}p={id:0,keys:f,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:c("CloudGamingActionTypes").VIRTUAL_GAMEPAD};b.$1({events:[{input:{gamepad:p}}],purpose:"input",type:"SEND_RTC"});b.$1(p)}}}};this.$1=a};g.getGamepadNode=a;g.onVirtualGamepadResize=b;g.CloudGamingVirtualGamepadManager=e}),98);
__d("CloudHorizonClientFbts",["fbt","CometLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a={CAPACITY_ERROR_DESCRIPTION_TEXT:h._("__JHASH__U2uxd17o-uL__JHASH__"),CAPACITY_ERROR_TEXT:h._("__JHASH__hLHKcIBBcXX__JHASH__"),CLOSE_TEXT:h._("__JHASH__kFjMdU6FQFu__JHASH__"),CONNECTION_ERROR_DESCRIPTION_TEXT:h._("__JHASH__xkSAKdHI4xg__JHASH__"),CONNECTION_ERROR_TEXT:h._("__JHASH__hzE_p8D1atk__JHASH__"),CONNECTION_TIMEOUT_DESCRIPTION_TEXT:h._("__JHASH__XaNCBrKVnuE__JHASH__"),CONNECTION_TIMEOUT_TEXT:h._("__JHASH__g0Y4AWghZxf__JHASH__"),CONNECTION_TIMEOUT_WARNING_TEXT:h._("__JHASH__nyYkF4loqVF__JHASH__"),COPY_GAME_LINK_TEXT:h._("__JHASH__-Te-sT1uItF__JHASH__"),DONT_SHOW_AGAIN_TEXT:h._("__JHASH__S8MK3omZmfG__JHASH__"),GAME_COULD_NOT_BE_LOADED_TEXT:h._("__JHASH__qZuPH2dFUTg__JHASH__"),GAME_NODE_IN_USE_DESCRIPTION_TEXT:h._("__JHASH__R_9KZ1xKIUA__JHASH__"),GAME_NODE_IN_USE_TEXT:h._("__JHASH__zydaGYJG2io__JHASH__"),GAME_NODE_TERMINATING_TEXT:h._("__JHASH__fbGa-EN1_Hd__JHASH__"),H264_ERROR_DESCRIPTION_TEXT:h._("__JHASH__2I1FOm77MRF__JHASH__"),H264_ERROR_TEXT:h._("__JHASH__zC1maqHwC1k__JHASH__"),LEARN_MORE_TEXT:h._("__JHASH__IR-wps4JQzL__JHASH__"),NETWORK_NOTIFICATION_TEXT:h._("__JHASH__YkbjNV-64l9__JHASH__"),NETWORK_QUALITY_TIP_0_TEXT:h._("__JHASH__oJM7lb3cBga__JHASH__"),NETWORK_QUALITY_TIP_1_TEXT:h._("__JHASH__ZdTxkuDjrGl__JHASH__"),NETWORK_QUALITY_TIP_2_TEXT:h._("__JHASH__phRdlAZGHnj__JHASH__"),NETWORK_QUALITY_TIP_3_TEXT:h._("__JHASH__oozcETAnftH__JHASH__"),NETWORK_QUALITY_TIP_4_TEXT:h._("__JHASH__dho6Stnt399__JHASH__"),NETWORK_QUALITY_TITLE_TEXT:h._("__JHASH__TR0fuuGJHgK__JHASH__"),PLAY_AGAIN_TEXT:h._("__JHASH__5V2CrqBEy1S__JHASH__"),PLAY_IN_FULL_SCREEN:h._("__JHASH__jaLvtOytgXM__JHASH__"),PLAY_IN_FULL_SCREEN_EXIT:h._("__JHASH__mjUY1CSP4JF__JHASH__"),PLAY_IN_FULL_SCREEN_INSTRUCTIONS:h._("__JHASH__fmBvqgwfqiE__JHASH__"),PLEASE_UPGRADE_ANDROID_WEBVIEW_VS:h._("__JHASH__A0cw40Tux92__JHASH__"),PLEASE_UPGRADE_FACEBOOK_FOR_ANDROID:h._("__JHASH__qlvYUll_4Ao__JHASH__"),PLEASE_UPGRADE_MOBILE_OS_VS:h._("__JHASH__9-wWBJlZ1G5__JHASH__"),REGION_UNAVAILABLE_TEXT:h._("__JHASH__FaTH0icM6_F__JHASH__"),RETRY_TEXT:h._("__JHASH__LOv0HFIh8Ek__JHASH__"),RETURN_GAMING_TEXT:h._("__JHASH__UJkgudKKYRz__JHASH__"),SAVE_ERROR_TEXT:h._("__JHASH__ibZsbS04a4T__JHASH__"),TOUCH_SCREEN_TO_OPEN_KEYBOARD_TEXT:h._("__JHASH__nwkf8Szpdq3__JHASH__"),TRY_AGAIN_TEXT:h._("__JHASH__AR8snkcGAK___JHASH__"),UNABLE_CONNECT_SERVER_TEXT:h._("__JHASH__hjUB368jaOv__JHASH__"),UNSUPPORTED_BROWSER_HEADER:h._("__JHASH__z1JlRYBDHql__JHASH__"),UNSUPPORTED_DEVICE_HEADER:h._("__JHASH__vubhPhpX9qA__JHASH__"),UNSUPPORTED_GAME_TEXT:h._("__JHASH__mUkdpJ6-US1__JHASH__"),UNSUPPORTED_OS_HEADER:h._("__JHASH__ezNb6dgQ6bh__JHASH__"),UPDATE_BROWSER_HEADER:h._("__JHASH__bJ1GJzKHw_e__JHASH__"),UPDATE_FB4A_TEXT:h._("__JHASH__9JksgCxPss6__JHASH__"),WARNING_EXIT_TEXT:h._("__JHASH__q2WESnH-l7d__JHASH__"),getClipboardDisabledMessage:function(a){return null},getClipboardEnabledMessage:function(a){return null},getRefreshToRestartGameMessage:function(a){return h._("__JHASH__XWlM4KmA3Zr__JHASH__")},getServerRestartMessage:function(a){if(a>60){var b=Math.round(a/60);return h._("__JHASH__68NLQZyfyo2__JHASH__",[h._plural(b,"number")])}else if(a>0)return h._("__JHASH__Gf8CHtd7JcO__JHASH__",[h._plural(a,"number")]);else return h._("__JHASH__POtjbnG22mX__JHASH__")},getUnsupportedBrowserMessage:function(a){return h._("__JHASH__BzZihJvl4iY__JHASH__")},getUnsupportedDeviceMessage:function(a){return h._("__JHASH__MGA76BqMe0x__JHASH__",[h._param("a link to a public documents about supported devices for Horizon Worlds",i.jsx(c("CometLink.react"),{color:"highlight",href:"https://store.facebook.com/help/1370468980146239",target:"_blank",children:h._("__JHASH__RAgS4g_dE-t__JHASH__")}))])},getUnsupportedOSMessage:function(a){return h._("__JHASH__Is1ksKmPL-A__JHASH__")},getUpdateBrowserMessage:function(a){return h._("__JHASH__UO6mWsdvRIr__JHASH__")},getUseChromeDesktopMessage:function(a){return h._("__JHASH__K4RTkTrvZBS__JHASH__")},getUseFacebookOnAndroidMessage:function(a){return h._("__JHASH__viJliwGHq59__JHASH__")},getUseMobileSafariMessage:function(a){return h._("__JHASH__L7aLL_MovIy__JHASH__")}};g.CloudHorizonClientFbts=a}),98);
__d("CloudGamingWarningAlert.react",["CloudGamingClientFbts","CloudHorizonClientFbts","CometLink.react","TetraText.react","clearInterval","react","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState,k={general:{backgroundColor:"xrmyhay",borderTop:"x19lhggo",borderEnd:"x144nipd",borderBottom:"x1hqtkzk",borderStart:"xlg2ruo",borderTopColor:"xjqpnuy",borderEndColor:"xa49m3k",borderBottomColor:"xqeqjp1",borderStartColor:"x2hbi6w",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",display:"x78zum5",flexDirection:"x1q0g3np",marginTop:"xr9ek0c",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x12mruv9",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},link:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xr9ek0c",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x12mruv9",pointerEvents:"x67bb7w",textAlign:"x2b8uid",verticalAlign:"xxymvpz",width:"x8yj6t5",$$css:!0},linkColor:{color:"xsve9r9",$$css:!0},space:{height:"xlxyqfn",$$css:!0},text:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xr9ek0c",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x12mruv9",textAlign:"x1yc453h",verticalAlign:"xxymvpz",width:"xh8yej3",$$css:!0}},l=50;function a(a){var b=a.appName,e=a.clientAppID,f=a.config,g=a.deactivating;a=a.params;var m=j(null),n=m[0],o=m[1];m=j(1);var p=m[0],q=m[1],r=l/(f.fade_time_sec*1e3);i(function(){return function(){n!=null&&c("clearInterval")(n)}},[n]);m=function(a,c){var f=e===String(351299233827255)?d("CloudHorizonClientFbts").CloudHorizonClientFbts:d("CloudGamingClientFbts").CloudGamingClientFbts;switch(a){case"SERVER_RESTART_TEXT":return f.getServerRestartMessage(c);case"CLIPBOARD_ENABLED_TEXT":return f.getClipboardEnabledMessage((c=b)!=null?c:"");case"CLIPBOARD_DISABLED_TEXT":return f.getClipboardDisabledMessage((c=b)!=null?c:"");default:return f[a]}};if(!g&&n!=null)c("clearInterval")(n),o(null),q(1);else if(g&&n==null){g=c("setInterval")(function(){q(function(a){a=a-r;a<=r&&(c("clearInterval")(n),o(null));return a})},l);o(g)}g=m(f.fbt_id,a.value);return g!=null?h.jsxs("div",{className:"xrmyhay x19lhggo x144nipd x1hqtkzk xlg2ruo xjqpnuy xa49m3k xqeqjp1 x2hbi6w x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x78zum5 x1q0g3np xr9ek0c xfs2ol5 xjpr12u x12mruv9 x889kno x1iji9kk x1a8lsjc x1sln4lm",style:{opacity:p},children:[h.jsxs("div",{className:"x78zum5 xdt5ytf xr9ek0c xfs2ol5 xjpr12u x12mruv9 x1yc453h xxymvpz xh8yej3",children:[h.jsx("div",{className:"xlxyqfn"}),h.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"body4",children:g}),h.jsx("div",{className:"xlxyqfn"})]}),a.buttonText!=null&&a.buttonCallback!=null&&h.jsxs("div",{className:"x78zum5 xdt5ytf xr9ek0c xfs2ol5 xjpr12u x12mruv9 x67bb7w x2b8uid xxymvpz x8yj6t5",children:[h.jsx("div",{className:"xlxyqfn"}),h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx(c("CometLink.react"),{color:"highlight",onClick:a.buttonCallback,xstyle:k.linkColor,children:a.buttonText})}),h.jsx("div",{className:"xlxyqfn"})]})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingWarningAlertManager.react",["CloudGamingContext.react","CloudGamingLogUtils","CloudGamingPlayerUtils","CloudGamingWarningAlert.react","CloudGamingWarningConfigConfig","clearTimeout","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o={compositeLayer:{height:"x5yr21d",opacity:"x1hc1fzr",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"x1u8a7rm",$$css:!0},landscapeList:{alignItems:"x6s0dn4",display:"x78zum5",end:"x5sm72w",flexDirection:"x3ieub6",height:"x1p1iix",marginTop:"xr9ek0c",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x12mruv9",paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",position:"x10l6tqk",start:"xzyc9ct",top:"x13vifvy",width:"x3hqpx7",$$css:!0},landscapeRotatedList:{display:"x78zum5",end:"xds687c",flexDirection:"x3ieub6",height:"xuv0xuj",marginTop:"xr9ek0c",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x12mruv9",paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},portraitList:{bottom:"x1t8ds6e",display:"x78zum5",end:"x12i3lgd",flexDirection:"x3ieub6",height:"x1io82uz",marginTop:"xr9ek0c",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x12mruv9",paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",position:"x10l6tqk",start:"xfw2dl1",width:"xktia5q",$$css:!0},portraitRotatedList:{display:"x78zum5",end:"x1wl4ed",flexDirection:"x3ieub6",height:"xlf90xa",marginTop:"xr9ek0c",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x12mruv9",paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",position:"x10l6tqk",start:"x1gtc0s2",top:"x13vifvy",$$css:!0}};function a(a){var b=a.appID,e=a.appName,f=a.clientAppID,g=a.cloudGameID,p=a.gameOrientation,q=a.genNetworkQualityDialog,r=a.isInsideIframe,s=a.isMobileBrowser,t=a.sessionID;a=j(d("CloudGamingContext.react").CloudGamingWarningAlertStateContext);var u=a.browserOrientation,v=a.warningDialogs,w=a.warnings;a=n(new Map());var x=a[0],y=a[1],z=m(new Map()),A=m(new Map());a=i(function(){var a=new Map();c("CloudGamingWarningConfigConfig").warnings!=null&&c("CloudGamingWarningConfigConfig").warnings.forEach(function(b){a.set(b.warning_name,b)});return a},[]);var B=m(a()),C=i(function(a,c){d("CloudGamingLogUtils").logEvent(a,b,g,f,t,new Map([["name",c]]))},[b,f,g,t]),D=i(function(a){var b=x==null?void 0:x.get(a.warning_name);if(b==null||b!=null&&b.deactivating===!0){if(b!=null){b=b.deactivatingTimer;b!=null&&c("clearTimeout")(b)}y(function(b){b=new Map(b);b.set(a.warning_name,{deactivating:!1,deactivatingTimer:null});return b});C("WARNING_ALERT_SHOW",a.warning_name)}},[x,C]),E=i(function(a){y(function(b){b=new Map(b);var d=b.get(a.warning_name);if(d!=null&&d.deactivating===!1){d=d.deactivatingTimer;d!=null&&c("clearTimeout")(d);d=c("setTimeout")(function(){y(function(b){b=new Map(b);b["delete"](a.warning_name);z.current["delete"](a.warning_name);C("WARNING_ALERT_HIDE",a.warning_name);return b})},a.fade_time_sec*1e3);b.set(a.warning_name,{deactivating:!0,deactivatingTimer:d})}return b})},[C]),F=i(function(a){var b=z.current.get(a.warning_name);if(b!=null)return;D(a);b=c("setTimeout")(function(){E(a)},a.close_after_sec*1e3);z.current.set(a.warning_name,b)},[D,E]),G=i(function(a,b){var d=z.current.get(a.warning_name);d!=null&&c("clearTimeout")(d);D(a);d=c("setTimeout")(function(){b>0&&E(a)},a.close_after_sec*1e3);z.current.set(a.warning_name,d)},[D,E]);k(function(){w.forEach(function(a,b){b=B.current.get(b);if(b!=null){A.current.set(b.warning_name,a);switch(b.warning_type){case"metric":F(b);break;case"notification":G(b,a.value);break}}})},[w,G,F]);k(function(){var a=z.current;return function(){a.forEach(function(a){c("clearTimeout")(a)})}},[]);var H=[];x.forEach(function(a,b){var d=B.current.get(b),g=A.current.get(b);d!=null&&g!=null&&H.push(h.jsx("div",{children:h.jsx(c("CloudGamingWarningAlert.react"),{appName:e,clientAppID:f,config:d,deactivating:a.deactivating,params:g})},b))});a=l(function(){var a=d("CloudGamingPlayerUtils").playerSize(),b=a[0];a=a[1];var c=f===String(256281040558)||f===String(2220391788200892);c=c&&(p==null?void 0:p.toLowerCase())==="landscape"||!c&&b>a?o.landscapeList:o.portraitList;b=null;if(s){a=((a=p)!=null?a:"").toLowerCase();u===1&&a==="portrait"&&(b="rotate(-90deg)",c=o.portraitRotatedList);u===0&&a==="landscape"&&(b="rotate(90deg)",c=o.landscapeRotatedList)}return{style:c,transform:b}},[u,f,p,s]);return h.jsxs("div",{className:"x5yr21d x1hc1fzr x47corl x10l6tqk x17qophe x13vifvy xh8yej3 x1u8a7rm",style:{height:r?"100vh":"100%",transform:a.transform,width:r?"100vw":"100%"},children:[h.jsx("div",{className:c("stylex")(a.style),children:H}),v.has("NETWORK_QUALITY")&&q((r=v.get("NETWORK_QUALITY"))==null?void 0:r.closeCallback)]})}a.displayName=a.name+" [from "+f.id+"]";e=h.memo(a);g["default"]=e}),98);
__d("useCloudLoggers",["CloudGamingEventsFalcoEvent","CloudGamingLoadingEventRecorder","CloudGamingSessionEventFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a,b,d,e,f,g,j,k){k===void 0&&(k={});k.native_player="false";var l=i(k);k=h(function(h,i,k){i===void 0&&(i="lo-pri");k===void 0&&(k={});j!=null&&(k.cloudBinaryID=j.toString());var m=Date.now();c("CloudGamingLoadingEventRecorder").alreadyRecorded(h)?m=c("CloudGamingLoadingEventRecorder").getEventTimestamp(h):c("CloudGamingLoadingEventRecorder").recordEvent(h,m);for(var n=c("CloudGamingLoadingEventRecorder").getEventLatency(h).entries(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}q=q;var r=q[0];q=q[1];k[r]=q}r=i==="hi-pri"?c("CloudGamingEventsFalcoEvent").logImmediately:c("CloudGamingEventsFalcoEvent").log;r(function(){return{app_id:a,client_app_id:d,client_app_version:e,cloud_game_id_override:b,entry_point:g,event:h,event_occur_time_ms:m.toString(),extra_data:babelHelpers["extends"]({},l.current,k),session_id:f,source:"JS"}})},[a,d,e,j,b,g,f]);var m=h(function(e,h,i){h===void 0&&(h="lo-pri");i===void 0&&(i={});var k=Date.now();i.event_occur_time_ms=k.toString();k=h==="hi-pri"?c("CloudGamingSessionEventFalcoEvent").logImmediately:c("CloudGamingSessionEventFalcoEvent").log;k(function(){return{app_id:a,binary_id:j,client_app_id:d,cloud_game_id_override:b,entry_point:g,event:e,extra_data:babelHelpers["extends"]({},l.current,i),session_id:f,source:"JS"}})},[a,d,j,b,g,f]);return{logCGEvent:k,logCGSessionEvent:m}}g["default"]=a}),98);
__d("CloudGamingContent.react",["CloudGamingAllowServerDebugEngWarning.react","CloudGamingApertureContainer.react","CloudGamingApertureUtils","CloudGamingErrorManagement","CloudGamingFullScreenMode.react","CloudGamingLockedMouseProcessor","CloudGamingMultiTouchOverlay.react","CloudGamingPlayerUtils","CloudGamingStreamLoading.react","CloudGamingVideoStream.react","CloudGamingVirtualGamepadManager","CloudGamingVirtualKeyboard.react","CloudGamingWarningAlertManager.react","CometLoadingAnimation.react","EventTimeUtils","Visibility","gkx","react","useCloudLoggers","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,aa=b.useMemo,k=b.useRef,ba=b.useState;function a(a){var b=a.appID,e=a.appName,f=a.clientAppID,g=a.clientAppVersion,l=a.cloudBinaryID,m=a.cloudGameID,n=a.connectionState,o=a.enableCGFullyLockedMouse,ca=a.enableCGLockedMouse,p=a.enableCGMultiTouchOverlay,da=a.enableCGWarningAlerts,q=a.entryPoint,ea=a.eventBus,r=a.gameLifecycleState,s=a.gameOrientation,t=a.genCloudErrorMessage,fa=a.genNetworkQualityDialog,ga=a.graphqlGKResults,u=a.height,v=a.initialResolutionHeight,w=a.initialResolutionWidth,x=a.isCometOnMobile,y=a.isInsideIframe,z=a.onConnect,ha=a.onContainerResize,A=a.onContainerRotation,B=a.onPause,C=a.onResume,ia=a.overrideLoadingState,D=a.provider,E=a.reactivateGame,ja=a.sendGredosCustomMouseEvent,ka=a.sendGredosCustomTouchEvent,la=a.sendMouseInputWhenScreenIsLocked,ma=a.sendMultiTouchKeyDown,na=a.sendMultiTouchKeyUp,oa=a.sendMultiTouchMouseDown,pa=a.sendMultiTouchMouseMove,qa=a.sendMultiTouchMouseUp,ra=a.sendRelativeMoveInputWhenScreenIsLocked,F=a.sessionID,G=a.showBackground,sa=a.showMultiTouchOverlay,ta=a.showSpinner,ua=a.useResourceSize,va=a.viewportHeight,wa=a.viewportWidth,xa=a.virtualGamepadListener,ya=a.virtualKeyboardListener,H=a.width,I=x||f===String(412378670482);a=d("CloudGamingPlayerUtils").playerSize();var J=a[0],K=a[1];a=ba(I&&J>K?-90:0);var L=a[0],za=a[1],M=c("useStable")(function(){return I&&J>K?1:0}),N=r!=="Inactivated"&&r!=="Timeout",O=r==="NotReady";a=c("useCloudLoggers")(b,m,f,g,F,q,l,{height:u.toString(),width:H.toString()});var P=a.logCGEvent,Q=a.logCGSessionEvent;g=function(){Q("VIDEO_START_PLAY")};q=function(){Q("VIDEO_STREAM_READY")};l=function(){Q("VIDEO_PLAY_ERROR")};var R=k(!1);j(function(){if(R.current===!0)return;R.current=!0;P("CLIENT_GAME_START_WEBRTC");z()},[P,z]);var S=k(0);j(function(){var a=null;D==="GREDOS"&&(a=window.setInterval(function(){n.phase==="connecting"&&S.current<300?(Q("HEARTBEAT","hi-pri",{heartbeatCounter:S.current.toString()}),S.current+=1):window.clearInterval(a)},1e3));return function(){return window.clearInterval(a)}},[n,Q,D]);var T=k(!1);j(function(){if(!y||T.current===!0)return;T.current=!0;document.body&&(document.body.style.userSelect="none",document.body.style.outline="none",document.body.style.touchAction="none",document.body.style.backgroundColor="black",G||(document.body.style.background="none"))},[y,G]);j(function(){if(I){var a=function(){var a=d("CloudGamingPlayerUtils").playerSize(),b=a[0];a=a[1];var c=b>a?-90:0;za(c);var e=c===-90;c=M===0&&c===-90||M===1&&c===0;var f=e?v:w;e=e?w:v;A({contentSize:{height:a,width:c?Math.round(f/e*a):b},displaySize:{height:e,width:f},type:"CHANGE_RESOURCE_DIMENSIONS"})};a();window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}}},[M,v,w,I,A]);var U=k(!1),V=i(function(){if(!U.current){U.current=!0;var a=d("EventTimeUtils").tryGetTimestampInMicroSecond();B({changeTime:a})}},[B]),W=i(function(){if(U.current){U.current=!1;var a=d("EventTimeUtils").tryGetTimestampInMicroSecond();C({changeTime:a})}},[C]);a=aa(function(){return d("CloudGamingErrorManagement").passClientCheckForHorizon(b)},[b]);j(function(){var a,b;D==="GREDOS"?(window.addEventListener("blur",V),window.addEventListener("focus",W)):(a=c("Visibility").addListener(c("Visibility").HIDDEN,B),b=c("Visibility").addListener(c("Visibility").VISIBLE,C));return function(){D==="GREDOS"?(window.removeEventListener("blur",V),window.removeEventListener("focus",W)):(c("Visibility").removeListener(a),c("Visibility").removeListener(b))}},[D,V,W,B,C]);var X=k(null);j(function(){var a=X.current;if((ca||o)&&a!=null&&N){d("CloudGamingLockedMouseProcessor").setupLockedMouseProcessor(H,u,a,o,la,ra);return function(){return d("CloudGamingLockedMouseProcessor").removeLockedMouseListeners()}}});var Aa=function(){return ta?O?h.jsx("div",{className:"x1i10hfl xpdipgo x1winvzj x1a2a7pz xixxii4 xtzzx4i xwa60dl x87ps6o",children:h.jsx(c("CometLoadingAnimation.react"),{size:36})}):null:h.jsx(c("CloudGamingStreamLoading.react"),{inPossibleLoadingState:n.phase==="connecting"||n.phase==="live",isGameNotReady:O,isInsideIframe:y,message:n.phase==="connecting"?n.message:null,pending:n.phase==="connecting"?n.pending:[]})};if(n.phase==="error"){d("CloudGamingApertureUtils").isMobileApp(f)||window.parent.postMessage("HideSplashScreen","/");return t(n,r,E)}var Y=null,Ba=null;if(D==="GREDOS"&&d("CloudGamingPlayerUtils").isTouchDevice(x,f)){x=!1;d("CloudGamingApertureUtils").isMobileApp(f)&&(x=c("gkx")("7"));var Z=L;if(I){var $=s==null?void 0:s.toLowerCase();$==="landscape"?L===0&&(Z=90):L!==0&&(Z=-90)}Y=d("CloudGamingVirtualGamepadManager").getGamepadNode(($=b)!=null?$:"",($=f)!=null?$:"",m,n,F,x,xa,wa,va,Z);Ba=h.jsx(d("CloudGamingVirtualKeyboard.react").CloudGamingVirtualKeyboard,{listener:ya})}return h.jsxs(h.Fragment,{children:[h.jsx(c("CloudGamingAllowServerDebugEngWarning.react"),{}),h.jsx(c("CloudGamingApertureContainer.react"),{appID:($=b)!=null?$:"",cloudGameID:m,connectionState:n,gameLifecycleState:r,gameOrientation:s,gameRotationDegree:L,graphqlGKResults:ga,isInsideIframe:y,isMobileApp:d("CloudGamingApertureUtils").isMobileApp(f),isMobileBrowser:I,onContainerResize:ha,provider:D,ref:X,useResourceSize:ua,videoHeight:u,videoWidth:H,children:h.jsxs(h.Fragment,{children:[a?Aa():t(n,r,E),N&&a?h.jsxs(h.Fragment,{children:[h.jsx(d("CloudGamingFullScreenMode.react").CloudGamingFullScreenMode,{clientAppID:f,cloudGameID:m,isGameNotReady:O,isMobileApp:d("CloudGamingApertureUtils").isMobileApp(f),isMobileBrowser:I,provider:D}),sa?h.jsx(c("CloudGamingMultiTouchOverlay.react"),{}):null,h.jsx(c("CloudGamingVideoStream.react"),{appID:b,eventBus:ea,forceVideoHidden:O||((x=ia)!=null?x:!1),interactive:!0,manageKeyModifiers:D!=="GREDOS",onError:l,onPlay:g,onReady:q,provider:D,sendCustomMouseEvent:D==="GREDOS"?ja:null,sendCustomTouchEvent:D==="GREDOS"?ka:null,sendMultiTouchKeyDown:p?ma:null,sendMultiTouchKeyUp:p?na:null,sendMultiTouchMouseDown:p?oa:null,sendMultiTouchMouseMove:p?pa:null,sendMultiTouchMouseUp:p?qa:null}),Ba,Y]}):t(n,r,E)]})}),da?h.jsx(c("CloudGamingWarningAlertManager.react"),{appID:b,appName:e,clientAppID:f,cloudGameID:m,gameOrientation:s,genNetworkQualityDialog:fa,isInsideIframe:y,isMobileBrowser:I,sessionID:F}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingKeyboardLayoutAction",["CloudGamingActionTypes","EventTimeUtils","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h="keyboard_layout";a=function(a){return{locale:a,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:c("CloudGamingActionTypes").KEYBOARD_LAYOUT}};b=function(a){return function(b){b({events:[{input:{keyboardLayout:a}}],purpose:"input",type:"SEND_RTC"});b(a);b=c("WebStorage").getLocalStorage();b!=null&&b.setItem(h,a.locale)}};g.KEYBOARD_LAYOUT_STORAGE_KEY=h;g.createKeyboardLayoutAction=a;g.sendKeyboardLayout=b}),98);
__d("CloudGamingLocalCursorMiddleware",["CloudGamingActionTypes","CloudGamingLocalCursorAction","CloudGamingLogUtils","CloudGamingPlayerUtils","CloudGamingSessionConfigConfig","EventTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=16,i=27,j=null,k=null,l=null,m=null,n=null,o=null,p=null,q,r=!1,s=[],t=null,u={relativeX:0,relativeY:0,screenPosX:0,screenPosY:0},v=null,w=!1,x=function(){if(l==null){l=document.getElementById("ApertureVideoComponent");if(l!=null){var a;(a=l)==null?void 0:a.addEventListener("contextmenu",E);(a=l)==null?void 0:a.addEventListener("mousedown",F);(a=l)==null?void 0:a.addEventListener("mouseup",G);(a=l)==null?void 0:a.addEventListener("mousemove",H);(a=l)==null?void 0:a.addEventListener("mouseout",I);(a=l)==null?void 0:a.addEventListener("wheel",J);document.addEventListener("pointerlockchange",K)}}},y=function(){if(l!=null){var a;(a=l)==null?void 0:a.removeEventListener("contextmenu",E);(a=l)==null?void 0:a.removeEventListener("mousedown",F);(a=l)==null?void 0:a.removeEventListener("mouseup",G);(a=l)==null?void 0:a.removeEventListener("mousemove",H);(a=l)==null?void 0:a.removeEventListener("mouseout",I);(a=l)==null?void 0:a.removeEventListener("wheel",J);document.removeEventListener("pointerlockchange",K)}},z=function(){y(),l=null,p=null,r=!1,s.length=0,t=null,u.relativeX=0,u.relativeY=0,u.screenPosX=0,u.screenPosY=0,v=null};a=function(a,b,d,e,f,g){return function(h,i,p){m=b;n=d;o=e;q=f;w=g;if(a==="GREDOS")switch(h.type){case c("CloudGamingActionTypes").GAME_READY:B();z();j=i;k=p;x();break;case c("CloudGamingActionTypes").REACTIVATE_GAME:l=null;x();break;case"DISCONNECT":B();z();break;case c("CloudGamingActionTypes").IN_GAME_STATE:D(h.cursorState);h.cursorState&&(h.cursorState.visible?B():C());break;case c("CloudGamingActionTypes").CLIENT_RECEIVE_SDK_MESSAGE:(h.message.type==="openExternalLink"||h.message.type==="purchase"||h.message.type==="openGamingServicesDeepLink"||h.message.type==="showInterstitialAd"||h.message.type==="showRewardedVideo"||T(h.message))&&(r&&(document.exitPointerLock!==void 0&&document.exitPointerLock()));break;default:break}return h}};var A=function(a){d("CloudGamingLogUtils").logEvent(a,m,q,o,n,null)},B=function(){r&&A("CURSOR_UNLOCKED"),r=!1,document.exitPointerLock!==void 0&&document.exitPointerLock()},C=function(){r||A("CURSOR_LOCKED"),r=!0},D=function(a){if(a!=null){var b=a.icon;a=a.iconPool;var c=document.getElementById(d("CloudGamingPlayerUtils").CG_PLAYER_CONTAINER_ID);v!==b&&b!=null&&a!=null&&c!=null&&(c.style.cursor="url('data:image/png;base64,"+a.image64+"') "+a.hotspotX+" "+a.hotspotY+", auto",v=b)}},E=function(a){a.preventDefault()},F=function(a){L()&&(M(),N()&&O(a)&&j!=null&&(s.push(a.button),j(d("CloudGamingLocalCursorAction").sendCursor(d("CloudGamingLocalCursorAction").createCursorButtonAction(u.screenPosX,u.screenPosY,Q(a),"down")))))},G=function(a){var b=s.indexOf(a.button);L()&&N()&&b!==-1&&j!=null&&(s.splice(b,1),j(d("CloudGamingLocalCursorAction").sendCursor(d("CloudGamingLocalCursorAction").createCursorButtonAction(u.screenPosX,u.screenPosY,Q(a),"up"))))},H=function(a){if(L()&&N()&&j!=null&&k!=null){var b=P(a);if(t!=null&&t>a.timeStamp)return;t=a.timeStamp+c("CloudGamingSessionConfigConfig").time_between_move_events_in_ms;b&&(j(d("CloudGamingLocalCursorAction").sendCursor(d("CloudGamingLocalCursorAction").createCursorMovementAction(u.screenPosX,u.screenPosY,u.relativeX,u.relativeY))),u.relativeX=0,u.relativeY=0)}},I=function(a){L()&&j!=null&&(s.length=0,j(d("CloudGamingLocalCursorAction").sendCursor(d("CloudGamingLocalCursorAction").createCursorButtonAction(u.screenPosX,u.screenPosY,"all","up"))))},J=function(a){if(L()&&N()&&O(a)&&j!=null){var b=a.deltaY;a.deltaMode===0&&(b=a.deltaY/S());j(d("CloudGamingLocalCursorAction").sendCursor(d("CloudGamingLocalCursorAction").createCursorWheelAction(u.screenPosX,u.screenPosY,a.deltaX,b,a.deltaZ)))}},K=function(){if(w&&!document.pointerLockElement&&r){var a={code:"Escape",direction:1,jsCode:i,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond()};j!=null&&j({events:[{input:{key:a}}],purpose:"input",type:"SEND_RTC"});a={code:"Escape",direction:0,jsCode:i,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond()};j!=null&&j({events:[{input:{key:a}}],purpose:"input",type:"SEND_RTC"})}},L=function(){return k!=null&&k().gameLifecycle.gameLifecycleState==="Playing"},M=function(){if(r&&!document.pointerLockElement){var a;(a=l)==null?void 0:a.requestPointerLock()}},N=function(){return r&&!document.pointerLockElement?!1:!0},O=function(a){return k!=null&&a.clientX>=k().container.viewportLeft&&a.clientX<=k().container.viewportLeft+k().container.viewportWidth&&a.clientY>=k().container.viewportTop&&a.clientY<=k().container.viewportTop+k().container.viewportHeight?!0:!1},P=function(a){if(k!=null)if(document.pointerLockElement){u.relativeX+=a.movementX/k().container.viewportWidth;u.relativeY+=a.movementY/k().container.viewportHeight;u.screenPosX=R(k().localCursor.screenPosX+u.relativeX,0,1);u.screenPosY=R(k().localCursor.screenPosY+u.relativeY,0,1);return!0}else if(O(a)){u.screenPosX=R((a.clientX-k().container.viewportLeft)/k().container.viewportWidth,0,1);u.screenPosY=R((a.clientY-k().container.viewportTop)/k().container.viewportHeight,0,1);u.relativeX=u.screenPosX-k().localCursor.screenPosX;u.relativeY=u.screenPosY-k().localCursor.screenPosY;return!0}return!1},Q=function(a){switch(a.button){case 1:return"center";case 2:return"right";case 0:default:return"left"}},R=function(a,b,c){return Math.min(c,Math.max(b,a))},S=function(){if(p==null){var a=document.createElement("div");a.style.fontSize="initial";a.style.display="none";if(document.body!=null){var b;document.body.appendChild(a);var c=window.getComputedStyle(a).fontSize;(b=document.body)==null?void 0:b.removeChild(a);p=c?window.parseInt(c):h}else p=h}return p},T=function(a){return a.type==="clientData"&&a.data.shareWorld!=null};g.registerLocalCursorListeners=x;g.runAction=a}),98);
__d("CloudGamingMultiTouchOverlayAction",["ApertureKeyboardAction","ApertureMapTouch","ApertureMouseAction","ApertureMouseReducer","ApertureRTCAction","CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=91,i=17,j=27;a=function(a,b,e){return function(f,g){g=g().multiTouchOverlay.showMultiTouchOverlay;switch(a.keyCode){case h:case i:b==="down"&&!g?f({timestamp:e,type:c("CloudGamingActionTypes").SHOW_MULTI_TOUCH_OVERLAY}):b==="up"&&g&&f({timestamp:e,type:c("CloudGamingActionTypes").HIDE_MULTI_TOUCH_OVERLAY});return;case j:document.pointerLockElement&&a.code==="Escape"&&document.exitPointerLock();return;default:break}switch(b){case"up":f(d("ApertureKeyboardAction").sendKeyUp(a,!0,!1));break;case"down":f(d("ApertureKeyboardAction").sendKeyDown(a,!0,!1));break}}};var k=function(a,b,c){c=c();var d=c.container.viewportWidth/2;c=c.container.viewportHeight/2;return{secondaryX:d+(d-a),secondaryY:c+(c-b)}},l=function(a,b,d,e,f){f({primaryX:a,primaryY:b,secondaryX:d,secondaryY:e,type:c("CloudGamingActionTypes").SET_POINTERS_COORDINATES})},m=function(a,b){return function(c,e){b.preventDefault&&b.preventDefault();var f=e(),g=b.clientX!=null?b.clientX:null,h=b.clientY!=null?b.clientY:null;if(typeof g==="number"&&typeof h==="number"){g=g-e().container.viewportLeft;h=h-e().container.viewportTop;var i=k(g,h,e),j=i.secondaryX;i=i.secondaryY;l(g,h,j,i,c);b.changedTouches==null&&f.multiTouchOverlay.showMultiTouchOverlay?g=babelHelpers["extends"]({},b,{changedTouches:[{clientX:g+e().container.viewportLeft,clientY:h+e().container.viewportTop,identifier:0,target:b.target},{clientX:j+e().container.viewportLeft,clientY:i+e().container.viewportTop,identifier:1,target:b.target}]}):g=babelHelpers["extends"]({},b)}else g=babelHelpers["extends"]({},b);a(g,f.resource.size.display,f.resource.size.contentSize).map(function(a){var b;b=(b=f.mouse[a.index.toString()])!=null?b:d("ApertureMouseReducer").DefaultTouchState;if((a.type==="MOUSE_MOVE"||a.type==="MOUSE_UP")&&!b.pressingDown)return;c(d("ApertureRTCAction").sendInputEvent(d("ApertureMouseAction").mouseEvent({direction:a.type==="MOUSE_UP"?0:1,index:a.index,timestamp:a.timestamp,x:a.position.x,y:a.position.y})));c(a)})}};b=function(a){return m(d("ApertureMapTouch").mouseUp,a)};e=function(a){return m(d("ApertureMapTouch").mouseUp,a)};f=function(a){return m(d("ApertureMapTouch").mouseDown,a)};var n=function(a){return m(d("ApertureMapTouch").mouseMove,a)};g.sendKeyboardMultiTouchEvent=a;g.clearMultiTouchInput=b;g.sendMultiTouchMouseUp=e;g.sendMultiTouchMouseDown=f;g.sendMultiTouchMouseMove=n}),98);
__d("FBRTCSdpUtils",["FBLogger","RTWebClientFeatureGating","UserAgent"],(function(a,b,c,d,e,f,g){var h="a=x-fb-feature:",i="\r\n",j="m=video 0",k=["audio","video"].map(function(a){return new RegExp("m="+a+"\\s+\\d+\\s+(\\w+\\/?)+(\\s+\\d+)+")}),l=k[0],m=k[1],n=["http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01","http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time","urn:3gpp:video-orientation","urn:ietf:params:rtp-hdrext:ssrc-audio-level","urn:ietf:params:rtp-hdrext:toffset"],o=function(a){return a.match(/^a=rtpmap:(\d+)\s/)[1]},p=function(a,b,c){var d=o(a[b]);q(a,c,[d]);a.splice(b,1)},q=function(a,b,c){var d=a[b].split("RTP/SAVPF"),e=d[1].split(/\s+/);for(var f=0;f<c.length;f++){var g=e.indexOf(c[f]);g>=0&&e.splice(g,1)}d[1]=e.join(" ");a[b]=d.join("RTP/SAVPF")},r=function(a,b,c){var d=o(a[b]);p(a,b,c);var e=new RegExp("^a=(rtcp-fb|fmtp):"+d+" ");a=a.filter(function(a,b){return!(e.test(a)&&b>=c)});var f=new RegExp("^a=fmtp:(\\d+)\\s+apt="+d+"($|;)");b=a.reduce(function(a,b,c){c=b.match(f);return c?[].concat(a,[c[1]]):a},[]);d=b.join("|");q(a,c,b);var g=new RegExp("^a=rtpmap:("+d+")\\s+rtx/|^a=fmtp:("+d+")\\s+apt=");return a.filter(function(a){return!g.test(a)})};function a(a){var b="UDP/TLS/RTP/SAVPF",c="RTP/SAVPF";while(a.indexOf(b)>=0)a=a.replace(b,c);return a}function b(a,b){"use strict";var c="a=ice-options:",d=a.indexOf(c);if(d>=0)return a.split(i).map(function(a){return a.startsWith(c)?a+" "+b:a}).join(i);d=c+b;var e=a.split(i),f=!1,g=-1;for(var h=0;h<e.length;h++){var j=e[h].slice(0,2);if(j=="s="){f=!0;continue}if(f&&j=="a="){g=h;break}}if(g>=0){e.splice(g,0,d);return e.join(i)}return[a,d,i].join("")}function e(a){a=a.split(i);var b=-1,c=-1,d=-1;for(var e=0;e<a.length;e++){var f=a[e];f.match(l)&&(b=e);d===-1&&b>-1&&f.match(/^a=rtpmap:/)&&(d=e);f.match(/^a=rtpmap:\d+\s+ISAC\/16000/)&&(c=e)}if(b===-1||c===-1||d===-1||a[b].indexOf("RTP/SAVPF")===-1)return a.join(i);f=a[c];p(a,c,b);a.splice(d,0,f);a[b]=a[b].replace("RTP/SAVPF","RTP/SAVPF "+o(f));return a.join(i)}function f(a,b,c){a=a.split(i);var d=c?m:l,e=a.findIndex(function(a){return d.test(a)});if(e!==-1&&a[e].indexOf("RTP/SAVPF")!==-1){var f=new RegExp("^a=rtpmap:\\d+\\s+"+b);c=a.findIndex(function(a){return f.test(a)});var g=/^a=rtpmap:/;b=a.findIndex(function(a,b){return b>e&&g.test(a)});if(c!==-1&&b!==-1){var h=a[c];p(a,c,e);a.splice(b,0,h);a[e]=a[e].replace("RTP/SAVPF","RTP/SAVPF "+o(h))}}return a.join(i)}function s(a){var b=/m=video\s+\S+/;a=a.replace(b,j);c("UserAgent").isBrowser("Firefox <= 37")&&(a=t(a));return a}function t(a){if(a.indexOf(j)>-1){var b=a.split(j);b[1]=b[1].replace(/send(recv|only)/,"recvonly");a=b.join(j)}return a}function u(a){a=a.replace(/^a=/,"");a=a.split(/\s+username\s+.+password.+/)[0];var b=a.match(/\s+relay\s+|\s+srflx\s+/),c=a.match(/raddr.+rport.+/);if(b&&!c){b=b[0];c=a.split(b);var d=c[1].match(/^(\d+\.\d+\.\d+\.\d+)\s+(\d+)\s+/),e,f;if(d)e=d[1],f=d[2],c[1]=c[1].replace(d[0],"");else{d=c[0].split(/\s+/);e=d[4];f=d[5]}a=""+c[0]+b+"raddr "+e+" rport "+f+" "+c[1]}return a}function v(a){var b=[];a=a.split(i).map(function(a){var c="";b.length>0&&(/^a=rtpmap:(\d+)/.test(a)||/^a=ssrc/.test(a)||/^m=/.test(a))&&(c+=A(b)+i,b=[]);/^m=audio/.test(a)&&(b=a.match(/^m=audio\s+[\d\/]+\s+[\w\/]+([\s+\d+]+)/)[1].trim().split(" "));return c+a}).join(i);b.length>0&&(a+=i+A(b));return a}function w(a){if(a.indexOf("a=setup:")>=0)return a;a=a.split(i);var b=a.findIndex(function(a){return a.startsWith("s=")}),c=a.findIndex(function(a,c){return c>b&&a.startsWith("a=")});a.splice(c,0,"a=setup:actpass");return a.join(i)}function x(a,b,c,d){a=a==b?[]:a.substr(b.length).split(";");var e=a.findIndex(function(a){return a.startsWith(c+"=")});d=c+"="+d;e<0?a.push(d):a[e]=d;return""+b+a.join(";")}function y(a,b,c,d){var e=new RegExp("^a=rtpmap:(\\d+)\\s"+b);b=a.findIndex(function(a){return a.match(e)});if(b<0)return a;var f=a[b].match(e);f=f[1];var g="a=fmtp:"+f+" ";f=a.findIndex(function(a){return a.startsWith(g)});f===-1&&(f=b+1,a.splice(f,0,g));a[f]=x(a[f],g,c,d);return a}function z(a,b,c,d){a=a.split(i);var e=-1;for(var f=0;f<=a.length;f++)if(f===a.length||a[f].startsWith("m=")){if(e!==-1){var g=a.splice(e,f-e);g=y(g,b,c,d);a.splice.apply(a,[e,0].concat(g));f=e+1+g.length}e=f}return a.join(i)}function A(a){return a.map(function(a){return"a=rtcp-fb:"+a+" nack"}).join(i)}function B(a,b){var c=a;a=function(){var a=c.split(i),d=new RegExp("^a=rtpmap:\\d+\\s+"+b+"\\/"),e=a.findIndex(function(a){return d.test(a)}),f=a.findIndex(function(a){return/^m=video/.test(a)});if(e==-1||f==-1)return"break";c=r(a,e,f).join(i)};do{var d=a();if(d==="break")break}while(!0);return c}function C(a){return B(a,"red")}function D(a){return B(a,"H264")}function E(a){return B(a,"VP9")}function F(a){a=a.split(i);a=a.filter(function(a){return!a.match(/^a=extmap:/)||n.some(function(b){return a.includes(b)})});return a.join(i)}function G(a){return!!a&&a.indexOf("m=video")!==-1&&a.indexOf(j)===-1}function H(a,b){if(!a.match(/setup:(active|passive|actpass)/))return a.replace(/(a=fingerprint:.+)/g,"$1"+i+"a=setup:"+b);else return a.replace(/setup:actpass/g,"setup:"+b)}function I(a){var b=c("UserAgent").isBrowser("Firefox"),d=b?"TIAS":"AS";b=b?72e4:720;var e=new RegExp("^b="+d+":","m");if(a.match(e))return a;a=a.replace(/^a=mid:video\r\n/m,"a=mid:video"+i+"b="+d+":"+b+i);return a}function J(a){if(d("RTWebClientFeatureGating").shouldApplySdpMidTranslation())return a;a=a.split(i);var b="audio",e=!1,f=-1;for(var g=0;g<a.length;g++){var h=a[g];h.indexOf("m=audio")===0&&(b="audio");h.indexOf("m=video")===0&&(e=!0,b="video");h.indexOf("a=mid:sdparta_")===0&&(a[g]="a=mid:"+b);h.indexOf("a=group:BUNDLE sdparta_")===0&&(f=g);h.indexOf("a=group:BUNDLE audio sdparta_")===0&&(f=g);h.indexOf("a=group:BUNDLE audio video sdparta_")===0&&c("FBLogger")("rtc_www").mustfix("content_name rewriting will not work anymore, fix sdparta_# in Firefox.")}f>-1&&(e?a[f]="a=group:BUNDLE audio video":a[f]="a=group:BUNDLE audio");return a.join(i)}function K(a){if(!d("RTWebClientFeatureGating").shouldApplySdpMidTranslation())return{answerSdpMap:null,offerSdpMap:null};a=a.split(i);var b={},c={},e=null;a.forEach(function(d){d.startsWith("m=audio")?e="audio":d.startsWith("m=video")?e="video":d.startsWith("m=")?e=null:d.startsWith("a=mid:")&&e&&(a=d.split("a=mid:")[1],a!==e&&(b[a]=e,c[e]||(c[e]=a)))});return{offerSdpMap:Object.keys(b).length?b:null,answerSdpMap:Object.keys(c).length?c:null}}function L(a,b){if(b==null||!d("RTWebClientFeatureGating").shouldApplySdpMidTranslation())return a;var c=b,e=a.split(i);b=-1;e.forEach(function(d,f){if(d.startsWith("a=group:BUNDLE"))b=f;else if(d.startsWith("a=mid:")){a=d.split("a=mid:")[1];d=c[a]||a;e[f]="a=mid:"+d}});if(b>-1){var f=e[b].split("a=group:BUNDLE ")[1].split(" ");f=f.map(function(a){return c[a]||a});e[b]="a=group:BUNDLE "+f.join(" ")}return e.join(i)}function M(a){if(!(c("UserAgent").isBrowser("Chrome >= 57")||c("UserAgent").isBrowser("Opera >= 44")))return a;return!/^a=fingerprint:/m.test(a)?a:a.split(i).filter(function(a){return a.indexOf("a=crypto:")!==0}).join(i)}function N(a,b){if(a.split(":")[0]==="LIVE"){a=/^m=/;var c=/^m=audio/,d=/^m=video/,e=/^a=ssrc:/;b=b.split(i);var f=[];for(var g=b.length-1;g>=0;g--)a.test(b[g])&&f.push(b.splice(g));var h=!1,j=!1;f.forEach(function(a){c.test(a[0])&&!h?h=a.some(function(a){return e.test(a)}):d.test(a[0])&&!j&&(j=a.some(function(a){return e.test(a)}))});return h&&j}return!0}function O(a,b){var c=a.findIndex(function(a){a=a.match(/^a=rtpmap:(\S+)\s/);return a&&a[1]===b?!0:!1}),d=a.findIndex(function(a){return/^m=video/.test(a)});return c===-1||d===-1?a:r(a,c,d)}function P(a,b){var c=a.findIndex(function(a){return/^m=video/.test(a)});if(c===-1)return[];var d=new RegExp("^a=rtpmap:\\S+\\s+"+b+"\\/"),e=[];a.forEach(function(b,f){if(d.test(b)){b=o(a[f]);a[c].indexOf(b)>0&&e.push(b)}});return e}function Q(a,b){var c=b.levelAsymmetryAllowed?"1":"0",d=b.packetizationMode?"1":"0";c=new RegExp("^a=fmtp:(\\S+)\\s+level-asymmetry-allowed="+c+";packetization-mode="+d+";profile-level-id="+b.profileLevelId);for(d=0;d<a.length;d++){b=a[d].match(c);if(b)return b[1]}return null}function R(a,b){var c=a.split(i),d=Q(c,b);if(!d)return a;b=P(c,"H264");return b.reduce(function(a,b){return b!==d?O(a,b):a},c).join(i)}function S(a){if(!c("UserAgent").isBrowser("Firefox")||d("RTWebClientFeatureGating").preserveFirefoxInactiveDataChannelBlock())return a;var b=a.split(i),e=b.findIndex(function(a){return a.startsWith("m=application")});if(e===-1)return a;var f=b.slice(e),g=f.findIndex(function(a,b){return b>0&&a.startsWith("m=")});g!==-1&&(f=f.slice(0,g));if(f[0]!=null&&f[0].endsWith("0")&&f.some(function(a){return a.startsWith("a=inactive")})){g=f.findIndex(function(a){return a.startsWith("c=")});return[].concat(b.slice(0,e+1+(g!==-1?g:0)),b.slice(e+f.length),[""]).join(i)}return a}function T(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(c.length<1)return a;var e=V(a),f=e[0],g=e[1],j=f.split(i),k=W(j),l=j.filter(function(a){return!a.startsWith(h)}),m=1+l.map(function(a){return a?a.substr(0,2):""}).lastIndexOf("a=")||l.length;return[].concat(l.slice(0),X([].concat(k,c)).map(function(a){return""+h+a}),l.slice(m),[g?[g.trim(),""].join(i):""]).join(i)}function U(a){a=V(a);a=a[0];return W(a.split(i))}function V(a){if(!a)return["",""];var b=a.trim().split(i),c=0;while(c<b.length){if(b[c].startsWith("m="))break;c++}return c===b.length?[a.trim(),""]:[b.slice(0,c).join(i).trim(),b.slice(c).join(i).trim()]}function W(a){return X(a.filter(function(a){return a.startsWith(h)}).map(function(a){return a.substr(h.length)}))}function X(a){var b=Object.create(null);for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e&&(b[e]=!0)}return Object.keys(b).sort()}function Y(a,b){var c=a.split(i);b.forEach(function(a,b){var d=new RegExp("^a=ssrc:\\d+ label:"+b);b=c.findIndex(function(a){return d.test(a)});if(b!==-1){var e=c[b].trim().split(" ")[0];if(/^a=ssrc:\d+$/.test(e)){e=e+" x-fb-content:"+a;c.splice(b+1,0,e)}}});return c.join(i)}g.RX_SDP_MEDIA_AUDIO=l;g.RX_SDP_MEDIA_VIDEO=m;g.replaceRTPSAVPFProfile=a;g.addIceOptionToSdp=b;g.preferIsac=e;g.preferCodec=f;g.disableVideo=s;g._makeDisabledVideoReceiveOnly=t;g.fixMobileIceSdp=u;g.addAudioNack=v;g.addSetup=w;g._replaceFmtp=x;g._addFmtpToMediaSection=y;g.addFmtp=z;g._getrtcpFeedbackLinesFromAudioFMTs=A;g._removeCodec=B;g.removeRED=C;g.removeH264=D;g.removeVP9=E;g.removeUnknownRtpHeaderExtensions=F;g.isVideoSupported=G;g.setDtlsRole=H;g.setVideoBitrateConstraint=I;g.removeSdparta=J;g.constructMidMap=K;g.transformSdpMids=L;g.useDTLSOverCrypto=M;g.validateOfferSdp=N;g._removeCodecID=O;g._getAllCodecIds=P;g._getCodecIDMatchingH264Profile=Q;g.pickSpecificH264ProfileIfExists=R;g.clearFirefoxInactiveDataChannelBlock=S;g.addFBFeatures=T;g.getFBFeatures=U;g.addSSRCContentType=Y}),98);
__d("CloudGamingRTCMiddleware",["ApertureCodes","CloudGamingActionTypes","CloudGamingConstants","CloudGamingInputLatencyTracker","CloudGamingMessageReceiver","CloudGamingSessionConfigConfig","CloudGamingSidebarMicrophoneControl.react","FBRTCSdpUtils","HorizonWorldsUtils","Promise","ZenonBrowsers","clearInterval","fbinstant/releases/samus/internalStates.samus","gkx","isTruthy","promiseDone","regeneratorRuntime","setInterval","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null,k=null,l=null,m=!1,n,o=null;function p(a,b,c){I(),o=c,h=a,b,i=null,j=null,k=null,m=Object.values(d("CloudGamingConstants").HorizonAppIDs).includes(b)}function q(a){var b=a.errorDescription;return b!=null?b.toString():a.toString()}function r(a){a=a.payload;return a!=null&&a.response!=null?a.response.toString():null}function s(a,d,e){var f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:g=d,h="";case 2:f=u(a);k.next=5;return b("regeneratorRuntime").awrap(f.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}));case 5:i=k.sent;j=i.sdp;h=j===void 0?"":j;if(h.toLowerCase().includes("h264")){k.next=13;break}k.next=11;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return c("setTimeout")(a,e)}));case 11:k.next=14;break;case 13:return k.abrupt("break",16);case 14:g--;case 15:if(g>0){k.next=2;break}case 16:return k.abrupt("return",b("Promise").resolve(h.toLowerCase().includes("h264")));case 17:case"end":return k.stop()}},null,this)}function t(a,e,f,g){var j,k,l,m,n,o,p,q,r,t,v,x,z,A,B,C;return b("regeneratorRuntime").async(function(D){while(1)switch(D.prev=D.next){case 0:d("CloudGamingSidebarMicrophoneControl.react").usingMicrophoneControl(h)&&M(e,c("CloudGamingActionTypes").MICROPHONE_SUPPORTED_IN_GAME);if(!(((j=a.h264Required)!=null?j:!1)&&c("gkx")("6169"))){D.next=8;break}D.next=4;return b("regeneratorRuntime").awrap(s(a,50,100));case 4:n=D.sent;if(n){D.next=8;break}e({code:"CREATE_OFFER_FAILURE",detail:"h264 required but not supported",type:c("CloudGamingActionTypes").CONNECTION_ERROR});return D.abrupt("return");case 8:o=u(a);e({connection:o,timestamp:Date.now(),type:c("CloudGamingActionTypes").PEER_CONNECTION_CREATED});i!=null&&M(e,c("CloudGamingActionTypes").MICROPHONE_TRANSCEIVER_CREATED);if(!(((k=a.h264Required)!=null?k:!1)&&c("gkx")("147"))){D.next=18;break}D.next=14;return b("regeneratorRuntime").awrap(J(10,100));case 14:p=D.sent;if(p.h264Supported){D.next=18;break}e({code:"CREATE_OFFER_FAILURE",detail:"h264 required but not supported",type:c("CloudGamingActionTypes").CONNECTION_ERROR});return D.abrupt("return");case 18:D.next=20;return b("regeneratorRuntime").awrap(o.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}));case 20:q=D.sent;c("gkx")("1742616")&&(q.sdp=d("FBRTCSdpUtils").removeH264((r=q.sdp)!=null?r:""));q.sdp=w((l=q.sdp)!=null?l:"");t={sdp:q.sdp,type:q.type};(d("ZenonBrowsers").isChrome()||d("ZenonBrowsers").isChromium()||d("ZenonBrowsers").isChromiumBasedEdge())&&(((v=a.h264SpsPpsInKeyframe)!=null?v:!1)&&d("ZenonBrowsers").webrtcVersion()>=86&&(t.sdp=d("FBRTCSdpUtils").addFmtp(t.sdp,"H264","sps-pps-idr-in-keyframe","1")));o.setLocalDescription(t);x=(m=q.sdp)!=null?m:"";a.streamMode==="h264"&&(x=d("FBRTCSdpUtils").preferCodec(x,"H264",!0));z={timestamp:Date.now(),type:c("CloudGamingActionTypes").SEND_SDP_OFFER};e(z);A=f().rtc.enableInputCompactFormat;B=function(a){if(a.errorMessage!=null&&a.errorMessage!=="")e({code:"CREATE_OFFER_FAILURE",detail:a.errorMessage,payloadResponse:a.errorMessage,type:c("CloudGamingActionTypes").CONNECTION_ERROR});else{if(o.connectionState==="closed"){e({timestamp:Date.now(),type:c("CloudGamingActionTypes").CONNECTION_CLOSED_DURING_NEGOTIATION});return}var b=a.purposeToLabel,d=a.screenSize;e({displaySize:d,modifierMap:{},payload:a,purposeToLabel:new Map(Object.entries(b)),timestamp:Date.now(),type:c("CloudGamingActionTypes").RECEIVED_SDP_ANSWER});d=o.setRemoteDescription({sdp:a.sdpAnswer,type:"answer"});c("promiseDone")(d["catch"](function(a){C(a)}));i!=null&&i.mid!=null&&M(e,c("CloudGamingActionTypes").MICROPHONE_NEGOTIATION_SUCCESS);y(g,e)}};C=function(a){var b;b=(b=a.message)!=null?b:a.toString();e({code:"CREATE_OFFER_FAILURE",detail:b,payloadResponse:b,type:c("CloudGamingActionTypes").CONNECTION_ERROR})};D.next=35;return b("regeneratorRuntime").awrap(a.negotiateSDPMutation(A,x,B,C));case 35:case"end":return D.stop()}},null,this)}function u(a){var b=new RTCPeerConnection({sdpSemantics:"unified-plan"});if(b.addTransceiver!==void 0){a=(a=a.videoDirection)!=null?a:"sendrecv";b.addTransceiver("video",{direction:a});b.addTransceiver("audio",{direction:"recvonly"});d("CloudGamingSidebarMicrophoneControl.react").usingMicrophoneControl(h)&&(i=b.addTransceiver("audio",{direction:"sendonly"}))}return b}function v(a,b,d,e){t(a,b,d,e).then(function(){y(e,b)})["catch"](function(a){b({code:"CREATE_OFFER_FAILURE",detail:q(a),payloadResponse:r(a),type:c("CloudGamingActionTypes").CONNECTION_ERROR})})}function w(a){var b=a.split("m="),c=!1;for(var d=b.entries(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0],i=g[1];if(i.startsWith("audio")&&i.indexOf("recvonly")!==-1){g=function(){var a=new RegExp("^a=rtpmap:(\\d+)\\sopus"),d=i.split("\r\n"),e=0;d.forEach(function(b){b=b.match(a);b&&(e=b[1])});if(e!==0){var f=d.findIndex(function(a){return a.startsWith("a=fmtp:"+e+" ")});if(f!==-1&&d[f].indexOf("stereo")===-1){d[f]=d[f].concat(";stereo=1");b[h]=d.join("\r\n");c=!0;return"break"}}}();if(g==="break")break}}return c?b.join("m="):a}function x(a,b){z(a,b)}function y(a,b){if(d("CloudGamingSidebarMicrophoneControl.react").usingMicrophoneControl(h)&&i!=null&&i.mid!=null){var c;z(a,b);n=function(){x(a,b)};(c=navigator.mediaDevices)==null?void 0:c.addEventListener("devicechange",n)}}function z(a,e){var f,g;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:if(!(d("CloudGamingSidebarMicrophoneControl.react").usingMicrophoneControl(h)&&i!=null&&i.mid!=null&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)){k.next=9;break}f=!1;k.next=4;return b("regeneratorRuntime").awrap(navigator.mediaDevices.enumerateDevices());case 4:g=k.sent;g.forEach(function(a){a.kind==="audioinput"&&(f=!0)});f?(M(e,c("CloudGamingActionTypes").MICROPHONE_DEVICE_AVAILABLE),j!=null&&j.enabled===!0?B(a,e):C(a,e)):c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(d("CloudGamingConstants").CloudGamingMessageTypes.HIDE_MIC_BUTTON);k.next=10;break;case 9:c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(d("CloudGamingConstants").CloudGamingMessageTypes.HIDE_MIC_BUTTON);case 10:case"end":return k.stop()}},null,this)}function A(a,b,e){k==null&&(k=new(c("CloudGamingMessageReceiver"))(function(b){b===d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_MIC?B(a,e):b===d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_MIC&&C(a,e)})),b==null?void 0:b.on(d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_MIC,function(){B(a,e)}),b==null?void 0:b.on(d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_MIC,function(){C(a,e)}),b==null?void 0:b.on(d("CloudGamingConstants").CloudGamingMessageTypes.SEND_EDIT_ACTION_TO_GAME,function(b){var d="unknown",e={};c("isTruthy")(b)&&(d=typeof b.action==="string"?b.action:"unknown",e=typeof b.params==="object"?b.params:{});b=JSON.stringify(babelHelpers["extends"]({},e,{action:d,requestType:"DataToGame",target:"editAction"}));a.sendRTCEvent("lifecycle",{sdkMessage:{data:b}})}),b==null?void 0:b.on(d("CloudGamingConstants").CloudGamingMessageTypes.SITE_TRAVEL,function(b){b=d("HorizonWorldsUtils").refineGameTravel(b);c("isTruthy")(b)&&K(a,b)}),b==null?void 0:b.on(d("CloudGamingConstants").CloudGamingMessageTypes.RAGE_SHAKE,function(){L(a)})}function B(a,e){var f,g;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:if(!(d("CloudGamingSidebarMicrophoneControl.react").usingMicrophoneControl(h)&&i!=null&&i.mid!=null&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)){k.next=17;break}k.prev=1;k.next=4;return b("regeneratorRuntime").awrap(navigator.mediaDevices.getUserMedia({audio:!0}));case 4:g=k.sent;j=g.getAudioTracks()[0];k.next=8;return b("regeneratorRuntime").awrap((f=i)==null?void 0:f.sender.replaceTrack(j));case 8:j!=null?(j.enabled=!0,a.sendRTCEvent("lifecycle",{sdkMessage:{data:'{ "requestType" : "DataToGame", "target": "micMuteState", "isMuted": "false" }'}}),c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(d("CloudGamingConstants").CloudGamingMessageTypes.UNMUTE_MIC_BUTTON),M(e,c("CloudGamingActionTypes").MICROPHONE_ENABLE_SUCCESS)):M(e,c("CloudGamingActionTypes").MICROPHONE_ENABLE_FAILED,"Failed to get audio track");k.next=17;break;case 11:k.prev=11;k.t0=k["catch"](1);c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(d("CloudGamingConstants").CloudGamingMessageTypes.MUTE_MIC_BUTTON);M(e,c("CloudGamingActionTypes").MICROPHONE_ENABLE_FAILED,"Microphone configuration exception");a!=null&&a.sendRTCEvent("lifecycle",{sdkMessage:{data:'{ "requestType" : "DataToGame", "target": "micMuteState", "isMuted": "true" }'}});throw k.t0.message;case 17:case"end":return k.stop()}},null,this,[[1,11]])}function C(a,b){j!=null&&(j.enabled=!1),a.sendRTCEvent("lifecycle",{sdkMessage:{data:'{ "requestType" : "DataToGame", "target": "micMuteState", "isMuted": "true" }'}}),c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(d("CloudGamingConstants").CloudGamingMessageTypes.MUTE_MIC_BUTTON),M(b,c("CloudGamingActionTypes").MICROPHONE_DISABLED)}function D(a){d("CloudGamingSidebarMicrophoneControl.react").usingMicrophoneControl(h)&&(l=c("setInterval")(function(){E(a)},c("CloudGamingSessionConfigConfig").mic_activity_detection_interval_in_seconds*1e3))}function E(a){if(i!=null&&i.mid!=null&&d("CloudGamingSidebarMicrophoneControl.react").usingMicrophoneControl(h)){var b=i.sender.getStats();c("promiseDone")(b.then(function(b){for(var b=b.values(),d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f.type==="media-source"&&f.kind==="audio"&&(f.audioLevel!=null&&f.audioLevel>c("CloudGamingSessionConfigConfig").mic_activity_audio_level_threshold&&a({type:c("CloudGamingActionTypes").MICROPHONE_ACTIVITY}))}}))}}function F(a){m&&a.sendRTCEvent("lifecycle",{sdkMessage:{data:'{ "requestType" : "DataToGame", "target": "audioMuteState", "isMuted": "true" }'}})}function G(a){m&&a.sendRTCEvent("lifecycle",{sdkMessage:{data:'{ "requestType" : "DataToGame", "target": "audioMuteState", "isMuted": "false" }'}})}function H(a){var b=JSON.stringify({IsShareSupported:navigator!=="undefined"&&navigator.share!=="undefined",requestType:"DataToGame",target:"shareSupportedState"});a.sendRTCEvent("lifecycle",{sdkMessage:{data:b}})}var I=function(){var a;(a=o)==null?void 0:a.sendRTCEvent("lifecycle",{resourceClosed:{code:4,reason:d("ApertureCodes").resourceClosedReasonFromCode(4)}});(a=o)==null?void 0:a.clear();k!=null&&(k.clean(),k=null);l!=null&&(c("clearInterval")(l),l=null);j!=null&&j.stop();(a=navigator.mediaDevices)==null?void 0:a.removeEventListener("devicechange",n)};a=function(a,b,d,e){return function(f,g,h,i){var j=i.heartbeat;switch(f.type){case"CREATE_SDP_OFFER":p(a,d,i);m&&i.enableSDKMessageRetry();v(e,g,h,i);A(i,b,g);D(g);break;case"DISCONNECT":I();break;case"CLIENT_TICK":i.sendRTCEvent("lifecycle",{tick:{sequenceNumber:f.heartbeat.sequence,tick:"tick",timestamp:f.heartbeat.timestamp}});break;case"CONNECTION_ERROR":case"DATA_CHANNEL_CLOSED":i.clear();break;case"PEER_CONNECTION_CREATED":i.setPeerConnection(f.connection);break;case"SERVER_TICK":if(!j)break;j.onHeartbeatFromServer(f.heartbeat);break;case"SEND_RTC":for(var h=f.events,j=Array.isArray(h),k=0,h=j?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=h.length)break;l=h[k++]}else{k=h.next();if(k.done)break;l=k.value}l=l;i.sendRTCEvent(f.purpose,l);c("CloudGamingInputLatencyTracker").processInput(l)}break;case"RESOURCE_CLOSED":i.clear();break;case"AUDIO_MUTED":F(i);break;case"AUDIO_UNMUTED":G(i);break;case"GAME_READY":z(i,g);H(i);break;case"SDK_INITIALIZED":i.setSDKInitialized();break;default:break}return f}};function J(a,d){var e=Date.now(),f=function(b,c){return{h264Supported:b,numRetries:a-c,timeWaited:Date.now()-e}};return new(b("Promise"))(function(b,e){e=function a(e){var g=!1,h=RTCRtpReceiver.getCapabilities("video");h!==null&&h.codecs.forEach(function(a){(a.mimeType==="video/H264"||a.mimeType==="video/h264")&&(g=!0)});g?b(f(!0,e)):e<=0?b(f(!1,e)):c("setTimeout")(function(){a(e-1)},d)};RTCRtpReceiver.getCapabilities?e(a):b(f(!0,a))})}function K(a,b){b=JSON.stringify({instanceID:b.instanceID,intentID:b.intentID,requestType:"DataToGame",target:"travelTo",worldID:b.worldID});a.sendRTCEvent("lifecycle",{sdkMessage:{data:b}})}function L(a){var b=JSON.stringify({requestType:"DataToGame",target:"rageShake"});a.sendRTCEvent("lifecycle",{sdkMessage:{data:b}})}function M(a,b,c){c===void 0&&(c="");c={detail:c,type:b};a(c)}g.rtcSessionCleanup=I;g.runAction=a}),98);
__d("CloudGamingVirtualKeyboardManager",["ApertureRTCAction","EventTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var b=this;this.$1=a;this.virtualKeyboardListener={onIMEEvent:function(a){b.$1(d("ApertureRTCAction").sendInputEvent({text:{content:a,source:"VirtualKeyboard",timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond()}}))}}};g["default"]=a}),98);
__d("useUnloadCallback",["Run","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){h(function(){var b,c=function(b){b.persisted===!1&&a()};document.body&&("onpagehide"in window?window.addEventListener("pagehide",c):b=d("Run").onUnload(a));return function(){var a;(a=b)==null?void 0:a.remove();window.removeEventListener("pagehide",c)}},[a])}g["default"]=a}),98);
__d("CloudGamingContentWrapper.react",["ApertureMouseAction","ApertureRTCAction","CloudGamingActionTypes","CloudGamingConstants","CloudGamingContent.react","CloudGamingContext.react","CloudGamingGredosTouchAction","CloudGamingKeyboardLayoutAction","CloudGamingLocalCursorMiddleware","CloudGamingLogUtils","CloudGamingMessageReceiver","CloudGamingMultiTouchOverlayAction","CloudGamingRTCMiddleware","CloudGamingVirtualGamepadManager","CloudGamingVirtualKeyboard.react","CloudGamingVirtualKeyboardManager","EventTimeUtils","react","useUnloadCallback"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=null,m=null;function a(a){var b=a.appID,e=a.appName,f=a.clientAppID,g=a.clientAppVersion,n=a.cloudBinaryID,o=a.cloudGameID,p=a.enableCGFullyLockedMouse,q=a.enableCGLockedMouse,r=a.enableCGMultiTouchOverlay,s=a.enableCGWarningAlerts,t=a.entryPoint,u=a.eventBus,v=a.gameOrientation,w=a.genCloudErrorMessage,x=a.genNetworkQualityDialog,y=a.graphqlGKResults,z=a.isCometOnMobile,A=a.isInsideIframe,B=a.overrideLoadingState,C=a.provider,D=a.sessionID,E=a.showBackground,F=a.showSpinner;a=a.useResourceSize;var G=j(d("CloudGamingContext.react").CloudGamingContentStateContext),H=j(d("CloudGamingContext.react").CloudGamingDispatchContext),I=G.connection,J=G.gameLifecycle,K=G.showMultiTouchOverlay,L=G.resourceWidth,M=G.resourceHeight,N=G.viewportWidth,O=G.viewportHeight,P=G.initialResolutionWidth;G=G.initialResolutionHeight;k(function(){H({type:c("CloudGamingActionTypes").SESSION_INIT_SETUP});return function(){return H({type:c("CloudGamingActionTypes").SESSION_END_CLEANUP})}},[H]);c("useUnloadCallback")(d("CloudGamingRTCMiddleware").rtcSessionCleanup);k(function(){var a=function(){d("CloudGamingVirtualKeyboard.react").openKeyboardDelayed(f)?(d("CloudGamingVirtualKeyboard.react").setOpenSoftKeyboardRequested(H),d("CloudGamingLogUtils").logEvent("TOUCH_SCREEN_TO_OPEN_KEYBOARD_NOTIFICATION",b,o,f,D)):d("CloudGamingVirtualKeyboard.react").switchVirtualKeyboard()&&d("CloudGamingLogUtils").logEvent("SOFT_KEYBOARD_SHOWN",b,o,f,D)},e=function(a){if(a!=null&&a instanceof Map){a=a.get("layout");a!=null&&(H(d("CloudGamingKeyboardLayoutAction").sendKeyboardLayout(d("CloudGamingKeyboardLayoutAction").createKeyboardLayoutAction(a))),d("CloudGamingLogUtils").logEvent("SET_KEYBOARD_LAYOUT",b,o,f,D,new Map([["locale",a]])))}};u==null?void 0:u.on(d("CloudGamingConstants").CloudGamingMessageTypes.OPEN_SOFT_KEYBOARD,a);u==null?void 0:u.on(d("CloudGamingConstants").CloudGamingMessageTypes.SET_KEYBOARD_LAYOUT,e);var g=new(c("CloudGamingMessageReceiver"))(function(b,c){switch(b){case d("CloudGamingConstants").CloudGamingMessageTypes.OPEN_SOFT_KEYBOARD:a();break;case d("CloudGamingConstants").CloudGamingMessageTypes.SET_KEYBOARD_LAYOUT:e(c);break}});return function(){var b;u==null?void 0:u.remove(d("CloudGamingConstants").CloudGamingMessageTypes.OPEN_SOFT_KEYBOARD,a);u==null?void 0:u.remove(d("CloudGamingConstants").CloudGamingMessageTypes.SET_KEYBOARD_LAYOUT,e);(b=g)==null?void 0:b.clean();g=null}},[b,f,o,H,u,D]);var Q=function(){l=new(d("CloudGamingVirtualGamepadManager").CloudGamingVirtualGamepadManager)(H);m=new(c("CloudGamingVirtualKeyboardManager"))(H);var a={timestamp:Date.now(),type:c("CloudGamingActionTypes").CREATE_SDP_OFFER};H(a)},R=function(){H({type:c("CloudGamingActionTypes").REACTIVATE_GAME})},S=function(a,b,c,e){H(e()),H(d("ApertureRTCAction").sendInputEvent(d("ApertureMouseAction").mouseEvent({direction:c,index:0,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),x:a,y:b})))},T=function(a,b,c){H(c()),H(d("ApertureRTCAction").sendInputEvent(d("ApertureMouseAction").relativeMoveEvent({relX:a,relY:b,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond()})))},U=i(function(a){a=Math.round(a.changeTime);H({timestamp:a,type:c("CloudGamingActionTypes").PAUSE_GAME});H(d("ApertureMouseAction").onBlur)},[H]),V=i(function(a){a=Math.round(a.changeTime);H({timestamp:a,type:c("CloudGamingActionTypes").RESUME_GAME})},[H]),W=function(a){H(d("CloudGamingMultiTouchOverlayAction").sendKeyboardMultiTouchEvent(a,"up",d("EventTimeUtils").tryGetTimestampInMicroSecond()))},X=function(a){H(d("CloudGamingMultiTouchOverlayAction").sendKeyboardMultiTouchEvent(a,"down",d("EventTimeUtils").tryGetTimestampInMicroSecond()))},Y=function(a){H(d("CloudGamingMultiTouchOverlayAction").sendMultiTouchMouseUp(a))},Z=function(a){H(d("CloudGamingMultiTouchOverlayAction").sendMultiTouchMouseDown(a))},$=function(a){H(d("CloudGamingMultiTouchOverlayAction").sendMultiTouchMouseMove(a))},aa=i(function(a){d("CloudGamingLocalCursorMiddleware").registerLocalCursorListeners()},[]),ba=function(a){a.preventDefault(),d("CloudGamingVirtualKeyboard.react").getOpenSoftKeyboardRequested()?(a.stopPropagation(),a.type==="touchend"&&(d("CloudGamingVirtualKeyboard.react").showVirtualKeyboard(!0),d("CloudGamingLogUtils").logEvent("SOFT_KEYBOARD_SHOWN",b,o,f,D))):H(d("CloudGamingGredosTouchAction").sendGredosTouchEvent(a))},ca=function(a){H(a),d("CloudGamingVirtualGamepadManager").onVirtualGamepadResize(0,0,a.viewportWidth,a.viewportHeight,a.streamingRotation)},da=function(a){H(a)};return h.jsx(c("CloudGamingContent.react"),{appID:b,appName:e,clientAppID:f,clientAppVersion:g,cloudBinaryID:n,cloudGameID:o,connectionState:I,enableCGFullyLockedMouse:p,enableCGLockedMouse:q,enableCGMultiTouchOverlay:r,enableCGWarningAlerts:s,entryPoint:t,eventBus:u,gameLifecycleState:J,gameOrientation:v,genCloudErrorMessage:w,genNetworkQualityDialog:x,graphqlGKResults:y,height:M,initialResolutionHeight:G,initialResolutionWidth:P,isCometOnMobile:z,isInsideIframe:A,onConnect:Q,onContainerResize:ca,onContainerRotation:da,onPause:U,onResume:V,overrideLoadingState:B,provider:C,reactivateGame:R,sendGredosCustomMouseEvent:aa,sendGredosCustomTouchEvent:ba,sendMouseInputWhenScreenIsLocked:S,sendMultiTouchKeyDown:X,sendMultiTouchKeyUp:W,sendMultiTouchMouseDown:Z,sendMultiTouchMouseMove:$,sendMultiTouchMouseUp:Y,sendRelativeMoveInputWhenScreenIsLocked:T,sessionID:D,showBackground:E,showMultiTouchOverlay:K,showSpinner:F,useResourceSize:a,viewportHeight:O,viewportWidth:N,virtualGamepadListener:(e=l)==null?void 0:e.virtualGamepadListener,virtualKeyboardListener:(g=m)==null?void 0:g.virtualKeyboardListener,width:L})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingStreamingConfig",["UserAgent","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==="APERTURE"&&c("gkx")("3294")}function b(a){return!a&&c("UserAgent").isBrowser("Chrome >= 52")}function d(){return c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Edge (Chromium Based)")||c("UserAgent").isBrowser("Safari")}function e(){return!1}g.enableInputCompactFormat=a;g.useH264=b;g.supportInputFeedback=d;g.enable60fps=e}),98);
__d("CloudGamingContextProvider.react",["ApertureCloudGamingRTCAction","ApertureHeartbeatReducer","ApertureKeyboardReducer","ApertureMediaReducer","ApertureMouseReducer","ApertureRTCContext","ApertureRTCReducer","ApertureResourceReducer","CloudGamingConnectionReducer","CloudGamingContainerReducer","CloudGamingContext.react","CloudGamingGamepadReducer","CloudGamingInGameStateReducer","CloudGamingLocalCursorReducer","CloudGamingMultiTouchOverlayReducer","CloudGamingResolutionReducer","CloudGamingStreamingConfig","CloudGamingWarningAlertReducer","GameLifecycleReducer","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useReducer,m=b.useRef;e=function(a){return function(b,c){return Object.keys(a).reduce(function(b,d){var e;return babelHelpers["extends"]({},b,(e={},e[d]=a[d](b[d],c),e))},b)}};var n=function(a){return{connection:d("CloudGamingContext.react").DefaultConnectionState,container:d("CloudGamingContainerReducer").DefaultState,gameLifecycle:d("GameLifecycleReducer").DefaultState,gamepad:d("CloudGamingGamepadReducer").DefaultState,heartbeat:d("ApertureHeartbeatReducer").DefaultState,inGameState:d("CloudGamingInGameStateReducer").DefaultState,keyboard:d("ApertureKeyboardReducer").DefaultState,localCursor:d("CloudGamingLocalCursorReducer").DefaultState,media:d("ApertureMediaReducer").DefaultState,mouse:d("ApertureMouseReducer").DefaultState,multiTouchOverlay:d("CloudGamingMultiTouchOverlayReducer").DefaultState,resolution:d("CloudGamingResolutionReducer").DefaultState,resource:d("ApertureResourceReducer").DefaultState,rtc:babelHelpers["extends"]({},d("ApertureRTCReducer").DefaultState,{enableInputCompactFormat:d("CloudGamingStreamingConfig").enableInputCompactFormat(a)}),warningAlert:d("CloudGamingWarningAlertReducer").DefaultState}},o=e({connection:d("CloudGamingConnectionReducer").connection,container:d("CloudGamingContainerReducer").container,gameLifecycle:d("GameLifecycleReducer").gameLifecycle,gamepad:d("CloudGamingGamepadReducer").gamepad,heartbeat:d("ApertureHeartbeatReducer").heartbeat,inGameState:d("CloudGamingInGameStateReducer").inGameState,keyboard:d("ApertureKeyboardReducer").keyboard,localCursor:d("CloudGamingLocalCursorReducer").localCursor,media:d("ApertureMediaReducer").media,mouse:d("ApertureMouseReducer").mouse,multiTouchOverlay:d("CloudGamingMultiTouchOverlayReducer").multiTouchOverlay,resolution:d("CloudGamingResolutionReducer").resolution,resource:d("ApertureResourceReducer").resource,rtc:d("ApertureRTCReducer").rtc,warningAlert:d("CloudGamingWarningAlertReducer").warningAlert});function a(a){var b=a.children,e=a.extraActions;a=a.provider;a=l(o,n(a));var f=a[0],g=a[1],p=m(f);p.current=f;var q=m(g),r=c("useStable")(function(){return new(c("ApertureRTCContext"))(function(a){return q.current(a)},function(){return p.current},d("ApertureCloudGamingRTCAction").getActionFromChannelMessage,!0)}),s=i(function(a){a=a;if(typeof a==="function")a(s,function(){return p.current},r);else{for(var b=e,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(d>=b.length)break;f=b[d++]}else{d=b.next();if(d.done)break;f=d.value}f=f;r!=null&&(a=f(a,s,function(){return p.current},r))}g(a)}},[r,e]);j(function(){q.current=s},[s]);a=k(function(){return{connection:f.connection,gameLifecycle:f.gameLifecycle.gameLifecycleState,initialResolutionHeight:f.resolution.height,initialResolutionWidth:f.resolution.width,resourceHeight:f.resource.size.resource.height,resourceWidth:f.resource.size.resource.width,showMultiTouchOverlay:f.multiTouchOverlay.showMultiTouchOverlay,viewportHeight:f.container.viewportHeight,viewportWidth:f.container.viewportWidth}},[f.connection,f.gameLifecycle.gameLifecycleState,f.resolution.height,f.resolution.width,f.resource.size.resource.height,f.resource.size.resource.width,f.multiTouchOverlay.showMultiTouchOverlay,f.container.viewportWidth,f.container.viewportHeight]);var t=k(function(){return{connectionPhase:f.connection.phase,mediaStream:f.media.mediaStream}},[f.connection.phase,f.media.mediaStream]),u=k(function(){return f.multiTouchOverlay},[f.multiTouchOverlay]),v=k(function(){return babelHelpers["extends"]({},f.warningAlert,{browserOrientation:f.container.browserOrientation})},[f.warningAlert,f.container.browserOrientation]);return h.jsx(d("CloudGamingContext.react").CloudGamingDispatchContext.Provider,{value:s,children:h.jsx(d("CloudGamingContext.react").CloudGamingContentStateContext.Provider,{value:a,children:h.jsx(d("CloudGamingContext.react").CloudGamingMultiTouchOverlayStateContext.Provider,{value:u,children:h.jsx(d("CloudGamingContext.react").CloudGamingWarningAlertStateContext.Provider,{value:v,children:h.jsx(d("CloudGamingContext.react").CloudGamingVideoStreamStateContext.Provider,{value:t,children:b})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingGameStateMiddleware",["CloudGamingActionTypes","CloudGamingLogUtils","CloudGamingVirtualGamepadConfig.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e,f){return function(g){switch(g.type){case c("CloudGamingActionTypes").IN_GAME_STATE:var h=d("CloudGamingVirtualGamepadConfig.react").getVirtualGamepad();h!==null&&h.onGameStateChange(g.state);g.state!==""&&d("CloudGamingLogUtils").logEvent("GAME_STATE_CHANGE_DURING_GAME",a,f,e,b,new Map([["newGameState",g.state]]));break;default:break}return g}};g.runAction=a}),98);
__d("CloudGamingGamepadGredosController",["CloudGamingActionTypes","CloudGamingVirtualGamepadConfig.react","EventTimeUtils","clearInterval","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=10,j={0:"A",1:"B",2:"X",3:"Y",4:"L1",5:"R1",6:"L2",7:"R2",8:"Select",9:"Start",10:"L3",11:"R3",12:"Up",13:"Down",14:"Left",15:"Right",16:"Home"},k={0:"ThumbLX",1:"ThumbLY",2:"ThumbRX",3:"ThumbRY"};a=function(){function a(a){var b=this;this.$3=null;this.$4=null;this.connectHandler=function(a){b.addGamepad(a.gamepad)};this.disconnectHandler=function(a){b.removeGamepad(a.gamepad)};this.updateStatus=function(){b.scanGamepads();for(var a=b.$1.entries(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];if(!e||!e.connected)continue;var g={A:0,B:0,Down:0,L1:0,L2:0,L3:0,Left:0,R1:0,R2:0,R3:0,Right:0,Select:0,Start:0,ThumbLX:0,ThumbLY:0,ThumbRX:0,ThumbRY:0,Up:0,X:0,Y:0};for(var h=e.buttons.entries(),i=Array.isArray(h),l=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(i){if(l>=h.length)break;m=h[l++]}else{l=h.next();if(l.done)break;m=l.value}m=m;var n=m[0];m=m[1];g[j[n]]=m.value}for(n=e.axes.entries(),m=Array.isArray(n),l=0,n=m?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(l>=n.length)break;i=n[l++]}else{l=n.next();if(l.done)break;i=l.value}h=i;e=h[0];i=h[1];g[k[e]]=i}b.sendGamepadState(f,g)}};this.scanGamepads=function(){var a=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():[];for(var c=0;c<a.length;c++)a[c]!=null&&!b.$1.has(a[c].index)?b.addGamepad(a[c]):a[c]!=null&&b.$1.set(a[c].index,a[c])};this.$1=new Map();this.$2=a;this.startListeningToGamepad()}var b=a.prototype;b.clear=function(){"GamepadEvent"in window?(window.removeEventListener("gamepadconnected",this.connectHandler),window.removeEventListener("gamepaddisconnected",this.disconnectHandler)):"WebKitGamepadEvent"in window&&(window.removeEventListener("webkitgamepadconnected",this.connectHandler),window.removeEventListener("webkitgamepaddisconnected",this.disconnectHandler)),this.$3!=null&&c("clearInterval")(this.$3),this.$4!=null&&c("clearInterval")(this.$4)};b.startListeningToGamepad=function(){"GamepadEvent"in window?(this.scanGamepads(),window.addEventListener("gamepadconnected",this.connectHandler),window.addEventListener("gamepaddisconnected",this.disconnectHandler)):"WebKitGamepadEvent"in window?(this.scanGamepads(),window.addEventListener("webkitgamepadconnected",this.connectHandler),window.addEventListener("webkitgamepaddisconnected",this.disconnectHandler)):this.$3=c("setInterval")(this.scanGamepads,h)};b.addGamepad=function(a){this.$1.set(a.index,a);this.$4==null&&(this.$4=c("setInterval")(this.updateStatus,i));(a=d("CloudGamingVirtualGamepadConfig.react").getVirtualGamepad())==null?void 0:a.onNumberOfGamepadChanges(this.$1.size)};b.removeGamepad=function(a){this.$1["delete"](a.index);(a=d("CloudGamingVirtualGamepadConfig.react").getVirtualGamepad())==null?void 0:a.onNumberOfGamepadChanges(this.$1.size)};b.sendGamepadState=function(a,b){a={id:a,keys:b,timestamp:d("EventTimeUtils").tryGetTimestampInMicroSecond(),type:c("CloudGamingActionTypes").GAMEPAD_GREDOS};this.$2({events:[{input:{gamepad:a}}],purpose:"input",type:"SEND_RTC"});this.$2(a)};return a}();g["default"]=a}),98);
__d("CloudGamingGamepadMiddleware",["CloudGamingActionTypes","CloudGamingGamepadGredosController","EventTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=null;a=function(a){return function(b,e){var f;switch(b.type){case c("CloudGamingActionTypes").GAME_READY:(f=h)==null?void 0:f.clear();a==="GREDOS"&&(h=new(c("CloudGamingGamepadGredosController"))(e));break;case"CLEAR_KEYS_DOWN":f=d("EventTimeUtils").tryGetTimestampInMicroSecond();e({timestamp:f,type:"CLEAR_GAMEPAD_KEYS_DOWN"});break;case"DISCONNECT":(e=h)==null?void 0:e.clear();h=null;break;default:break}return b}};g.runAction=a}),98);
__d("CloudGamingInputFeedbackMiddleware",["ApertureEventUtils","CloudGamingActionTypes","CloudGamingInputLatencyTracker"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){c("CloudGamingInputLatencyTracker").configure(a,b,e,f,g);return function(a,b,e,f){if(a.type===c("CloudGamingActionTypes").INPUT_FEEDBACK){c("CloudGamingInputLatencyTracker").processInputFeedback(a.rtpTimestamp,a.inputTimestamps);(b=d("ApertureEventUtils").getCurrentInstanceOfApertureEventUtils())==null?void 0:b.onInputsAcked(a.inputTimestamps)}return a}}g.runAction=a}),98);
__d("KeyboardLayouts",[],(function(a,b,c,d,e,f){"use strict";a=["Albanian","Arabic","Arabic AZERTY","Armenian","Assamese","Azerbaijani Cyrillic","Azerbaijani Latin","Bangla - Bangladesh","Bangla - India","Bashkir","Belgian French","Belarusian","Bosnian (Cyrillic)","Bulgarian","Chinese (Simplified)","Chinese (Traditional)","Croatian","Czech","Danish","Divehi","Dutch - Belgium","English U.K.","English U.S.","Estonian","Finnish","French","French - Canada","Finnish with Sami","Gaelic","Georgian (QWERTY)","German","Greek","Guarani","Gujarati","Hausa","Hawaiian","Hebrew","Hindi","Hungarian","Icelandic","Igbo","Inuktitut (Latin)","Inuktitut (Syllabics)","Irish","Italian","Japanese","Kannada","Kazakhstan","Khmer","Korean","Kyrgyz Cyrillic","Lao","Latvian (QWERTY)","Latvian - Standard","Lithuanian","Luxembourgish","Macedonian","Malayalam","Maltese","Maori","Marathi","Mongolian Cyrillic","Mongolian Traditional","Mongolian (Mongolian Script)","Myanmar","Nepali","Norwegian","Norwegian with Sami","N'ko","Odia","Pashto","Persian","Polish","Portuguese","Portuguese - Brazil","Punjabi","Romanian","Russian","Sakha","Sanskrit","Serbian (Cyrillic)","Serbian (Latin)","Sesotho sa Leboa","Setswana","Sinhala","Slovak","Slovenian","Sorbian ","Spanish","Spanish - Latin American","Swedish","Swedish with Sami","Swiss German","Swiss French","Syriac","Tajik","Tamil","Tatar","Telugu","Thai","Tibetan","Tifinagh","Tigrinya","Turkish","Turkmen","Ukrainian","United States - International","Urdu","Uyghur","Uzbek Cyrillic","Vietnamese","Wolof ","Yi"];b={af:"English U.S.","ar-AE":"Arabic","ar-BH":"Arabic","ar-DZ":"Arabic AZERTY","ar-EG":"Arabic","ar-IQ":"Arabic","ar-JO":"Arabic","ar-KW":"Arabic","ar-LB":"Arabic","ar-LY":"Arabic","ar-MA":"Arabic AZERTY","ar-OM":"Arabic","ar-QA":"Arabic","ar-SA":"Arabic","ar-SY":"Arabic","ar-TN":"Arabic AZERTY","ar-YE":"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Spanish",cs:"Czech",da:"Danish",de:"German","de-AT":"German","de-CH":"Swiss German","de-LI":"Swiss German","de-LU":"German",el:"Greek",en:"English U.S.","en-AU":"English U.S.","en-BZ":"English U.S.","en-CA":"English U.S.","en-EG":"English U.S.","en-GB":"English U.K.","en-IE":"Irish","en-JM":"English U.S.","en-NZ":"English U.S.","en-TT":"English U.S.","en-US":"English U.S.","en-ZA":"English U.S.",es:"Spanish","es-AR":"Spanish - Latin American","es-BO":"Spanish - Latin American","es-CL":"Spanish - Latin American","es-CO":"Spanish - Latin American","es-CR":"Spanish - Latin American","es-DO":"Spanish - Latin American","es-EC":"Spanish - Latin American","es-GT":"Spanish - Latin American","es-HN":"Spanish - Latin American","es-MX":"Spanish - Latin American","es-NI":"Spanish - Latin American","es-PA":"Spanish - Latin American","es-PE":"Spanish - Latin American","es-PR":"Spanish - Latin American","es-PY":"Spanish - Latin American","es-SV":"Spanish - Latin American","es-UY":"Spanish - Latin American","es-VE":"Spanish - Latin American",et:"Estonian",eu:"Spanish",fa:"Persian",fi:"Finnish",fo:"Danish",fr:"French","fr-BE":"Belgian French","fr-CA":"French - Canada","fr-CH":"Swiss French","fr-LU":"Swiss French",gd:"English U.K.",he:"Hebrew",hi:"Hindi",hr:"Croatian",hu:"Hungarian",id:"English U.S.",is:"Icelandic",it:"Italian","it-CH":"Swiss French",ja:"Japanese",ko:"Korean",lt:"Lithuanian",lv:"Latvian - Standard",mk:"Macedonian",mt:"Maltese",nl:"United States - International","nl-BE":"Dutch - Belgium",no:"Norwegian",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese - Brazil",rm:"Swiss German",ro:"Romanian",ru:"Russian",sk:"Slovak",sl:"Slovenian",sq:"Albanian",sr:"Serbian (Latin)",sv:"Swedish","sv-FI":"Swedish",th:"Thai",tn:"Setswana",tr:"Turkish",uk:"Ukrainian",ur:"Urdu",vi:"Vietnamese",xh:"English U.S.","zh-CN":"Chinese (Simplified)","zh-HK":"Chinese (Traditional)","zh-SG":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",zu:"English U.S."};f.KeyboardLayouts=a;f.ISOLanguagesLayoutsMap=b}),66);
__d("CloudGamingKeyboardLayoutMiddleware",["CloudGamingActionTypes","CloudGamingKeyboardLayoutAction","CloudGamingLogUtils","KeyboardLayouts","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null,k,l=function(a){var b=navigator.language||window.navigator.language;if(b){b=d("KeyboardLayouts").ISOLanguagesLayoutsMap[b];b!=null&&(a(d("CloudGamingKeyboardLayoutAction").sendKeyboardLayout(d("CloudGamingKeyboardLayoutAction").createKeyboardLayoutAction(b))),d("CloudGamingLogUtils").logEvent("SET_KEYBOARD_LAYOUT",h,k,j,i,new Map([["locale",b]])))}};a=function(a,b,e,f,g){return function(m,n){h=b;i=e;j=f;k=g;if(a==="GREDOS")switch(m.type){case c("CloudGamingActionTypes").GAME_READY:var o=c("WebStorage").getLocalStorageForRead();if(o!=null){o=o.getItem(d("CloudGamingKeyboardLayoutAction").KEYBOARD_LAYOUT_STORAGE_KEY)||"";o!==""&&(n(d("CloudGamingKeyboardLayoutAction").sendKeyboardLayout(d("CloudGamingKeyboardLayoutAction").createKeyboardLayoutAction(o))),d("CloudGamingLogUtils").logEvent("SET_KEYBOARD_LAYOUT",h,k,j,i,new Map([["locale",o]])))}else l(n);break;default:break}return m}};g.runAction=a}),98);
__d("CloudGamingLifecycleMiddleware",["CloudGamingActionTypes","CloudGamingConstants","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=2e3,i=null;a=function(a){c("clearTimeout")(i);return function(b,e){switch(b.type){case c("CloudGamingActionTypes").GAME_READY:a==null?void 0:a.send(d("CloudGamingConstants").CloudGamingMessageTypes.LOADING_PROGRESS,100);break;case"RESOURCE_CLOSED":a==null?void 0:a.send(d("CloudGamingConstants").CloudGamingMessageTypes.QUIT);break;case"SESSION_INIT_SETUP":c("clearTimeout")(i);break;case"SESSION_END_CLEANUP":i=c("setTimeout")(function(){e({code:1,type:c("CloudGamingActionTypes").DISCONNECT})},h);break}return b}};g.runAction=a}),98);
__d("CloudGamingMultiTouchMiddleware",["CloudGamingActionTypes","CloudGamingMultiTouchOverlayAction"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b,e,f){var g=f();switch(b.type){case c("CloudGamingActionTypes").SHOW_MULTI_TOUCH_OVERLAY:if(!a||g.multiTouchOverlay.showMultiTouchOverlay)return{actionType:b.type,gameLifecycle:"",type:"NOOP"};break;case c("CloudGamingActionTypes").HIDE_MULTI_TOUCH_OVERLAY:if(!a||!g.multiTouchOverlay.showMultiTouchOverlay)return{actionType:b.type,gameLifecycle:"",type:"NOOP"};var h=f().mouse,i=[];Object.keys(h).forEach(function(a){if(a==="indexPool")return;i.push({clientX:h[a].lastPosition.x,clientY:h[a].lastPosition.y,identifier:parseInt(a,10)})});g={changedTouches:i,target:null};e(d("CloudGamingMultiTouchOverlayAction").clearMultiTouchInput(g));break;case c("CloudGamingActionTypes").SET_POINTERS_COORDINATES:if(!a)return{actionType:b.type,gameLifecycle:"",type:"NOOP"};break;default:break}return b}};g.runAction=a}),98);
__d("CloudGamingNetworkQualityMiddleware",["CloudGamingActionTypes","CloudGamingClientFbts","CloudGamingLogUtils","CloudGamingWarningAlertAction","CloudGamingWarningConfigConfig","CloudGamingWebRTCStatsCache"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=60,j=null,k=null,l=null,m=null,n="",o=!1,p,q=6e5,r=0,s=null,t=0;a=0;var u=0,v=!1,w=!1;b=function(a,b,d,e,f){return function(g,h){switch(g.type){case c("CloudGamingActionTypes").GAME_READY:x();j=h;k=a;l=b;m=d;n=e;o=f;y();break;case"DISCONNECT":x();break;default:break}return g}};function x(){s!=null&&(window.clearInterval(s),s=null),k=null,l=null,m=null,n="",o=!1,q=6e5,r=0,t=0,a=0,u=0,v=!1,w=!1}function y(){c("CloudGamingWarningConfigConfig").warnings!=null&&s==null&&c("CloudGamingWarningConfigConfig").warnings.forEach(function(a){var b;a.warning_name==="NETWORK_QUALITY"&&((b=a.attributes)==null?void 0:b.triggers)!=null&&(p=a.attributes.triggers,q=(a.attributes.cooldown_sec!=null?a.attributes.cooldown_sec:600)*1e3,s=window.setInterval(function(){z()},h))})}function z(){var b;t++;var e=c("CloudGamingWebRTCStatsCache").getWebRTCStats(),f=!1;a=(b=e==null?void 0:(b=e.videoRecvSsrc)==null?void 0:b.freezeCount_180)!=null?b:-1;b=0;if(t%i===0&&a!==-1&&p!=null){var g=m===String(256281040558)||m===String(2220391788200892)||m===String(351299233827255)&&!o?"wwwVideoFreeze":"mobileVideoFreeze",h=p.find(function(a){return a.name===g});h&&a-u>=h.value&&(f=!0,b=a-u);u=a}h=!1;e=(e=e==null?void 0:(e=e.activeCandidatePair)==null?void 0:e.googRttMs)!=null?e:-1;if(e!==-1&&p!=null){var s=p.find(function(a){return a.name==="rtt"});s&&e>=s.value&&(h=!0)}s=!1;if((f||h)&&j!=null){f=new Map([["videoFreeze",b.toString()],["googRttMs",e.toString()]]);if(window.navigator.connection!=null){f.set("connectionType",(h=window.navigator.connection.type)!=null?h:"blank");f.set("connectionEffectiveType",(b=window.navigator.connection.effectiveType)!=null?b:"blank")}d("CloudGamingLogUtils").logEvent("NETWORK_QUALITY_NOTIFICATION",k,n,m,l,f);!v&&r<Date.now()&&(r=q+Date.now(),w=!0,s=!0,j(d("CloudGamingWarningAlertAction").createWarningMetricAction("NETWORK_QUALITY",0,d("CloudGamingClientFbts").CloudGamingClientFbts.LEARN_MORE_TEXT,A)))}s===!1&&w===!0&&j!=null&&(w=!1,j(d("CloudGamingWarningAlertAction").createCleanWarningMetricAction("NETWORK_QUALITY")))}function A(){j!=null&&j(d("CloudGamingWarningAlertAction").createShowWarningDialogAction("NETWORK_QUALITY",B))}function B(a){v=a,j!=null&&j(d("CloudGamingWarningAlertAction").createHideWarningDialogAction("NETWORK_QUALITY"))}g.runAction=b}),98);
__d("CloudGamingPauseResumeMiddleware",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){switch(a.type){case c("CloudGamingActionTypes").PAUSE_GAME:e.sendRTCEvent("lifecycle",{gamePaused:{timestamp:a.timestamp}});break;case c("CloudGamingActionTypes").RESUME_GAME:e.sendRTCEvent("lifecycle",{gameResumed:{timestamp:a.timestamp}});break;default:break}return a}g.runAction=a}),98);
__d("CloudGamingScreenCaptureMiddleware",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){return function(a){switch(a.type){case c("CloudGamingActionTypes").GAME_READY:break;case"DISCONNECT":break;default:break}return a}};g.runAction=a}),98);
__d("CloudGamingCheckErrorCode",[],(function(a,b,c,d,e,f){a=Object.freeze({CANNOT_SEE_CLOUD_GAME:"CANNOT_SEE_CLOUD_GAME",APP_NOT_FOUND:"APP_NOT_FOUND",PLATFORM_CHECK_ERROR:"PLATFORM_CHECK_ERROR",CAPACITY_ERROR:"CAPACITY_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR",SESSION_LIMIT_REACHED_ERROR:"SESSION_LIMIT_REACHED_ERROR",ACCESS_TOKEN_NOT_FOUND:"ACCESS_TOKEN_NOT_FOUND",ACCESS_TOKEN_NOT_VALID:"ACCESS_TOKEN_NOT_VALID",OAUTH_TOKEN_NOT_VALID:"OAUTH_TOKEN_NOT_VALID",VIEWER_CONTEXT_NOT_FOUND:"VIEWER_CONTEXT_NOT_FOUND",VIEWER_CONTEXT_NOT_AUTHENTICATED:"VIEWER_CONTEXT_NOT_AUTHENTICATED"});f["default"]=a}),66);
__d("CloudGamingConnectionErrorCode",[],(function(a,b,c,d,e,f){a=Object.freeze({GAME_NODE_IN_USE:"GAME_NODE_IN_USE",GAME_NODE_RESERVED:"GAME_NODE_RESERVED",GAME_NODE_TERMINATING:"GAME_NODE_TERMINATING",ACCESS_TOKEN_GEN_FAILED:"ACCESS_TOKEN_GEN_FAILED",KARMA_FILTER_LIMIT_REACHED:"KARMA_FILTER_LIMIT_REACHED",WWW_RECONNECT_XPLAT_NOT_ALLOWED:"WWW_RECONNECT_XPLAT_NOT_ALLOWED",WWW_LB_CONNECTION_FAILED:"WWW_LB_CONNECTION_FAILED",WWW_LB_CONNECTION_CORE_ERROR:"WWW_LB_CONNECTION_CORE_ERROR",WWW_CANARY_GAME_EXCEPTION:"WWW_CANARY_GAME_EXCEPTION",NO_AVAILABLE_REGIONS:"NO_AVAILABLE_REGIONS"});f["default"]=a}),66);
__d("CloudGamingPlatformCheckResult",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:"OK",USE_CHROME_DESKTOP:"CHROME_DESKTOP",USE_FACEBOOK_FOR_ANDROID:"FACEBOOK_FOR_ANDROID",USE_MOBILE_SAFARI:"MOBILE_SAFARI",UPGRADE_MOBILE_OS_VS:"UPGRADE_MOBILE_OS_VS",UPGRADE_ANDROID_WEBVIEW_VS:"UPGRADE_ANDROID_WEBVIEW_VS",UPGRADE_FACEBOOK_FOR_ANDROID:"UPGRADE_FACEBOOK_FOR_ANDROID",UPDATE_BROWSER:"UPDATE_BROWSER",UNSUPPORTED_BROWSER:"UNSUPPORTED_BROWSER",UNSUPPORTED_DEVICE:"UNSUPPORTED_DEVICE",UNSUPPORTED_OS:"UNSUPPORTED_OS"});f["default"]=a}),66);
__d("CloudGamingSilentRetryMiddleware",["CloudGamingActionTypes","CloudGamingCheckErrorCode","CloudGamingConnectionErrorCode","CloudGamingErrorTypes","CloudGamingLoadingEventRecorder","CloudGamingPlatformCheckResult","CloudGamingSilentRetryConfig","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState,j=0,k="LOADING",l=!1,m=!1,n=!1;e=function(a,b,d){j=b;k="LOADING";l=a==="GREDOS"&&c("gkx")("8298");m=a==="GREDOS"&&c("gkx")("3928");n=!1;return function(a,b,e){switch(a.type){case"CONNECTION_ERROR":e=e().gameLifecycle.gameLifecycleState;if(!n){n=!0;var f=p(a.payloadResponse,a.code);f!=null&&o(f)&&e!=="Inactivated"&&e!=="Timeout"?d(f,k,j+1):b(babelHelpers["extends"]({},a,{type:c("CloudGamingActionTypes").FATAL_ERROR}))}break;case"GAME_READY":j=-1;k="INGAME";break;default:break}return a}};var o=function(a){return(k==="LOADING"&&l||k==="INGAME"&&m)&&c("CloudGamingSilentRetryConfig").retriable_events.has(a)&&j<((a=(a=c("CloudGamingSilentRetryConfig").retriable_events.get(a))==null?void 0:a.max_retries)!=null?a:c("CloudGamingSilentRetryConfig").max_retries_default)},p=function(a,b){var e=babelHelpers["extends"]({},c("CloudGamingConnectionErrorCode"),c("CloudGamingCheckErrorCode"),c("CloudGamingPlatformCheckResult")),f=null;if(a!=null&&b==="CREATE_OFFER_FAILURE"){var g=["ACCESS_TOKEN_GEN_FAILED","GAME_NODE_IN_USE","GAME_NODE_TERMINATING","GAME_NODE_RESERVED","WWW_RECONNECT_XPLAT_NOT_ALLOWED","WWW_LB_CONNECTION_FAILED","WWW_LB_CONNECTION_CORE_ERROR","WWW_CANARY_GAME_EXCEPTION"];if(g.includes(a))f=a;else if(a.includes(d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNKNOWN))f=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNKNOWN_CREATE_OFFER_FAILURE;else{g=!0;Object.values(e).forEach(function(b){typeof b==="string"&&a.includes(b)&&(g=!1)});g&&(f=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNKNOWN_CREATE_OFFER_FAILURE)}}else b==="NO_HEARTBEATS_FROM_SERVER"?f=d("CloudGamingErrorTypes").CloudGamingErrorTypes.NO_HEARTBEATS_FROM_SERVER:b==="PEER_CONNECTION_CLOSED"?f=d("CloudGamingErrorTypes").CloudGamingErrorTypes.PEER_CONNECTION_CLOSED:f=d("CloudGamingErrorTypes").CloudGamingErrorTypes.UNKNOWN;return f};function a(a,b){var d=i(0),e=d[0],f=d[1];d=i(0);var g=d[0],j=d[1];d=i(0);var k=d[0],l=d[1];d=h(function(d,e,h){var i;i=(i=(i=c("CloudGamingSilentRetryConfig").retriable_events.get(d))==null?void 0:i.retry_delay)!=null?i:c("CloudGamingSilentRetryConfig").retry_delay_default;d={retry_delay:i.toString(),retry_ingame_count:g.toString(),retry_load_count:h.toString(),retry_reason:d,retry_total_count:(k+1).toString(),retry_type:e};f(h);e==="INGAME"&&(c("CloudGamingLoadingEventRecorder").createLoadingEventSummary(),d.retry_ingame_count=(g+1).toString(),a(),j(function(a){return a+1}));c("CloudGamingLoadingEventRecorder").clearEventsAfterJSPlayer();b("CLIENT_SILENT_RETRY","lo-pri",d);window.setTimeout(function(){l(function(a){return a+1})},i)},[g,k,b,a]);return{genSilentRetry:d,silentRetryInGameCount:g,silentRetryLoadCount:e,silentRetryTotalCount:k}}g.runAction=e;g.useSilentRetry=a}),98);
__d("CloudGamingUpdateFB4ANotificationMiddleware",["CloudGamingActionTypes","CloudGamingEnvironmentRequirementsConfig","CloudGamingLogUtils","CloudGamingWarningAlertAction","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,d,e,f,g){return function(i,j){switch(i.type){case c("CloudGamingActionTypes").GAME_READY:e===String(350685531728)&&f!=null&&h(j,a,b,d,e,f,g);break;default:break}return i}};function h(a,b,d,e,f,g,h){g=j(g);if(b==="GREDOS"){b=(b=c("CloudGamingEnvironmentRequirementsConfig").latest_fb4a_mayor_app_version_gredos_native_client_blocked)!=null?b:0}else{var k;b=(k=c("CloudGamingEnvironmentRequirementsConfig").latest_fb4a_mayor_app_version_aperture_native_client_blocked)!=null?k:0}g<=b&&i(a,d,e,f,h,g,b)}function i(a,b,e,f,g,h,i){d("CloudGamingLogUtils").logEvent("UPDATE_FB4A_NOTIFICATION",b,g,f,e,new Map([["currentVersion",h.toString()],["latestBlockedVersion",i.toString()]])),a(d("CloudGamingWarningAlertAction").createWarningMetricAction("UPDATE_FB4A",1)),c("setTimeout")(function(){a(d("CloudGamingWarningAlertAction").createCleanWarningMetricAction("UPDATE_FB4A"))},100)}function j(a){a=a.split(".");return parseInt(a[0],10)}g.runAction=a}),98);
__d("CloudGamingUpdateInputControllerMiddleware",["CloudGamingActionTypes","CloudGamingPlayerUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b,e,f,g){switch(b.type){case c("CloudGamingActionTypes").CONTAINER_RESIZE:g.sendRTCEvent("lifecycle",{updateInputController:{browserOrientation:b.browserOrientation}});a!==d("CloudGamingPlayerUtils").CloudPlayerDynamicResolutionEnum.None&&g.sendRTCEvent("lifecycle",{sdkMessage:{data:'{ "requestType" : "DataToGame", "screenResize": { "height": '+b.viewportHeight+', "width": '+b.viewportWidth+" } }"}});break;default:break}return b}};g.runAction=a}),98);
__d("CloudHorizonMobileTopBar.react",["ix","ApertureConstants","CloudHorizonMobileTopBarQuery.graphql","CometImage.react","HorizonWorldsUtils","RelayHooks","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useMemo,l=i!==void 0?i:i=b("CloudHorizonMobileTopBarQuery.graphql");function a(a){a=a.appID;a=d("RelayHooks").useLazyLoadQuery(l,{appID:a});var b=document.getElementById(d("ApertureConstants").videoComponentID),e=k(function(){return d("HorizonWorldsUtils").supportsMobileFullscreen(b)},[b]);return!e||(a==null?void 0:(e=a.application)==null?void 0:(a=e.gameInfo)==null?void 0:a.allowMobileFullscreen)!==!0?null:j.jsx("div",{className:"x6s0dn4 x78zum5 xds687c x15zctf7 xc9qbxq xixxii4 x13vifvy x1vjfegm",children:j.jsx("button",{className:"x6s0dn4 xjbqb8w x76ihet xwmqs3e x112ta8 xxxdfa6 x1heor9g x1ypdohk x78zum5 xxk0z11 xl56j7k xq8finb x12uuly6 xexx8yu x4uap5 x18d9i69 xkhd6sd xvy4d1p",onClick:function(){b==null?void 0:b.requestFullscreen()},children:j.jsx(c("CometImage.react"),{src:h("1807218")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingContainer.react",["CancelInvalidGameLifecycleActionMiddleware","CloudGaming2DBridgeMiddleware","CloudGaming2DBridgeOverlay.react","CloudGamingAllowServerDebug","CloudGamingApertureLoggingMiddleware","CloudGamingApertureTimeoutMiddleware","CloudGamingApertureUtils","CloudGamingAutomatedInputMiddleware","CloudGamingCloseNotificationMiddleware","CloudGamingConstants","CloudGamingContainer_game.graphql","CloudGamingContentWrapper.react","CloudGamingContextProvider.react","CloudGamingGameStateMiddleware","CloudGamingGamepadMiddleware","CloudGamingInputFeedbackMiddleware","CloudGamingKeyboardLayoutMiddleware","CloudGamingLifecycleMiddleware","CloudGamingLocalCursorMiddleware","CloudGamingMultiTouchMiddleware","CloudGamingNetworkQualityMiddleware","CloudGamingPauseResumeMiddleware","CloudGamingPlayerUtils","CloudGamingRTCMiddleware","CloudGamingScreenCaptureMiddleware","CloudGamingSilentRetryMiddleware","CloudGamingStreamingConfig","CloudGamingUpdateFB4ANotificationMiddleware","CloudGamingUpdateInputControllerMiddleware","CloudHorizonMobileTopBar.react","CometRelay","cr:2844","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useRef,k,l,m=h!==void 0?h:h=b("CloudGamingContainer_game.graphql");function a(a){var e=a.activeWarningTimeout,f=a.appID,g=a.appName,h=a.clientAppID,n=a.clientAppVersion,o=a.cloudBinaryID,p=a.cloudGameID,q=a.enableFullyLockedMouse,r=a.enableLockedMouse,s=a.enableMultiTouchOverlay,t=a.enableWarningAlerts,u=a.entryPoint,v=a.eventBus,w=a.extraActions,x=a.game,y=a.gameOrientation,z=a.genCloudErrorMessage,A=a.genNetworkQualityDialog,B=a.genSilentRetry,C=a.graphqlGKResults,D=a.isCometOnMobile,E=a.isInsideIframe,F=a.negotiateSDPMutation,G=a.overrideLoadingState,H=a.provider,I=a.sessionID,J=a.showSpinner,K=a.silentRetryInGameCount,L=a.silentRetryLoadCount;a=a.useResourceSize;var M=d("CometRelay").useFragment(m,x),N=j(null),O=d("CloudGamingStreamingConfig").useH264(d("CloudGamingApertureUtils").isMobileApp(h))?"h264":"default",P="recvonly",Q=!0,R=H==="GREDOS";x=Object.values(d("CloudGamingConstants").HorizonAppIDs).includes(f);c("useStable")(function(){var a;C&&((a=(a=C.find(function(a){return a.name==="gk_cloud_gaming_2d_bridge_input"}))==null?void 0:a.enabled)!=null?a:!1)&&(k=b("CloudGaming2DBridgeOverlay.react"),l=b("CloudGaming2DBridgeMiddleware"))});var S=c("useStable")(function(){var a;return w.concat([d("CloudGamingLifecycleMiddleware").runAction(v),d("CloudGamingRTCMiddleware").runAction(p,v,f,{h264Required:R,h264SpsPpsInKeyframe:Q,negotiateSDPMutation:F,streamMode:O,videoDirection:P}),d("CloudGamingMultiTouchMiddleware").runAction(s),d("CancelInvalidGameLifecycleActionMiddleware").runAction,d("CloudGamingApertureLoggingMiddleware").runAction(f,I,h,n,p,o,u,K,L),d("CloudGamingApertureTimeoutMiddleware").runAction(e,c("CloudGamingAllowServerDebug")()||(M==null?void 0:M.automatedInputConfig)!=null),d("CloudGamingGamepadMiddleware").runAction(H),d("CloudGamingPauseResumeMiddleware").runAction,d("CloudGamingInputFeedbackMiddleware").runAction(f,I,h,n,p),d("CloudGamingLocalCursorMiddleware").runAction(H,f,I,h,p,(a=M==null?void 0:M.sendEscOnFocusLost)!=null?a:!1),d("CloudGamingGameStateMiddleware").runAction(f,I,h,p),d("CloudGamingCloseNotificationMiddleware").runAction(f,I,h,p),d("CloudGamingUpdateInputControllerMiddleware").runAction(d("CloudGamingPlayerUtils").getDynamicResolutionType(H,p,C)),d("CloudGamingNetworkQualityMiddleware").runAction(f,I,h,p,D),d("CloudGamingScreenCaptureMiddleware").runAction(f,I),d("CloudGamingUpdateFB4ANotificationMiddleware").runAction(H,f,I,h,n,p),d("CloudGamingKeyboardLayoutMiddleware").runAction(H,f,I,h,p),d("CloudGamingSilentRetryMiddleware").runAction(H,L,B),d("CloudGamingAutomatedInputMiddleware").runAction(M==null?void 0:M.automatedInputConfig)].concat(l?[l.runAction(p,N)]:[],b("cr:2844")?[b("cr:2844").runAction(f,I,h,o,p)]:[]))});return i.jsxs(c("CloudGamingContextProvider.react"),{extraActions:S,provider:H,children:[k?i.jsx(k,{cloudGameID:p,ref:N}):null,x&&f!=null?i.jsx(c("CloudHorizonMobileTopBar.react"),{appID:f}):null,i.jsx(c("CloudGamingContentWrapper.react"),{appID:f,appName:g,clientAppID:h,clientAppVersion:n,cloudBinaryID:o,cloudGameID:p,enableCGFullyLockedMouse:q,enableCGLockedMouse:r,enableCGMultiTouchOverlay:s,enableCGWarningAlerts:t,entryPoint:u,eventBus:v,gameOrientation:y,genCloudErrorMessage:z,genNetworkQualityDialog:A,graphqlGKResults:C,isCometOnMobile:D,isInsideIframe:E,overrideLoadingState:G,provider:H,sessionID:I,showBackground:h!==null&&h!==String(256281040558),showSpinner:J,useResourceSize:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingErrorMessage.react",["CloudGamingConstants","CloudGamingSessionEventFalcoEvent","CometColumn.react","CometColumnItem.react","TetraButton.react","TetraText.react","fbinstant/releases/samus/index.samus","fbinstant/releases/samus/internalStates.samus","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.appID,e=a.cloudGameID,f=a.errorType,g=a.eventBus,j=a.isGameOver,k=a.primaryButtonLabel,l=a.primaryButtonOnClick,m=a.primaryText,n=a.secondaryButtonLabel,o=a.secondaryButtonOnClick,p=a.secondaryText,q=a.sessionID;i(function(){j&&(g==null?void 0:g.send(d("CloudGamingConstants").CloudGamingMessageTypes.END_SESSION),c("promiseDone")(d("fbinstant/releases/samus/index.samus").initializeAsync().then(function(){return d("fbinstant/releases/samus/index.samus").startGameAsync()}).then(function(){return c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(d("CloudGamingConstants").CloudGamingMessageTypes.END_SESSION)})))},[j,g]);i(function(){c("CloudGamingSessionEventFalcoEvent").log(function(){return{app_id:b,cloud_game_id_override:e,event:"CLIENT_ERROR_SCREEN_DISPLAYED",extra_data:{errorType:f,isGameOver:j?"true":"false",native_player:"false",primaryText:m.toString(),secondaryText:p!=null?p.toString():"",untrusted_client_timestamp_ms:Date.now().toString()},session_id:q,source:"JS"}})},[b,e,f,j,m,p,q]);return h.jsxs("div",{className:"x6s0dn4 xal61yo x78zum5 xdt5ytf xozqiw3 x5yr21d xl56j7k x10l6tqk x17qophe x13vifvy xh8yej3","data-testid":void 0,children:[h.jsx("div",{className:"xwxc41k x1o0k56v x4ge4z1",children:h.jsx(c("TetraText.react"),{align:"center",color:"primaryOnMedia",type:"entityHeaderHeadline1",children:m})}),p!=null?h.jsx("div",{className:"xwxc41k x65xoit",children:h.jsx(c("TetraText.react"),{align:"center",color:"primaryOnMedia",type:"body2",children:p})}):null,h.jsx("div",{className:"x1cnzs8",children:h.jsxs(c("CometColumn.react"),{expanding:!0,spacing:16,children:[k!=null&&l!=null?h.jsx(c("CometColumnItem.react"),{children:h.jsx(c("TetraButton.react"),{label:k,onPress:l,size:"large",type:"primary"})}):null,n!=null&&o!=null?h.jsx(c("CometColumnItem.react"),{children:h.jsx(c("TetraButton.react"),{label:n,onPress:o,size:"large",type:k!=null&&l!=null?"secondary":"primary"})}):null]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingSDKDebug",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){switch(c){case"VERBOSE":break;case"DEBUG":break;case"INFO":break;case"WARNING":break;case"ERROR":break;case"FATAL":break;default:break}}f.debugPrint=a}),66);
__d("CloudGamingSDKInitAction",["CloudGamingActionTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return{type:c("CloudGamingActionTypes").SDK_INITIALIZED}};g.createSDKInitAction=a}),98);
__d("CloudPlayerPaymentsAsync",["CloudGamingConstants","err","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(!c("isTruthy")(b)||b.developerPayload!=null&&typeof b.developerPayload!=="string"||typeof b.productID!=="string")throw c("err")("Payments purchase - Invalid params");return a.sendAsync(d("CloudGamingConstants").CloudAsyncMessageTypes.PAYMENTS_PURCHASE_ASYNC,{config:b}).then(function(a){if(c("isTruthy")(a)&&typeof a.productID==="string"&&typeof a.paymentID==="string"&&typeof a.purchaseTime==="number")return{paymentID:a.paymentID,productID:a.productID,purchaseTime:a.purchaseTime};else throw c("err")("Payments purchase - Result must be of type Purchase")})["catch"](function(a){throw a})}g.cloudPurchaseAsync=a}),98);
__d("ExternalLinkAllowedDomains",["CloudGamingSessionEventFalcoEvent","CometRelay","ConstUriUtils","ExternalLinkAllowedDomainsQuery.graphql","HorizonWebAllowedDomainsConfig","RelayFBEnvironment","gkx","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("ExternalLinkAllowedDomainsQuery.graphql"),j=null,k=function(a,b){var c=!1,e=b.toLowerCase();a.forEach(function(a){if(c)return;a=d("ConstUriUtils").getUri(a);a!=null&&a.domain.toLowerCase()===e&&(c=!0)});return c};function a(){j=null}function e(a,e,f,g,h){var n,o,p,q,r,s,t;return b("regeneratorRuntime").async(function(u){while(1)switch(u.prev=u.next){case 0:n=d("ConstUriUtils").getUri(h);if(!(n==null||!n.isSecure())){u.next=6;break}l("INVALID_URL",a,e,f,g,h);return u.abrupt("return","INVALID_URL");case 6:if(!(j==null)){u.next=13;break}s=d("CometRelay").fetchQuery(c("RelayFBEnvironment"),i,{appID:a}).toPromise();u.next=10;return b("regeneratorRuntime").awrap(s);case 10:t=u.sent,j=t==null?void 0:(o=t.viewer)==null?void 0:(p=o.instant_game_info_with_support_check)==null?void 0:(q=p.application)==null?void 0:(r=q.instant_game_info)==null?void 0:r.allowed_domains_for_external_links.slice(),c("gkx")("7746")||j==null&&(j=m(f));case 13:if(!(j!=null&&j.length>0)){u.next=17;break}if(!k(j,n.domain)){u.next=17;break}l("OK",a,e,f,g,h);return u.abrupt("return","OK");case 17:l("URL_NOT_ALLOWED",a,e,f,g,h);return u.abrupt("return","URL_NOT_ALLOWED");case 19:case"end":return u.stop()}},null,this)}function l(a,b,d,e,f,g){var h=Date.now().toString(),i="EXTERNAL_LINK_URL_ALLOWED";switch(a){case"INVALID_URL":i="EXTERNAL_LINK_INVALID_URL";break;case"URL_NOT_ALLOWED":i="EXTERNAL_LINK_URL_NOT_ALLOWED";break}var j={url:g};c("CloudGamingSessionEventFalcoEvent").log(function(){return{app_id:b,client_app_id:e,cloud_game_id_override:f,event:i,extra_data:j,session_id:d,time_duration_ms:h}})}function m(a){if(a===String(351299233827255))return["https://www.facebook.com","https://facebook.com","https://m.facebook.com","https://www.instagram.com","https://instagram.com","https://www.youtube.com","https://youtube.com","https://www.youtu.be","https://youtu.be","https://www.twitter.com","https://twitter.com","https://www.google.com","https://google.com","https://www.reddit.com","https://reddit.com","https://support.oculus.com/"]}function f(a,c,e,f,g){var h=d("ConstUriUtils").getUri(g);if(h==null||!h.isSecure()){l("INVALID_URL",a,c,e,f,g);return"INVALID_URL"}else{if(j==null){var i=b("HorizonWebAllowedDomainsConfig");j=i.domains}if(j!=null&&j.length>0&&k(j,h.domain)){l("OK",a,c,e,f,g);return"OK"}}l("URL_NOT_ALLOWED",a,c,e,f,g);return"URL_NOT_ALLOWED"}g.initAllowedDomainChecker=a;g.checkAllowedDomain=e;g.checkHorizonAllowedDomain=f}),98);
__d("ExternalLinkRateLimiter",["CloudGamingSessionEventFalcoEvent","GamesServiceOpenExternalUrlConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i=null;function a(a,b,d,e){i||(i=window.setTimeout(function(){h=0,window.clearTimeout(i),i=null},1e3));if(h<c("GamesServiceOpenExternalUrlConfig").rate_limit_per_second){h++;j(!0,a,b,d,e);return!0}j(!1,a,b,d,e);return!1}function j(a,b,d,e,f){var g=Date.now().toString(),h=a?"EXTERNAL_LINK_RATE_LIMITER_OK":"EXTERNAL_LINK_RATE_LIMITER_BLOCK";c("CloudGamingSessionEventFalcoEvent").log(function(){return{app_id:b,client_app_id:e,cloud_game_id_override:f,event:h,session_id:d,time_duration_ms:g}})}g.rateLimiterBump=a}),98);
__d("XCloudGamingKillswitchTestController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/games/cg/killswitch_test/",{})}),null);
__d("CloudGamingSDKMessageHandler",["errorCode","AsyncRequest","CloudGamingApertureUtils","CloudGamingConstants","CloudGamingCopyPasteConfigConfig","CloudGamingEndSummary","CloudGamingGredosTouchAction","CloudGamingLoadingEventRecorder","CloudGamingLogUtils","CloudGamingMessageReceiver","CloudGamingSDKDebug","CloudGamingSDKInitAction","CloudGamingSessionEventFalcoEvent","CloudGamingVirtualKeyboard.react","CloudGamingWarningAlertAction","CloudGamingWindowsGamesSpecialConfigurationConfig","CloudPlayerPaymentsAsync","ExternalLinkAllowedDomains","ExternalLinkRateLimiter","QueueDataStructure","XCloudGamingKillswitchTestController","fbinstant/common/genericDialogs","fbinstant/releases/samus/index.samus","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i={AD_NOT_LOADED:3112001,CLIENT_UNSUPPORTED_OPERATION:2581001,CLIPBOARD_CANNT_READ:3669001,CLIPBOARD_CANNT_WRITE:3669002,CLIPBOARD_NOT_SUPPORTED:3669003,INVALID_OPERATION:2581005,INVALID_PARAM:2581006,INVALID_URL:3447002,NETWORK_FAILURE:2581003,PAYMENTS_NOT_INITIALIZED:2581002,RATE_LIMITED:3447001,URL_NOT_ALLOWED:3447003,USER_INPUT:2581004},j=3e3;a=function(){function a(a,b,e,f,g,h,i,j,k){i===void 0&&(i=null);j===void 0&&(j=!1);this.$1={};this.$2=null;this.$3=null;this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$8=!1;this.$9=null;this.$10=!1;this.$12=!1;this.$2=a;this.$3=b;this.$4=e;this.$5=f;this.$6=g;this.$7=h;this.$11=i;this.$8=j;this.$12=(f=k!=null&&((b=k.find(function(a){return a.name==="gk_stress_test_travel_sdk"}))==null?void 0:b.enabled))!=null?f:!1;this.$10=Object.values(d("CloudGamingConstants").HorizonAppIDs).includes(a);d("ExternalLinkAllowedDomains").initAllowedDomainChecker();this.$13();if(this.$12||c("gkx")("7162")){g=document.getElementById("sdkData");if(!g){g=document.createElement("div");g.id="sdkData";g.hidden=!0;(h=document.body)==null?void 0:h.appendChild(g);i=document.createElement("div");i.id="sessionId";i.hidden=!0;(j=g)==null?void 0:j.appendChild(i);i.innerText=(k=e)!=null?k:""}}}var b=a.prototype;b.deinit=function(){this.$9!=null&&(this.$9.clean(),this.$9=null)};b.handle=function(a,b,e){var f,g=this;this.$14(a);var h=null,o=!1,p={},q={},r={};switch(a.type){case"getPlayerName":b({name:"Player"},a.requestID);break;case"setPlayerData":h=d("fbinstant/releases/samus/index.samus").player.setDataAsync((f={},f[a.key]=a.value,f)).then(function(){b({},a.requestID)});break;case"getPlayerData":h=d("fbinstant/releases/samus/index.samus").player.getDataAsync([a.key]).then(function(c){b({data:c[a.key]},a.requestID)});break;case"getCatalog":h=d("fbinstant/releases/samus/index.samus").payments.getCatalogAsync().then(function(c){b(c,a.requestID)});break;case"getPurchases":h=d("fbinstant/releases/samus/index.samus").payments.getPurchasesAsync().then(function(c){b(c,a.requestID)});break;case"purchase":Object.values(d("CloudGamingConstants").HorizonAppIDs).includes(this.$2)&&this.$11!=null?h=d("CloudPlayerPaymentsAsync").cloudPurchaseAsync(this.$11.asyncMessageSender,{developerPayload:a.developerPayload,productID:a.productID}).then(function(c){b(c,a.requestID)}):h=d("fbinstant/releases/samus/index.samus").payments.purchaseAsync({developerPayload:a.developerPayload,productID:a.productID}).then(function(c){b(c,a.requestID)});break;case"consumePurchase":h=d("fbinstant/releases/samus/index.samus").payments.consumePurchaseAsync(a.purchaseToken).then(function(){b({},a.requestID)});break;case"onReady":var s="payments_onReady";c("fbinstant/releases/samus/logger.samus").logBeginAsync(s);if(!m(["payments.onReady","payments.getCatalogAsync","payments.consumePurchaseAsync","payments.purchaseAsync","payments.getPurchasesAsync"],e,a.requestID)){c("fbinstant/releases/samus/logger.samus").logReject(s,"PAYMENTS_NOT_ALLOWED");break}d("fbinstant/releases/samus/index.samus").payments.onReady(function(){o=!0,b({},a.requestID),c("fbinstant/releases/samus/logger.samus").logResolve(s)});c("setTimeout")(function(){o||(e({code:i.PAYMENTS_NOT_INITIALIZED,message:"onReady failed. Application cannot accept payments.",type:"PAYMENTS_NOT_INITIALIZED"},a.requestID),c("fbinstant/releases/samus/logger.samus").logReject(s,"PAYMENTS_NOT_INITIALIZED"))},j);break;case"getSubscribableCatalog":h=d("fbinstant/releases/samus/index.samus").payments.getSubscribableCatalogAsync().then(function(c){b(c,a.requestID)});break;case"purchaseSubscription":h=d("fbinstant/releases/samus/index.samus").payments.purchaseSubscriptionAsync(a.productID).then(function(c){b(c,a.requestID)});break;case"getSubscriptions":h=d("fbinstant/releases/samus/index.samus").payments.getSubscriptionsAsync().then(function(c){b(c,a.requestID)});break;case"cancelSubscription":h=d("fbinstant/releases/samus/index.samus").payments.cancelSubscriptionAsync(a.purchaseToken).then(function(){b({},a.requestID)});break;case"loadInterstitialAd":if(!m(["getInterstitialAdAsync"],e,a.requestID))break;var t=a.placementID;h=d("fbinstant/releases/samus/index.samus").getInterstitialAdAsync(t).then(function(a){return g.$15(a,t)}).then(function(){b({},a.requestID)});break;case"loadRewardedVideo":if(!m(["getRewardedVideoAsync"],e,a.requestID))break;var u=a.placementID;h=d("fbinstant/releases/samus/index.samus").getRewardedVideoAsync(u).then(function(a){return g.$15(a,u)}).then(function(){b({},a.requestID)});break;case"showInterstitialAd":case"showRewardedVideo":f=(f=this.$1[a.placementID])==null?void 0:f.dequeue();if(f==null){e({code:i.AD_NOT_LOADED,message:"Ad instance not loaded",type:"AD_NOT_LOADED"},a.requestID);break}h=f.showAsync().then(function(){b({},a.requestID)});break;case"share":h=d("fbinstant/releases/samus/index.samus").shareAsync({data:a.data,image:a.image,intent:a.intent,pollID:a.pollID,switchContext:a.switchContext,text:a.text}).then(function(){b({},a.requestID)});break;case"getConnectedPlayers":h=d("fbinstant/releases/samus/index.samus").player.getConnectedPlayersAsync().then(function(c){b(c,a.requestID)});break;case"canCreateShortcut":h=d("fbinstant/releases/samus/index.samus").canCreateShortcutAsync().then(function(c){return b({canCreateShortcut:c},a.requestID)});break;case"createShortcut":h=d("fbinstant/releases/samus/index.samus").createShortcutAsync().then(function(){return b({},a.requestID)});break;case"canGetLiveStreams":h=d("fbinstant/releases/samus/index.samus").community.canGetLiveStreamsAsync().then(function(c){return b({result:c},a.requestID)});break;case"canFollowOfficialPage":h=d("fbinstant/releases/samus/index.samus").community.canFollowOfficialPageAsync().then(function(c){return b({result:c},a.requestID)});break;case"canJoinOfficialGroup":h=d("fbinstant/releases/samus/index.samus").community.canJoinOfficialGroupAsync().then(function(c){return b({result:c},a.requestID)});break;case"getLiveStreams":p.maxCount=parseInt(a.maxCount,10);h=d("fbinstant/releases/samus/index.samus").community.getLiveStreamsAsync(p).then(function(c){b({liveStreams:c},a.requestID)});break;case"liveStreamsOverlay":h=d("fbinstant/releases/samus/index.samus").community.liveStreamsOverlayAsync().then(function(){return b({},a.requestID)});break;case"followOfficialPage":h=d("fbinstant/releases/samus/index.samus").community.followOfficialPageAsync().then(function(){return b({},a.requestID)});break;case"joinOfficialGroup":h=d("fbinstant/releases/samus/index.samus").community.joinOfficialGroupAsync().then(function(){return b({},a.requestID)});break;case"contextGetID":b({id:d("fbinstant/releases/samus/index.samus").context.getID()},a.requestID);break;case"contextIsSizeBetween":b({is_size_between:d("fbinstant/releases/samus/index.samus").context.isSizeBetween(a.minSize,a.maxSize)},a.requestID);break;case"contextSwitch":h=d("fbinstant/releases/samus/index.samus").context.switchAsync(a.id).then(function(){return b({id:d("fbinstant/releases/samus/index.samus").context.getID()},a.requestID)});break;case"contextChoose":h=d("fbinstant/releases/samus/index.samus").context.chooseAsync({filters:a.filters!=null?JSON.parse(a.filters):[],maxSize:a.maxSize!=null?parseInt(a.maxSize,10):null,minSize:a.minSize!=null?parseInt(a.minSize,10):null}).then(function(){return b({id:d("fbinstant/releases/samus/index.samus").context.getID()},a.requestID)});break;case"contextCreate":h=a.id!=null?d("fbinstant/releases/samus/index.samus").context.createAsync(k(a.id)).then(function(){return b({id:d("fbinstant/releases/samus/index.samus").context.getID()},a.requestID)}):d("fbinstant/releases/samus/index.samus").context.createAsync().then(function(){return b({id:d("fbinstant/releases/samus/index.samus").context.getID()},a.requestID)});break;case"contextGetPlayers":h=d("fbinstant/releases/samus/index.samus").context.getPlayersAsync().then(function(c){return b(c,a.requestID)});break;case"postSessionScore":d("fbinstant/releases/samus/index.samus").postSessionScore(parseInt(a.score,10));b({},a.requestID);break;case"postSessionScoreAsync":h=d("fbinstant/releases/samus/index.samus").postSessionScoreAsync(parseInt(a.score,10)).then(function(){b({},a.requestID)});break;case"tournamentCreateAsync":q.initialScore=parseInt(a.initialScore,10);q.config={};a.title!=null&&(q.config.title=a.title);a.image!=null&&(q.config.image=a.image);a.sortOrder!=null&&(q.config.sortOrder=a.sortOrder);a.scoreFormat!=null&&(q.config.scoreFormat=a.scoreFormat);a.data!=null&&(q.data=JSON.parse(a.data));a.endTime!=null&&(q.config.endTime=JSON.parse(a.endTime));h=d("fbinstant/releases/samus/index.samus").tournament.createAsync(q).then(function(c){b(n(c),a.requestID)});break;case"tournamentShareAsync":r.score=parseInt(a.score,10);a.data!=null&&(r.data=JSON.parse(a.data));h=d("fbinstant/releases/samus/index.samus").tournament.shareAsync(r).then(function(){return b({},a.requestID)});break;case"tournamentPostScoreAsync":h=d("fbinstant/releases/samus/index.samus").tournament.postScoreAsync(parseInt(a.score,10)).then(function(){return b({},a.requestID)});break;case"getTournamentAsync":h=d("fbinstant/releases/samus/index.samus").getTournamentAsync().then(function(c){return b(n(c),a.requestID)});break;case"update":h=d("fbinstant/releases/samus/index.samus").updateAsync({action:a.action,image:a.image,template:a.template,text:a.text}).then(function(){return b({},a.requestID)});break;case"openGamingServicesDeepLink":c("fbinstant/releases/samus/logger.samus").logAPICall("CloudGSAPI_"+a.deepLink);h=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs")[a.deepLink],{id:a.id,travelID:(f=a.travelID)!=null?f:"0"}).then(function(){b({},a.requestID)});break;case"openGameRequestsDialog":c("fbinstant/releases/samus/logger.samus").logAPICall("CloudGSAPI.Game_Request");h=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").GAME_REQUESTS,{actionType:a.actionType,app_id:a.appID,cta:a.cta,data:a.data,message:a.message,options:a.options,title:a.title,to:a.to}).then(function(c){b(c,a.requestID)});break;case"softkeyboard":a.action==="open"?d("CloudGamingVirtualKeyboard.react").openKeyboardDelayed(this.$3)?(d("CloudGamingVirtualKeyboard.react").setOpenSoftKeyboardRequested(this.$7),d("CloudGamingGredosTouchAction").clearTouches(this.$7),d("CloudGamingLogUtils").logEvent("TOUCH_SCREEN_TO_OPEN_KEYBOARD_NOTIFICATION",this.$2,this.$5!=null?this.$5:"",this.$3,this.$4)):(d("CloudGamingVirtualKeyboard.react").showVirtualKeyboard(!0),d("CloudGamingLogUtils").logEvent("SOFT_KEYBOARD_SHOWN",this.$2,this.$5!=null?this.$5:"",this.$3,this.$4)):d("CloudGamingVirtualKeyboard.react").showVirtualKeyboard(!1);b({},a.requestID);break;case"clientData":var v=a.data;if(v!=null){if(v.editAction!=null){(p=this.$11)==null?void 0:p.send(d("CloudGamingConstants").CloudGamingMessageTypes.RECEIVED_EDIT_ACTION_FROM_GAME,v.editAction)}else if(v.reconnectInfo!=null){if(v.reconnectInfo.reconnectTravel==="False"){(q=this.$11)==null?void 0:q.send(d("CloudGamingConstants").CloudGamingMessageTypes.HORIZON_RECONNECT_WITHOUT_TRAVEL)}}else if(v.updateWorldInfo!=null){if(v.updateWorldInfo.worldID==null){this.$16("HORIZON_FIRST_PERSONAL_SPACE_COMPLETE",v.isPrewarm);(r=this.$11)==null?void 0:r.send(d("CloudGamingConstants").CloudGamingMessageTypes.HORIZON_FIRST_PERSONAL_SPACE_COMPLETE)}if(v.updateWorldInfo.worldID!=null){f=v.updateWorldInfo.navigationStatus;if(f!=null)switch(f){case"INITIAL":this.$17("HORIZON_FIRST_TRAVEL_START",v.isPrewarm);break;case"COMPLETE":this.$17("HORIZON_FIRST_TRAVEL_COMPLETE",v.isPrewarm,d("CloudGamingConstants").CloudGamingMessageTypes.HORIZON_FIRST_TRAVEL_COMPLETE);this.$18(v.updateWorldInfo);break;default:break}else this.$17("HORIZON_FIRST_TRAVEL_COMPLETE",v.isPrewarm,d("CloudGamingConstants").CloudGamingMessageTypes.HORIZON_FIRST_TRAVEL_COMPLETE),this.$18(v.updateWorldInfo)}p=this.$19(v.updateWorldInfo.eventID,v.updateWorldInfo.instanceID,v.updateWorldInfo.snapshotID,v.updateWorldInfo.worldID);(q=this.$11)==null?void 0:q.send(d("CloudGamingConstants").CloudGamingMessageTypes.GAME_TRAVEL,p)}else if(v.readyToTravel!=null)this.$16("HORIZON_READY_TO_TRAVEL",v.isPrewarm);else if(v.reconnectInfo!=null)if(v.reconnectInfo.reconnectTravel==="true"){this.$16("HORIZON_RECONNECT_WITH_TRAVEL",v.isPrewarm);var w=Date.now().toString();c("CloudGamingSessionEventFalcoEvent").log(function(){return{app_id:g.$2,client_app_id:g.$3,cloud_game_id_override:g.$5,event:"HORIZON_RECONNECT_WITH_TRAVEL",extra_data:{reconnectTravel:v.reconnectInfo.reconnectTravel,travelRoute:v.reconnectInfo.travelRoute},session_id:g.$4,source:"JS",time_duration_ms:w}})}else this.$16("HORIZON_RECONNECT_WITHOUT_TRAVEL",v.isPrewarm);else if(v.muteMic!=null)if(v.muteMic==="true"){c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(d("CloudGamingConstants").CloudGamingMessageTypes.MUTE_MIC_BUTTON);(r=this.$11)==null?void 0:r.send(d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_MIC)}else{c("fbinstant/releases/samus/internalStates.samus").getMessageSender().send(d("CloudGamingConstants").CloudGamingMessageTypes.UNMUTE_MIC_BUTTON);(f=this.$11)==null?void 0:f.send(d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_MIC)}else if(v.openShareSheet!=null)navigator.share&&navigator.share({text:v.openShareSheet.text,title:v.openShareSheet.title,url:v.openShareSheet.url}).then(function(){})["catch"](function(a){});else if(v.player2DBridgeInputToggle!=null)v.player2DBridgeInputToggle==="true"?window.postMessage({type:d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_2D_BRIDGE},"/"):window.postMessage({type:d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_2D_BRIDGE},"/");else if(v.redirectAction!=null){if(v.redirectAction.action==="exit"){(q=this.$11)==null?void 0:q.send(d("CloudGamingConstants").CloudGamingMessageTypes.EXIT_ACTION,v.redirectAction)}}else if(v.sdkInitialized!=null){v.sdkInitialized.isPrewarmed=v.isPrewarm;(p=this.$11)==null?void 0:p.send(d("CloudGamingConstants").CloudGamingMessageTypes.SDK_INITIALIZED,v.sdkInitialized);this.$7!=null&&this.$7(d("CloudGamingSDKInitAction").createSDKInitAction())}else if(v.shareWorld!=null){(r=this.$11)==null?void 0:r.send(d("CloudGamingConstants").CloudGamingMessageTypes.SHARE_WORLD,v.shareWorld)}b({},a.requestID);break}break;case"openExternalLink":b({},a.requestID);if(!d("ExternalLinkRateLimiter").rateLimiterBump(this.$2,this.$4,this.$3,this.$5)){e({code:i.RATE_LIMITED,message:"The game has exceeded the limit of requests for open external link dialog",type:"RATE_LIMITED"},a.requestID);break}c("promiseDone")(d("ExternalLinkAllowedDomains").checkAllowedDomain(this.$2,this.$4,this.$3,this.$5,a.url).then(function(b){if(b==="INVALID_URL")e({code:i.INVALID_URL,message:"Wrong url for open external link dialog",type:"INVALID_URL"},a.requestID);else if(b==="URL_NOT_ALLOWED")e({code:i.URL_NOT_ALLOWED,message:"Url not allowed for open external link dialog",type:"URL_NOT_ALLOWED"},a.requestID);else{c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").OPEN_EXTERNAL_LINK,{clientAppID:g.$3,gameID:g.$5,sessionID:g.$4,url:a.url});(b=g.$11)==null?void 0:b.send(d("CloudGamingConstants").CloudGamingMessageTypes.EXTERNAL_LINK,a.url)}}));break;case"performHapticFeedbackAsync":h=d("fbinstant/releases/samus/index.samus").performHapticFeedbackAsync().then(function(){b({},a.requestID)});break;case"joinTournament":h=d("fbinstant/releases/samus/index.samus").tournament.joinAsync(a.tournamentId).then(function(){b({},a.requestID)});break;case"getTournaments":h=d("fbinstant/releases/samus/index.samus").tournament.getTournamentsAsync().then(function(c){b(c,a.requestID)});break;case"debugPrint":this.$8&&d("CloudGamingSDKDebug").debugPrint(a.msg,a.tag,a.severity,a.timestamp);b({},a.requestID);break;case"setClipboardText":f=c("CloudGamingWindowsGamesSpecialConfigurationConfig").copy_paste_allowed;q=f.indexOf(this.$5)!==-1;if(c("gkx")("5550")&&q&&d("CloudGamingApertureUtils").isMobileApp(this.$3)){c("promiseDone")(c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync("setclipboardtextasync",{text:a.text}).then(function(){b({},a.requestID)},function(){e({code:i.CLIPBOARD_CANNT_WRITE,message:"Cann't write text in navigator.clipboard",type:"CLIPBOARD_CANNT_WRITE"},a.requestID)}));(p=this.$11)==null?void 0:p.send(d("CloudGamingConstants").CloudGamingMessageTypes.CLIPBOARD_TEXT,a.text)}else if(q&&navigator&&navigator.clipboard){this.$20();if(this.$10){c("promiseDone")(navigator.clipboard.writeText(a.text).then(function(){b({},a.requestID)},function(){e({code:i.CLIPBOARD_CANNT_WRITE,message:"Cann't write text in navigator.clipboard",type:"CLIPBOARD_CANNT_WRITE"},a.requestID)}));(r=this.$11)==null?void 0:r.send(d("CloudGamingConstants").CloudGamingMessageTypes.CLIPBOARD_TEXT,a.text)}else e({code:i.CLIPBOARD_CANNT_WRITE,message:"Cann't write text in navigator.clipboard",type:"CLIPBOARD_CANNT_WRITE"},a.requestID)}else e({code:i.CLIPBOARD_NOT_SUPPORTED,message:"navigator.clipboard API is not supported",type:"CLIPBOARD_NOT_SUPPORTED"},a.requestID);break;case"getClipboardText":f=c("CloudGamingWindowsGamesSpecialConfigurationConfig").copy_paste_allowed;p=f.indexOf(this.$5)!==-1;c("gkx")("5550")&&p&&d("CloudGamingApertureUtils").isMobileApp(this.$3)?c("promiseDone")(c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync("getclipboardtextasync",{}).then(function(c){b({text:(c=c==null?void 0:c.text)!=null?c:""},a.requestID)},function(){e({code:i.CLIPBOARD_CANNT_READ,message:"Cann't read text from mobile clipboard",type:"CLIPBOARD_CANNT_READ"},a.requestID)})):p&&navigator&&navigator.clipboard?(this.$20(),this.$10?c("promiseDone")(navigator.clipboard.readText().then(function(d){d=d;var e=new Blob([d]).size,f=c("CloudGamingCopyPasteConfigConfig")?c("CloudGamingCopyPasteConfigConfig").paste_byte_limitation:65536;while(e>f){var g=e/f;d=d.substring(0,d.length/g);e=new Blob([d]).size}b({text:d},a.requestID)},function(){e({code:i.CLIPBOARD_CANNT_READ,message:"Cann't read text from navigator.clipboard",type:"CLIPBOARD_CANNT_READ"},a.requestID)})):e({code:i.CLIPBOARD_CANNT_READ,message:"Cann't read text from navigator.clipboard",type:"CLIPBOARD_CANNT_READ"},a.requestID)):e({code:i.CLIPBOARD_NOT_SUPPORTED,message:"navigator.clipboard API is not supported",type:"CLIPBOARD_NOT_SUPPORTED"},a.requestID);break;case"openInternalE2ETestDialog":a.testId==="KILLSWITCH"&&new(c("AsyncRequest"))().setURI(c("XCloudGamingKillswitchTestController").getURIBuilder().getURI()).send();h=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").INTERNAL_E2E_TEST_GENERIC_DIALOG,{id:a.testId,message:a.testMessage,status:a.testStatus}).then(function(){b({},a.requestID)});break;default:e({code:i.CLIENT_UNSUPPORTED_OPERATION,message:"Client does not support this API.",type:"CLIENT_UNSUPPORTED_OPERATION"},a.requestID);return!1}h!==null&&c("promiseDone")(h["catch"](function(b){return e(l(b),a.requestID)}));return!0};b.$15=function(a,b){var d;this.$1[b]===void 0?(d=new(c("QueueDataStructure"))(),this.$1[b]=d):d=this.$1[b];d.enqueue(a);return a.loadAsync()};b.$14=function(a){var b=this,d=Date.now().toString();c("CloudGamingSessionEventFalcoEvent").log(function(){return{app_id:b.$2,client_app_id:b.$3,cloud_game_id_override:b.$5,event:"SDK_HANDLER_RECEIVED_MESSAGE",extra_data:{messageRequestId:a.requestID,messageType:a.type},session_id:b.$4,source:"JS",time_duration_ms:d}})};b.$13=function(){var a,b=this;(a=this.$11)==null?void 0:a.on(d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_CLIPBOARD,function(){b.$10=!0});(a=this.$11)==null?void 0:a.on(d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_CLIPBOARD,function(){b.$10=!1});this.$9==null&&(this.$9=new(c("CloudGamingMessageReceiver"))(function(a){a===d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_CLIPBOARD?b.$10=!0:a===d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_CLIPBOARD&&(b.$10=!1)}))};b.$19=function(a,b,c,d){return{eventID:a,instanceID:b,snapshotID:c,worldID:d}};b.$20=function(){this.$10?this.$21("CLIPBOARD_ENABLED"):this.$21("CLIPBOARD_DISABLED")};b.$21=function(a){if(this.$7!=null&&typeof this.$7==="function"){var b=this.$7;b(d("CloudGamingWarningAlertAction").createWarningMetricAction(a,1));c("setTimeout")(function(){b(d("CloudGamingWarningAlertAction").createCleanWarningMetricAction(a))},100)}};b.$16=function(a,b){var e=Date.now();c("CloudGamingLoadingEventRecorder").recordEvent(a,e);(a==="HORIZON_FIRST_TRAVEL_COMPLETE"||a==="HORIZON_FIRST_PERSONAL_SPACE_COMPLETE"||a==="HORIZON_RECONNECT_WITHOUT_TRAVEL")&&c("CloudGamingEndSummary").markGameReadyToInteract();d("CloudGamingLogUtils").logEventWithBreakdownLatency(a,this.$2,this.$5!=null?this.$5:"","sdk",this.$4,this.$3,this.$6,b)};b.$17=function(a,b,d){if(c("CloudGamingLoadingEventRecorder").alreadyRecorded(a))return;this.$16(a,b);if(d){(a=this.$11)==null?void 0:a.send(d)}};b.$18=function(a){if(this.$12||c("gkx")("7162")){var b=document.getElementById("sdkData"),d="travelData-",e=1,f=d.concat(a.worldID,"-",e.toString()),g=document.getElementById(f);while(g)e++,f=d.concat(a.worldID,"-",e.toString()),g=document.getElementById(f);g||(g=document.createElement("div"),g.id=f,g.hidden=!0,b==null?void 0:b.appendChild(g));if(g){d=JSON.stringify(a);g.innerText=d}}};return a}();function k(a){a=JSON.parse(a);return typeof a==="number"?a.toString():a}function l(a){var b,c=a.code;b=(b=i[c])!=null?b:-1;return{code:b,message:a.message,type:c}}function m(a,b,c){var e=d("fbinstant/releases/samus/index.samus").getSupportedAPIs();if(!a.every(function(a){return e.includes(a)})){b({code:i.CLIENT_UNSUPPORTED_OPERATION,message:"Client does not support this API.",type:"CLIENT_UNSUPPORTED_OPERATION"},c);return!1}return!0}function n(a){return{contextID:a.getContextID(),endTime:a.getEndTime(),payload:a.getPayload(),title:a.getTitle(),tournamentID:a.getID()}}g["default"]=a}),98);
__d("CloudGamingSDKUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{requestID:b,success:a}}function b(a,b){return{error:a,requestID:b}}f.getFormattedData=a;f.getFormmatedError=b}),66);
__d("CloudSDKMessageHandler",["errorCode","CloudGamingConstants","CloudGamingLoadingEventRecorder","CloudGamingLogUtils","CloudGamingMessageReceiver","CloudGamingSessionEventFalcoEvent","CloudGamingWarningAlertAction","DefaultSDKMessageHandler","ExternalLinkAllowedDomains","QueueDataStructure","fbinstant/releases/samus/index.samus","gkx","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i={AD_NOT_LOADED:3112001,CLIENT_UNSUPPORTED_OPERATION:2581001,CLIPBOARD_CANNT_READ:3669001,CLIPBOARD_CANNT_WRITE:3669002,CLIPBOARD_NOT_SUPPORTED:3669003,INVALID_OPERATION:2581005,INVALID_PARAM:2581006,INVALID_URL:3447002,NETWORK_FAILURE:2581003,PAYMENTS_NOT_INITIALIZED:2581002,RATE_LIMITED:3447001,URL_NOT_ALLOWED:3447003,USER_INPUT:2581004};h=function(){function a(a,b,e,f,g,h,i,j,k,l,m){i===void 0&&(i=null);j===void 0&&(j=!1);this.adStore={};this.appID=null;this.clientAppID=null;this.sessionID=null;this.cloudGameID=null;this.cloudBinaryID=null;this.dispatch=null;this.useSDKDebugPrint=!1;this.messageReceiver=null;this.clipboardEnabled=!1;this.stress_test_travel_sdk_gk_result=!1;this.appID=a;this.clientAppID=b;this.sessionID=e;this.cloudGameID=f;this.cloudBinaryID=g;this.dispatch=h;this.eventBus=i;this.useSDKDebugPrint=j;this.stress_test_travel_sdk_gk_result=(b=k!=null&&((a=k.find(function(a){return a.name==="gk_stress_test_travel_sdk"}))==null?void 0:a.enabled))!=null?b:!1;this.$1=m;this.clipboardEnabled=l;d("ExternalLinkAllowedDomains").initAllowedDomainChecker();this.$2();if(this.stress_test_travel_sdk_gk_result||c("gkx")("7162")){f=document.getElementById("sdkData");if(!f){f=document.createElement("div");f.id="sdkData";f.hidden=!0;(g=document.body)==null?void 0:g.appendChild(f);h=document.createElement("div");h.id="sessionId";h.hidden=!0;(i=f)==null?void 0:i.appendChild(h);h.innerText=(j=e)!=null?j:""}}}var b=a.prototype;b.deinit=function(){this.messageReceiver!=null&&(this.messageReceiver.clean(),this.messageReceiver=null)};b.handle=function(a,b,c){this.$3(a);var e=!1;this.$1&&(e=this.$1(a,b,c,this));a.type==="clientData"&&a.data.player2DBridgeInputToggle!=null&&(a.data.player2DBridgeInputToggle==="true"?window.postMessage({type:d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_2D_BRIDGE},"/"):window.postMessage({type:d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_2D_BRIDGE},"/"));e||(e=d("DefaultSDKMessageHandler").handleDefaultSDKMessage(a,b,c,this));return e};b.storeAd=function(a,b){var d;this.adStore[b]===void 0?(d=new(c("QueueDataStructure"))(),this.adStore[b]=d):d=this.adStore[b];d.enqueue(a);return a.loadAsync()};b.$3=function(a){var b=this,d=Date.now().toString();c("CloudGamingSessionEventFalcoEvent").log(function(){return{app_id:b.appID,client_app_id:b.clientAppID,cloud_game_id_override:b.cloudGameID,event:"SDK_HANDLER_RECEIVED_MESSAGE",extra_data:{messageRequestId:a.requestID,messageType:a.type},session_id:b.sessionID,source:"JS",time_duration_ms:d}})};b.$2=function(){var a,b=this;(a=this.eventBus)==null?void 0:a.on(d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_CLIPBOARD,function(){b.clipboardEnabled=!0});(a=this.eventBus)==null?void 0:a.on(d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_CLIPBOARD,function(){b.clipboardEnabled=!1});this.messageReceiver==null&&(this.messageReceiver=new(c("CloudGamingMessageReceiver"))(function(a){a===d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_CLIPBOARD?b.clipboardEnabled=!0:a===d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_CLIPBOARD&&(b.clipboardEnabled=!1)}))};b.buildTravelPayload=function(a,b,c,d){return{eventID:a,instanceID:b,snapshotID:c,worldID:d}};b.clipboardShowNotification=function(){this.clipboardEnabled?this.$4("CLIPBOARD_ENABLED"):this.$4("CLIPBOARD_DISABLED")};b.$4=function(a){if(this.dispatch!=null&&typeof this.dispatch==="function"){var b=this.dispatch;b(d("CloudGamingWarningAlertAction").createWarningMetricAction(a,1));c("setTimeout")(function(){b(d("CloudGamingWarningAlertAction").createCleanWarningMetricAction(a))},100)}};b.log_latency_event=function(a,b){var e=Date.now();c("CloudGamingLoadingEventRecorder").recordEvent(a,e);d("CloudGamingLogUtils").logEventWithBreakdownLatency(a,this.appID,this.cloudGameID!=null?this.cloudGameID:"","sdk",this.sessionID,this.clientAppID,this.cloudBinaryID,b)};b.log_latency_event_once=function(a,b,d){if(c("CloudGamingLoadingEventRecorder").alreadyRecorded(a))return;this.log_latency_event(a,b);if(d){(a=this.eventBus)==null?void 0:a.send(d)}};b.addTestData=function(a){if(this.stress_test_travel_sdk_gk_result||c("gkx")("7162")){var b=document.getElementById("sdkData"),d="travelData-",e=1,f=d.concat(a.worldID,"-",e.toString()),g=document.getElementById(f);b=j("travelDiv",b);while(g)e++,f=d.concat(a.worldID,"-",e.toString()),g=document.getElementById(f);g=j(f,b);if(g){d=JSON.stringify(a);g.innerText=d}}};return a}();function j(a,b){var c=document.getElementById(a);c||(c=document.createElement("div"),c.id=a,c.hidden=!0,b==null?void 0:b.appendChild(c));return c}function a(a){a=JSON.parse(a);return typeof a==="number"?a.toString():a}function b(a){var b,c=a.code;b=(b=i[c])!=null?b:-1;return{code:b,message:a.message,type:c}}function e(a,b,c){var e=d("fbinstant/releases/samus/index.samus").getSupportedAPIs();if(!a.every(function(a){return e.includes(a)})){b({code:i.CLIENT_UNSUPPORTED_OPERATION,message:"Client does not support this API.",type:"CLIENT_UNSUPPORTED_OPERATION"},c);return!1}return!0}function f(a){return{contextID:a.getContextID(),endTime:a.getEndTime(),payload:a.getPayload(),title:a.getTitle(),tournamentID:a.getID()}}g.APIErrorCode=i;g.CloudSDKMessageHandler=h;g.getStringIDorArray=a;g.getErrorMessage=b;g.validateClientSupport=e;g.getTournamentInfo=f}),98);
__d("DefaultSDKMessageHandler",["AsyncRequest","CloudGamingApertureUtils","CloudGamingCopyPasteConfigConfig","CloudGamingLogUtils","CloudGamingSDKDebug","CloudGamingVirtualKeyboard.react","CloudGamingWindowsGamesSpecialConfigurationConfig","CloudSDKMessageHandler","ExternalLinkAllowedDomains","ExternalLinkRateLimiter","XCloudGamingKillswitchTestController","fbinstant/common/genericDialogs","fbinstant/releases/samus/index.samus","fbinstant/releases/samus/internalStates.samus","fbinstant/releases/samus/logger.samus","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=3e3;function a(a,b,e,f){var g,i=null,j=!1,k={},l={},m={};switch(a.type){case"getPlayerName":b({name:"Player"},a.requestID);break;case"setPlayerData":i=d("fbinstant/releases/samus/index.samus").player.setDataAsync((g={},g[a.key]=a.value,g)).then(function(){b({},a.requestID)});break;case"getPlayerData":i=d("fbinstant/releases/samus/index.samus").player.getDataAsync([a.key]).then(function(c){b({data:c[a.key]},a.requestID)});break;case"getCatalog":i=d("fbinstant/releases/samus/index.samus").payments.getCatalogAsync().then(function(c){b(c,a.requestID)});break;case"getPurchases":i=d("fbinstant/releases/samus/index.samus").payments.getPurchasesAsync().then(function(c){b(c,a.requestID)});break;case"purchase":i=d("fbinstant/releases/samus/index.samus").payments.purchaseAsync({developerPayload:a.developerPayload,productID:a.productID}).then(function(c){b(c,a.requestID)});break;case"consumePurchase":i=d("fbinstant/releases/samus/index.samus").payments.consumePurchaseAsync(a.purchaseToken).then(function(){b({},a.requestID)});break;case"onReady":var n="payments_onReady";c("fbinstant/releases/samus/logger.samus").logBeginAsync(n);if(!d("CloudSDKMessageHandler").validateClientSupport(["payments.onReady","payments.getCatalogAsync","payments.consumePurchaseAsync","payments.purchaseAsync","payments.getPurchasesAsync"],e,a.requestID)){c("fbinstant/releases/samus/logger.samus").logReject(n,"PAYMENTS_NOT_ALLOWED");break}d("fbinstant/releases/samus/index.samus").payments.onReady(function(){j=!0,b({},a.requestID),c("fbinstant/releases/samus/logger.samus").logResolve(n)});c("setTimeout")(function(){j||(e({code:d("CloudSDKMessageHandler").APIErrorCode.PAYMENTS_NOT_INITIALIZED,message:"onReady failed. Application cannot accept payments.",type:"PAYMENTS_NOT_INITIALIZED"},a.requestID),c("fbinstant/releases/samus/logger.samus").logReject(n,"PAYMENTS_NOT_INITIALIZED"))},h);break;case"getSubscribableCatalog":i=d("fbinstant/releases/samus/index.samus").payments.getSubscribableCatalogAsync().then(function(c){b(c,a.requestID)});break;case"purchaseSubscription":i=d("fbinstant/releases/samus/index.samus").payments.purchaseSubscriptionAsync(a.productID).then(function(c){b(c,a.requestID)});break;case"getSubscriptions":i=d("fbinstant/releases/samus/index.samus").payments.getSubscriptionsAsync().then(function(c){b(c,a.requestID)});break;case"cancelSubscription":i=d("fbinstant/releases/samus/index.samus").payments.cancelSubscriptionAsync(a.purchaseToken).then(function(){b({},a.requestID)});break;case"loadInterstitialAd":if(!d("CloudSDKMessageHandler").validateClientSupport(["getInterstitialAdAsync"],e,a.requestID))break;var o=a.placementID;i=d("fbinstant/releases/samus/index.samus").getInterstitialAdAsync(o).then(function(a){return f.storeAd(a,o)}).then(function(){b({},a.requestID)});break;case"loadRewardedVideo":if(!d("CloudSDKMessageHandler").validateClientSupport(["getRewardedVideoAsync"],e,a.requestID))break;var p=a.placementID;i=d("fbinstant/releases/samus/index.samus").getRewardedVideoAsync(p).then(function(a){return f.storeAd(a,p)}).then(function(){b({},a.requestID)});break;case"showInterstitialAd":case"showRewardedVideo":g=(g=f.adStore[a.placementID])==null?void 0:g.dequeue();if(g==null){e({code:d("CloudSDKMessageHandler").APIErrorCode.AD_NOT_LOADED,message:"Ad instance not loaded",type:"AD_NOT_LOADED"},a.requestID);break}i=g.showAsync().then(function(){b({},a.requestID)});break;case"share":i=d("fbinstant/releases/samus/index.samus").shareAsync({data:a.data,image:a.image,intent:a.intent,pollID:a.pollID,switchContext:a.switchContext,text:a.text}).then(function(){b({},a.requestID)});break;case"getConnectedPlayers":i=d("fbinstant/releases/samus/index.samus").player.getConnectedPlayersAsync().then(function(c){b(c,a.requestID)});break;case"canCreateShortcut":i=d("fbinstant/releases/samus/index.samus").canCreateShortcutAsync().then(function(c){return b({canCreateShortcut:c},a.requestID)});break;case"createShortcut":i=d("fbinstant/releases/samus/index.samus").createShortcutAsync().then(function(){return b({},a.requestID)});break;case"canGetLiveStreams":i=d("fbinstant/releases/samus/index.samus").community.canGetLiveStreamsAsync().then(function(c){return b({result:c},a.requestID)});break;case"canFollowOfficialPage":i=d("fbinstant/releases/samus/index.samus").community.canFollowOfficialPageAsync().then(function(c){return b({result:c},a.requestID)});break;case"canJoinOfficialGroup":i=d("fbinstant/releases/samus/index.samus").community.canJoinOfficialGroupAsync().then(function(c){return b({result:c},a.requestID)});break;case"getLiveStreams":k.maxCount=parseInt(a.maxCount,10);i=d("fbinstant/releases/samus/index.samus").community.getLiveStreamsAsync(k).then(function(c){b({liveStreams:c},a.requestID)});break;case"liveStreamsOverlay":i=d("fbinstant/releases/samus/index.samus").community.liveStreamsOverlayAsync().then(function(){return b({},a.requestID)});break;case"followOfficialPage":i=d("fbinstant/releases/samus/index.samus").community.followOfficialPageAsync().then(function(){return b({},a.requestID)});break;case"joinOfficialGroup":i=d("fbinstant/releases/samus/index.samus").community.joinOfficialGroupAsync().then(function(){return b({},a.requestID)});break;case"contextGetID":b({id:d("fbinstant/releases/samus/index.samus").context.getID()},a.requestID);break;case"contextIsSizeBetween":b({is_size_between:d("fbinstant/releases/samus/index.samus").context.isSizeBetween(a.minSize,a.maxSize)},a.requestID);break;case"contextSwitch":i=d("fbinstant/releases/samus/index.samus").context.switchAsync(a.id).then(function(){return b({id:d("fbinstant/releases/samus/index.samus").context.getID()},a.requestID)});break;case"contextChoose":i=d("fbinstant/releases/samus/index.samus").context.chooseAsync({filters:a.filters!=null?JSON.parse(a.filters):[],maxSize:a.maxSize!=null?parseInt(a.maxSize,10):null,minSize:a.minSize!=null?parseInt(a.minSize,10):null}).then(function(){return b({id:d("fbinstant/releases/samus/index.samus").context.getID()},a.requestID)});break;case"contextCreate":i=a.id!=null?d("fbinstant/releases/samus/index.samus").context.createAsync(d("CloudSDKMessageHandler").getStringIDorArray(a.id)).then(function(){return b({id:d("fbinstant/releases/samus/index.samus").context.getID()},a.requestID)}):d("fbinstant/releases/samus/index.samus").context.createAsync().then(function(){return b({id:d("fbinstant/releases/samus/index.samus").context.getID()},a.requestID)});break;case"contextGetPlayers":i=d("fbinstant/releases/samus/index.samus").context.getPlayersAsync().then(function(c){return b(c,a.requestID)});break;case"postSessionScore":d("fbinstant/releases/samus/index.samus").postSessionScore(parseInt(a.score,10));b({},a.requestID);break;case"postSessionScoreAsync":i=d("fbinstant/releases/samus/index.samus").postSessionScoreAsync(parseInt(a.score,10)).then(function(){b({},a.requestID)});break;case"tournamentCreateAsync":l.initialScore=parseInt(a.initialScore,10);l.config={};a.title!=null&&(l.config.title=a.title);a.image!=null&&(l.config.image=a.image);a.sortOrder!=null&&(l.config.sortOrder=a.sortOrder);a.scoreFormat!=null&&(l.config.scoreFormat=a.scoreFormat);a.data!=null&&(l.data=JSON.parse(a.data));a.endTime!=null&&(l.config.endTime=JSON.parse(a.endTime));i=d("fbinstant/releases/samus/index.samus").tournament.createAsync(l).then(function(c){b(d("CloudSDKMessageHandler").getTournamentInfo(c),a.requestID)});break;case"tournamentShareAsync":m.score=parseInt(a.score,10);a.data!=null&&(m.data=JSON.parse(a.data));i=d("fbinstant/releases/samus/index.samus").tournament.shareAsync(m).then(function(){return b({},a.requestID)});break;case"tournamentPostScoreAsync":i=d("fbinstant/releases/samus/index.samus").tournament.postScoreAsync(parseInt(a.score,10)).then(function(){return b({},a.requestID)});break;case"getTournamentAsync":i=d("fbinstant/releases/samus/index.samus").getTournamentAsync().then(function(c){return b(d("CloudSDKMessageHandler").getTournamentInfo(c),a.requestID)});break;case"update":i=d("fbinstant/releases/samus/index.samus").updateAsync({action:a.action,image:a.image,template:a.template,text:a.text}).then(function(){return b({},a.requestID)});break;case"openGamingServicesDeepLink":c("fbinstant/releases/samus/logger.samus").logAPICall("CloudGSAPI_"+a.deepLink);i=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs")[a.deepLink],{id:a.id,travelID:(g=a.travelID)!=null?g:"0"}).then(function(){b({},a.requestID)});break;case"openGameRequestsDialog":c("fbinstant/releases/samus/logger.samus").logAPICall("CloudGSAPI.Game_Request");i=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").GAME_REQUESTS,{actionType:a.actionType,app_id:a.appID,cta:a.cta,data:a.data,message:a.message,options:a.options,title:a.title,to:a.to}).then(function(c){b(c,a.requestID)});break;case"softkeyboard":a.action==="open"?d("CloudGamingVirtualKeyboard.react").openKeyboardDelayed(f.clientAppID)?(d("CloudGamingVirtualKeyboard.react").setOpenSoftKeyboardRequested(f.dispatch),d("CloudGamingLogUtils").logEvent("TOUCH_SCREEN_TO_OPEN_KEYBOARD_NOTIFICATION",f.appID,f.cloudGameID!=null?f.cloudGameID:"",f.clientAppID,f.sessionID)):(d("CloudGamingVirtualKeyboard.react").showVirtualKeyboard(!0),d("CloudGamingLogUtils").logEvent("SOFT_KEYBOARD_SHOWN",f.appID,f.cloudGameID!=null?f.cloudGameID:"",f.clientAppID,f.sessionID)):d("CloudGamingVirtualKeyboard.react").showVirtualKeyboard(!1);b({},a.requestID);break;case"openExternalLink":b({},a.requestID);if(!d("ExternalLinkRateLimiter").rateLimiterBump(f.appID,f.sessionID,f.clientAppID,f.cloudGameID)){e({code:d("CloudSDKMessageHandler").APIErrorCode.RATE_LIMITED,message:"The game has exceeded the limit of requests for open external link dialog",type:"RATE_LIMITED"},a.requestID);break}c("promiseDone")(d("ExternalLinkAllowedDomains").checkAllowedDomain(f.appID,f.sessionID,f.clientAppID,f.cloudGameID,a.url).then(function(b){b==="INVALID_URL"?e({code:d("CloudSDKMessageHandler").APIErrorCode.INVALID_URL,message:"Wrong url for open external link dialog",type:"INVALID_URL"},a.requestID):b==="URL_NOT_ALLOWED"?e({code:d("CloudSDKMessageHandler").APIErrorCode.URL_NOT_ALLOWED,message:"Url not allowed for open external link dialog",type:"URL_NOT_ALLOWED"},a.requestID):c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").OPEN_EXTERNAL_LINK,{clientAppID:f.clientAppID,gameID:f.cloudGameID,sessionID:f.sessionID,url:a.url})}));break;case"performHapticFeedbackAsync":i=d("fbinstant/releases/samus/index.samus").performHapticFeedbackAsync().then(function(){b({},a.requestID)});break;case"joinTournament":i=d("fbinstant/releases/samus/index.samus").tournament.joinAsync(a.tournamentId).then(function(){b({},a.requestID)});break;case"getTournaments":i=d("fbinstant/releases/samus/index.samus").tournament.getTournamentsAsync().then(function(c){b(c,a.requestID)});break;case"debugPrint":f.useSDKDebugPrint&&d("CloudGamingSDKDebug").debugPrint(a.msg,a.tag,a.severity,a.timestamp);b({},a.requestID);break;case"setClipboardText":k=c("CloudGamingWindowsGamesSpecialConfigurationConfig").copy_paste_allowed;l=k.indexOf(f.cloudGameID)!==-1;c("gkx")("5550")&&l&&d("CloudGamingApertureUtils").isMobileApp(f.clientAppID)?c("promiseDone")(c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync("setclipboardtextasync",{text:a.text}).then(function(){b({},a.requestID)},function(){e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIPBOARD_CANNT_WRITE,message:"Cann't write text in navigator.clipboard",type:"CLIPBOARD_CANNT_WRITE"},a.requestID)})):l&&navigator&&navigator.clipboard?(f.clipboardShowNotification(),f.clipboardEnabled?c("promiseDone")(navigator.clipboard.writeText(a.text).then(function(){b({},a.requestID)},function(){e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIPBOARD_CANNT_WRITE,message:"Cann't write text in navigator.clipboard",type:"CLIPBOARD_CANNT_WRITE"},a.requestID)})):e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIPBOARD_CANNT_WRITE,message:"Cann't write text in navigator.clipboard",type:"CLIPBOARD_CANNT_WRITE"},a.requestID)):e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIPBOARD_NOT_SUPPORTED,message:"navigator.clipboard API is not supported",type:"CLIPBOARD_NOT_SUPPORTED"},a.requestID);break;case"getClipboardText":m=c("CloudGamingWindowsGamesSpecialConfigurationConfig").copy_paste_allowed;g=m.indexOf(f.cloudGameID)!==-1;c("gkx")("5550")&&g&&d("CloudGamingApertureUtils").isMobileApp(f.clientAppID)?c("promiseDone")(c("fbinstant/releases/samus/internalStates.samus").getMessageSender().sendAsync("getclipboardtextasync",{}).then(function(c){b({text:(c=c==null?void 0:c.text)!=null?c:""},a.requestID)},function(){e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIPBOARD_CANNT_READ,message:"Cann't read text from mobile clipboard",type:"CLIPBOARD_CANNT_READ"},a.requestID)})):g&&navigator&&navigator.clipboard?(f.clipboardShowNotification(),f.clipboardEnabled?c("promiseDone")(navigator.clipboard.readText().then(function(d){d=d;var e=new Blob([d]).size,f=c("CloudGamingCopyPasteConfigConfig")?c("CloudGamingCopyPasteConfigConfig").paste_byte_limitation:65536;while(e>f){var g=e/f;d=d.substring(0,d.length/g);e=new Blob([d]).size}b({text:d},a.requestID)},function(){e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIPBOARD_CANNT_READ,message:"Cann't read text from navigator.clipboard",type:"CLIPBOARD_CANNT_READ"},a.requestID)})):e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIPBOARD_CANNT_READ,message:"Cann't read text from navigator.clipboard",type:"CLIPBOARD_CANNT_READ"},a.requestID)):e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIPBOARD_NOT_SUPPORTED,message:"navigator.clipboard API is not supported",type:"CLIPBOARD_NOT_SUPPORTED"},a.requestID);break;case"openInternalE2ETestDialog":a.testId==="KILLSWITCH"&&new(c("AsyncRequest"))().setURI(c("XCloudGamingKillswitchTestController").getURIBuilder().getURI()).send();i=c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").INTERNAL_E2E_TEST_GENERIC_DIALOG,{id:a.testId,message:a.testMessage,status:a.testStatus}).then(function(){b({},a.requestID)});break;default:e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIENT_UNSUPPORTED_OPERATION,message:"Client does not support this API.",type:"CLIENT_UNSUPPORTED_OPERATION"},a.requestID);return!1}i!==null&&c("promiseDone")(i["catch"](function(b){return e(d("CloudSDKMessageHandler").getErrorMessage(b),a.requestID)}));return!0}g.handleDefaultSDKMessage=a}),98);
__d("HorizonSDKMessageHandler",["CloudGamingApertureUtils","CloudGamingConstants","CloudGamingSDKInitAction","CloudGamingSessionEventFalcoEvent","CloudGamingWindowsGamesSpecialConfigurationConfig","CloudPlayerPaymentsAsync","CloudSDKMessageHandler","ExternalLinkAllowedDomains","ExternalLinkRateLimiter","fbinstant/common/genericDialogs","fbinstant/releases/samus/internalStates.samus","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=null;switch(a.type){case"purchase":if(f.eventBus!=null)g=d("CloudPlayerPaymentsAsync").cloudPurchaseAsync(f.eventBus.asyncMessageSender,{developerPayload:a.developerPayload,productID:a.productID}).then(function(c){b(c,a.requestID)});else return!1;break;case"clientData":var h=a.data;if(h!=null){if(h.editAction!=null){var i;(i=f.eventBus)==null?void 0:i.send(d("CloudGamingConstants").CloudGamingMessageTypes.RECEIVED_EDIT_ACTION_FROM_GAME,h.editAction)}else if(h.updateWorldInfo!=null){var j;if(h.updateWorldInfo.worldID==null){f.log_latency_event("HORIZON_FIRST_PERSONAL_SPACE_COMPLETE",h.isPrewarm);(i=f.eventBus)==null?void 0:i.send(d("CloudGamingConstants").CloudGamingMessageTypes.HORIZON_FIRST_PERSONAL_SPACE_COMPLETE)}if(h.updateWorldInfo.worldID!=null){i=h.updateWorldInfo.navigationStatus;if(i!=null)switch(i){case"INITIAL":f.log_latency_event_once("HORIZON_FIRST_TRAVEL_START",h.isPrewarm);break;case"COMPLETE":f.log_latency_event_once("HORIZON_FIRST_TRAVEL_COMPLETE",h.isPrewarm,d("CloudGamingConstants").CloudGamingMessageTypes.HORIZON_FIRST_TRAVEL_COMPLETE);f.addTestData(h.updateWorldInfo);break;default:break}else f.log_latency_event_once("HORIZON_FIRST_TRAVEL_COMPLETE",h.isPrewarm,d("CloudGamingConstants").CloudGamingMessageTypes.HORIZON_FIRST_TRAVEL_COMPLETE),f.addTestData(h.updateWorldInfo)}i=f.buildTravelPayload(h.updateWorldInfo.eventID,h.updateWorldInfo.instanceID,h.updateWorldInfo.snapshotID,h.updateWorldInfo.worldID);(j=f.eventBus)==null?void 0:j.send(d("CloudGamingConstants").CloudGamingMessageTypes.GAME_TRAVEL,i)}else if(h.readyToTravel!=null)f.log_latency_event("HORIZON_READY_TO_TRAVEL",h.isPrewarm);else if(h.reconnectInfo!=null)if(h.reconnectInfo.reconnectTravel==="true"){f.log_latency_event("HORIZON_RECONNECT_WITH_TRAVEL",h.isPrewarm);var k=Date.now().toString();c("CloudGamingSessionEventFalcoEvent").log(function(){return{app_id:f.appID,client_app_id:f.clientAppID,cloud_game_id_override:f.cloudGameID,event:"HORIZON_RECONNECT_WITH_TRAVEL",extra_data:{reconnectTravel:h.reconnectInfo.reconnectTravel,travelRoute:h.reconnectInfo.travelRoute},session_id:f.sessionID,source:"JS",time_duration_ms:k}})}else f.log_latency_event("HORIZON_RECONNECT_WITHOUT_TRAVEL",h.isPrewarm);else if(h.muteMic!=null)if(h.muteMic==="true"){(j=f.eventBus)==null?void 0:j.send(d("CloudGamingConstants").CloudGamingMessageTypes.DISABLE_MIC)}else{(i=f.eventBus)==null?void 0:i.send(d("CloudGamingConstants").CloudGamingMessageTypes.ENABLE_MIC)}else if(h.openShareSheet!=null)navigator.share&&navigator.share({text:h.openShareSheet.text,title:h.openShareSheet.title,url:h.openShareSheet.url}).then(function(){})["catch"](function(a){});else if(h.redirectAction!=null){if(h.redirectAction.action==="exit"){(j=f.eventBus)==null?void 0:j.send(d("CloudGamingConstants").CloudGamingMessageTypes.EXIT_ACTION,h.redirectAction)}}else if(h.sdkInitialized!=null){h.sdkInitialized.isPrewarmed=h.isPrewarm;(i=f.eventBus)==null?void 0:i.send(d("CloudGamingConstants").CloudGamingMessageTypes.SDK_INITIALIZED,h.sdkInitialized);f.dispatch!=null&&f.dispatch(d("CloudGamingSDKInitAction").createSDKInitAction())}else if(h.shareWorld!=null){(j=f.eventBus)==null?void 0:j.send(d("CloudGamingConstants").CloudGamingMessageTypes.SHARE_WORLD,h.shareWorld)}b({},a.requestID);break}break;case"setClipboardText":i=c("CloudGamingWindowsGamesSpecialConfigurationConfig").copy_paste_allowed;j=i.indexOf(f.cloudGameID)!==-1;if(c("gkx")("5550")&&j&&d("CloudGamingApertureUtils").isMobileApp(f.clientAppID)){(i=f.eventBus)==null?void 0:i.send(d("CloudGamingConstants").CloudGamingMessageTypes.CLIPBOARD_TEXT,a.text)}else if(j&&navigator&&navigator.clipboard){f.clipboardShowNotification();if(f.clipboardEnabled){(i=f.eventBus)==null?void 0:i.send(d("CloudGamingConstants").CloudGamingMessageTypes.CLIPBOARD_TEXT,a.text)}else e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIPBOARD_CANNT_WRITE,message:"Cann't write text in navigator.clipboard",type:"CLIPBOARD_CANNT_WRITE"},a.requestID)}else e({code:d("CloudSDKMessageHandler").APIErrorCode.CLIPBOARD_NOT_SUPPORTED,message:"navigator.clipboard API is not supported",type:"CLIPBOARD_NOT_SUPPORTED"},a.requestID);break;case"openExternalLink":b({},a.requestID);if(!d("ExternalLinkRateLimiter").rateLimiterBump(f.appID,f.sessionID,f.clientAppID,f.cloudGameID)){e({code:d("CloudSDKMessageHandler").APIErrorCode.RATE_LIMITED,message:"The game has exceeded the limit of requests for open external link dialog",type:"RATE_LIMITED"},a.requestID);break}j=d("ExternalLinkAllowedDomains").checkHorizonAllowedDomain(f.appID,f.sessionID,f.clientAppID,f.cloudGameID,a.url);if(j==="INVALID_URL")e({code:d("CloudSDKMessageHandler").APIErrorCode.INVALID_URL,message:"Wrong url for open external link dialog",type:"INVALID_URL"},a.requestID);else if(j==="URL_NOT_ALLOWED")e({code:d("CloudSDKMessageHandler").APIErrorCode.URL_NOT_ALLOWED,message:"Url not allowed for open external link dialog",type:"URL_NOT_ALLOWED"},a.requestID);else{c("fbinstant/releases/samus/internalStates.samus").getMessageSender().showGenericDialogAsync(c("fbinstant/common/genericDialogs").OPEN_EXTERNAL_LINK,{clientAppID:f.clientAppID,gameID:f.cloudGameID,sessionID:f.sessionID,url:a.url});(i=f.eventBus)==null?void 0:i.send(d("CloudGamingConstants").CloudGamingMessageTypes.EXTERNAL_LINK,a.url)}break;default:return!1}g!==null&&c("promiseDone")(g["catch"](function(b){return e(d("CloudSDKMessageHandler").getErrorMessage(b),a.requestID)}));return!0}g.handleHorizonSDKMessage=a}),98);
__d("CloudGamingIGSDKMiddleware",["CloudGamingActionTypes","CloudGamingSDKMessageHandler","CloudGamingSDKUtils","CloudSDKMessageHandler","HorizonSDKMessageHandler","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=null;a=function(a,b,e,f,g,j,k,l,m){return function(n,o,p,q){switch(n.type){case c("CloudGamingActionTypes").PEER_CONNECTION_CREATED:h!=null&&h.deinit();if(c("gkx")("7746")){p=!1;var r=null;f===String(351299233827255)&&(p=!0,r=d("HorizonSDKMessageHandler").handleHorizonSDKMessage);h=new(d("CloudSDKMessageHandler").CloudSDKMessageHandler)(b,f,e,g,j,o,k,l,m,p,r)}else h=new(c("CloudGamingSDKMessageHandler"))(b,f,e,g,j,o,k,l,m);break;case c("CloudGamingActionTypes").CLIENT_RECEIVE_SDK_MESSAGE:a==="APERTURE"&&document.pointerLockElement&&(n.message.type==="openExternalLink"||n.message.type==="purchase"||n.message.type==="openGamingServicesDeepLink"||n.message.type==="showInterstitialAd"||n.message.type==="showRewardedVideo")&&document.exitPointerLock();i(n,o);break;case c("CloudGamingActionTypes").CLIENT_SEND_SDK_MESSAGE:q.sendRTCEvent("lifecycle",{sdkMessage:{data:JSON.stringify(n.data)}});break;case"DISCONNECT":h!=null&&(h.deinit(),h=null);break}return n}};function i(a,b){var d;if(a.type!==c("CloudGamingActionTypes").CLIENT_RECEIVE_SDK_MESSAGE)return;a=a.message;(d=h)==null?void 0:d.handle(a,j(b),l(b))}function j(a){return function(b,c){return k(a,b,c)}}function k(a,b,e){b=d("CloudGamingSDKUtils").getFormattedData(b,e);a({data:b,type:c("CloudGamingActionTypes").CLIENT_SEND_SDK_MESSAGE})}function l(a){return function(b,c){return m(a,b,c)}}function m(a,b,e){b=d("CloudGamingSDKUtils").getFormmatedError(b,e);a({data:b,type:c("CloudGamingActionTypes").CLIENT_SEND_SDK_MESSAGE})}g.runAction=a}),98);
__d("CloudGamingInstantGamesBridgeMiddleware",["CloudGamingActionTypes","fbinstant/common/genericDialogs","fbinstant/releases/samus/index.samus","fbinstant/releases/samus/internalStates.samus","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){switch(b.type){case c("CloudGamingActionTypes").GAME_READY:h(a);break;case"RESOURCE_CLOSED":d("fbinstant/releases/samus/index.samus").quit();break}return b}};function h(a){d("fbinstant/releases/samus/index.samus").setLoadingProgress(100),a!==String(350685531728)&&window.parent.postMessage("HideSplashScreen","/"),c("promiseDone")(d("fbinstant/releases/samus/index.samus").startGameAsync(),function(){i(),j()})}function i(){c("promiseDone")(d("fbinstant/releases/samus/index.samus").player.canSubscribeBotAsync(),function(a){if(a)return d("fbinstant/releases/samus/index.samus").player.subscribeBotAsync()})}function j(){var a=c("fbinstant/releases/samus/internalStates.samus").getMessageSender();a.showGenericDialogAsync(c("fbinstant/common/genericDialogs").GAME_GENERAL_STATUS,{})}g.runAction=a}),98);
__d("useCloudGamingNegotiateSDPMutation",["RelayHooks","useCloudGamingNegotiateSDPMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("RelayHooks").useMutation(h!==void 0?h:h=b("useCloudGamingNegotiateSDPMutation.graphql")),c=a[0];a=a[1];return[function(a){var b=a.input,d=a.onCompleted;a=a.onError;return c({onCompleted:d,onError:a,variables:{input:b}})},a]}g["default"]=a}),98);
__d("useCloudPlayerInitialize",["CloudGamingEndSummary","react","useUnloadCallback"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a,b,d,e,f,g,j,k){var l=h(function(){c("CloudGamingEndSummary").isSessionLoaded()&&(k("QUIT_GAME","hi-pri"),j("QUIT_GAME","hi-pri"),c("CloudGamingEndSummary").logSummary(a,b,d,e,f,g,"QUIT_GAME"))},[a,b,d,e,f,g,j,k]);i(function(){c("CloudGamingEndSummary").constructor();return function(){return l()}},[l]);c("useUnloadCallback")(l)}g["default"]=a}),98);
__d("CloudGamingStandaloneStarter.react",["CloudGamingClientFbts","CloudGamingContainer.react","CloudGamingErrorManagement","CloudGamingErrorMessage.react","CloudGamingIGSDKMiddleware","CloudGamingInstantGamesBridgeMiddleware","CloudGamingLoadingEventRecorder","CloudGamingPlayerUtils","CloudGamingSilentRetryMiddleware","CloudGamingStandaloneStarter_game.graphql","CloudGamingStreamingConfig","CometPlaceholder.react","CometRelay","CometRouteParams","CometRouteURL","CurrentUser","XCometInstantGamesHubPlayParamsRefineValidator","deferredLoadComponent","fbinstant/releases/samus/index.samus","promiseDone","react","requireDeferredForDisplay","useCloudGamingNegotiateSDPMutation","useCloudLoggers","useCloudPlayerInitialize"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useMemo,m=e.useRef,n=e.useState,o=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CloudGamingNetworkQualityDialog.react").__setRef("CloudGamingStandaloneStarter.react")),p=96,q=1,r=100,s=0;function t(){s=q;var a=window.setInterval(function(){s<100?(d("fbinstant/releases/samus/index.samus").setLoadingProgress(s),s+=q):window.clearInterval(a)},r)}var u=h!==void 0?h:h=b("CloudGamingStandaloneStarter_game.graphql");function a(a){var b,e=a.activeWarningTimeout,f=a.appID,g=a.appName,h=a.canUseFBInstant,q=a.clientAppID,r=a.clientAppVersion,s=a.cloudBinaryID,v=a.cloudGameID,w=a.contextID,x=a.enableFullyLockedMouse,y=a.enableLockedMouse,z=a.enableMultiTouchOverlay,A=a.enableWarningAlerts,B=a.entryPoint,C=a.extraLoggingData,D=a.fixedAspectRatioOnPC,E=a.game,F=a.gameOrientation,G=a.hostOverride,H=a.isCometOnMobile,aa=a.isInsideIframe,I=a.noxcatParams,J=a.otaUpdate,K=a.provider,L=a.sessionID,ba=a.useResourceSize;a=a.useSDKDebugPrint;var M=m(L);E=d("CometRelay").useFragment(u,E);var N=(b=(b=q)!=null?b:c("CurrentUser").getAppID())!=null?b:"0";b=c("useCloudLoggers")(f,v,N,r,M.current,B,s);var O=b.logCGEvent,P=b.logCGSessionEvent;k(function(){L!==M.current&&P("CLIENT_SESSIONID_MISMATCH","lo-pri",{sessionid_mismatch:L})},[P,L]);c("useCloudPlayerInitialize")(f,v,N,r,M.current,B,O,P);b=n(!h);var ca=b[0],da=b[1],Q=j(function(){h&&c("promiseDone")(d("fbinstant/releases/samus/index.samus").initializeAsync(),function(){t(),da(!0)})},[h]);k(function(){Q()},[Q]);b=d("CloudGamingSilentRetryMiddleware").useSilentRetry(Q,O);var ea=b.genSilentRetry,fa=b.silentRetryInGameCount,ga=b.silentRetryLoadCount,R=b.silentRetryTotalCount,S=m(!1);k(function(){if(S.current===!0)return;S.current=!0;c("CloudGamingLoadingEventRecorder").recordEventFromLoggingData(C);O("CLIENT_GAME_START_JS");P("CLIENT_GAME_START_JS")});var T=d("CloudGamingPlayerUtils").getNumGamepadsConnected(),U=d("CloudGamingPlayerUtils").isTouchDevice(H,N);U&&++T;var V=l(function(){return d("CloudGamingPlayerUtils").calculateAspectRatio(D,H,N,F,K)},[N,D,F,H,K]),W=j(function(){var a=(G==null?void 0:G.cluster)!=="C01"&&(G==null?void 0:G.cluster)!=="C02"?null:G==null?void 0:G.cluster,b=d("CloudGamingPlayerUtils").translateSiteTarget(G==null?void 0:G.target);return{cluster:a,host:G==null?void 0:G.host,hostname:G==null?void 0:G.hostname,pop:G==null?void 0:G.pop,port:G==null?void 0:G.port,site_key:G==null?void 0:G.site_key,target:b}},[G]),X=j(function(){var a=(I==null?void 0:I.dynamic)?Object.entries(I.dynamic).map(function(a){var b=a[0];a=a[1];a=babelHelpers["extends"]({},a);a.time_offset=Number(b);return a}):null;return{dynamic_param:a,static_param:I==null?void 0:I["static"]}},[I]);b=c("useCloudGamingNegotiateSDPMutation")();var Y=b[0];b[1];b=(b=d("CometRouteParams").useCometRefinedRouteParams(d("XCometInstantGamesHubPlayParamsRefineValidator").XCometInstantGamesHubPlayParamsRefineValidator))!=null?b:{};var Z=b.cgreferral;b=j(function(a,b,c,e){var g=h?d("fbinstant/releases/samus/index.samus").getEntryPointData():null;a={app_id:f,aspect_ratio:V,cgreferral:Z,cloud_game_id:v,dpi:Math.round(window.devicePixelRatio*p),enable_1080p:!0,enable_compact_input_format:a,error_message_response:!0,force_landscape:!1,gamepad_present:T.toString(),is_js_player:!0,mobile_app_id:N,screen_height:screen.height,screen_width:screen.width,sdp_offer:b,session_id:M.current,silent_retry:R,support_input_feedback:d("CloudGamingStreamingConfig").supportInputFeedback()?2:0,touch_present:U?"1":"0"};r!=null&&(a.mobile_app_version=r);s!=null&&(a.cloud_binary_id=s);w!=null&&(a.context_source_id=w);B!=null&&(a.entry_point=B);G!=null&&(a.host_override=W());g!=null&&(a.payload=JSON.stringify(g));J!=null&&(a.ota_update=J);I!=null&&(a.noxcat=X());Y({input:a,onCompleted:function(a){var b;b={errorMessage:(b=a.xfb_cloud_gaming_negotiate_sdp)==null?void 0:b.error_message,inputChannelLabel:(b=a.xfb_cloud_gaming_negotiate_sdp)==null?void 0:b.input_channel_label,lifecycleChannelLabel:(b=a.xfb_cloud_gaming_negotiate_sdp)==null?void 0:b.lifecycle_channel_label,purposeToLabel:(b=a.xfb_cloud_gaming_negotiate_sdp)==null?void 0:b.purpose_to_label,screenSize:{height:(b=(b=a.xfb_cloud_gaming_negotiate_sdp)==null?void 0:(b=b.screen_size)==null?void 0:b.height)!=null?b:0,width:(b=(b=a.xfb_cloud_gaming_negotiate_sdp)==null?void 0:(b=b.screen_size)==null?void 0:b.width)!=null?b:0},sdpAnswer:(a=(b=a.xfb_cloud_gaming_negotiate_sdp)==null?void 0:b.sdp_answer)!=null?a:""};c(b)},onError:function(a){e(a)}})},[h,f,V,Z,v,T,N,R,U,r,s,w,B,G,J,I,Y,W,X]);var $=d("CometRouteURL").useRouteURL(),ha=j(function(a,b,e){b=d("CloudGamingErrorManagement").getErrorInfo(a,b,(a=g)!=null?a:"",q,h,null,e,$,d("CloudGamingClientFbts").CloudGamingClientFbts,f);return i.jsx(c("CloudGamingErrorMessage.react"),{appID:f,cloudGameID:v,errorType:b.errorType,eventBus:null,isGameOver:b.isGameOver,primaryButtonLabel:b.primaryButtonLabel,primaryButtonOnClick:b.primaryButtonOnClick,primaryText:b.primaryText,secondaryButtonLabel:b.secondaryButtonLabel,secondaryButtonOnClick:b.secondaryButtonOnClick,secondaryText:b.secondaryText,sessionID:M.current})},[f,g,h,q,v,$]),ia=j(function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(o,{clientAppID:q,closeCallback:a})})},[q]);return ca?i.jsx(c("CloudGamingContainer.react"),{activeWarningTimeout:e,appID:f,appName:g,clientAppID:N,clientAppVersion:r,cloudBinaryID:s,cloudGameID:v,enableFullyLockedMouse:x,enableLockedMouse:y,enableMultiTouchOverlay:z,enableWarningAlerts:A,entryPoint:B,eventBus:null,extraActions:[d("CloudGamingInstantGamesBridgeMiddleware").runAction(N),d("CloudGamingIGSDKMiddleware").runAction(K,f,M.current,N,v,s,null,a)],forceLandscape:!1,game:E,gameOrientation:F,genCloudErrorMessage:ha,genNetworkQualityDialog:ia,genSilentRetry:ea,graphqlGKResults:null,isCometOnMobile:H,isInsideIframe:aa,negotiateSDPMutation:b,provider:K,sessionID:M.current,showSpinner:!1,silentRetryInGameCount:fa,silentRetryLoadCount:ga,useResourceSize:ba},R.toString()):i.jsx("div",{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingPlayerContainer.react",["CloudGamingEventsFalcoEvent","CloudGamingPlayerContainer_game.graphql","CloudGamingPlayerContext","CloudGamingPlayerMobileContainer.react","CloudGamingStandaloneStarter.react","CometRelay","InstantGamesPlayerUtils","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useContext,k=e.useEffect,l=e.useRef,m=h!==void 0?h:h=b("CloudGamingPlayerContainer_game.graphql");function a(a){var b=a.appID,e=a.contextID,f=a.entryPoint,g=a.game,h=a.gameState,n=a.messageSender,o=a.sessionID,p=a.source;a=d("CometRelay").useFragment(m,g);g=a.cloudGameActiveWarningTimeout;var q=a.cloudGameConfigFlags,r=a.cloudGameFixedAspectRatioOnPC,s=a.cloudGameID,t=a.gameName,u=a.gameOrientation,v=a.gamesProviderType;c("useStable")(function(){var a=function(a){window.self.postMessage({content:a.content,source:p,type:a.type},"/")};window.fbInstantSameOriginOnWeb=!0;window.fbInstantSource=p;n.setSendMessageDelegate(a)});var w=l(!1);k(function(){if(w.current===!0)return;w.current=!0;var a=Date.now().toString();c("CloudGamingEventsFalcoEvent").log(function(){return{app_id:b,cloud_game_id_override:s,entry_point:f,event:"CLIENT_GAME_START_CG_CONTAINER",event_occur_time_ms:a,extra_data:{native_player:"false"},session_id:o,source:"JS"}})});var x=j(c("CloudGamingPlayerContext")),y=x.cloudBinaryID,z=x.cloudHostOverride;x=x.otaUpdate;if(s==null)return null;g=i.jsx(c("CloudGamingStandaloneStarter.react"),{activeWarningTimeout:(g=g)!=null?g:0,appID:b,appName:(g=t)!=null?g:"",canUseFBInstant:!0,clientAppID:null,clientAppVersion:null,cloudBinaryID:y,cloudGameID:s,contextID:e,enableFullyLockedMouse:(t=q==null?void 0:q.enableFullyLockedMouse)!=null?t:!1,enableLockedMouse:(g=q==null?void 0:q.enableLockedMouse)!=null?g:!1,enableMultiTouchOverlay:(y=q==null?void 0:q.enableMultiTouchOverlay)!=null?y:!1,enableWarningAlerts:(e=q==null?void 0:q.enableWarningAlerts)!=null?e:!1,entryPoint:f,extraLoggingData:null,fixedAspectRatioOnPC:r,game:a,gameOrientation:u,hostOverride:z,isCometOnMobile:d("InstantGamesPlayerUtils").isCometOnMobile(),isInsideIframe:!1,noxcatParams:null,otaUpdate:x,provider:v==="GREDOS"?"GREDOS":"APERTURE",sessionID:o,useResourceSize:!1,useSDKDebugPrint:(t=q==null?void 0:q.useSDKDebugPrint)!=null?t:!1});return d("InstantGamesPlayerUtils").isCometOnMobile()?i.jsx(c("CloudGamingPlayerMobileContainer.react"),{game:a,gameState:h,children:g}):g}a.displayName=a.name+" [from "+f.id+"]";g.CloudGamingPlayerContainer=a}),98);
__d("InstantGamesLoadingCardContent.react",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx("div",{className:a.className,children:h._("__JHASH__uCxtOtxMxNj__JHASH__",[h._param("percent loaded",a.progress)])})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstantGamesLoadingViewGameIcon.react",["CometImage.react","CometRelay","InstantGamesLoadingCardContent.react","InstantGamesLoadingViewGameIcon_fragment.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("InstantGamesLoadingViewGameIcon_fragment.graphql");function a(a){var b=d("CometRelay").useFragment(j,a.gameData);return i.jsxs("div",{children:[i.jsxs("div",{className:"x1n2onr6",children:[i.jsx(c("CometImage.react"),{src:(b==null?void 0:b.iconURI)||"",xstyle:k.icon}),i.jsx("div",{className:"xlid4zk x13tp074 x1qns1p2 xipx5yg x1lliihq x9ukj8p xr1yuqi xkrivgy x4ii5y1 x1gryazu x183tlwk"+((a.showTos?" xlshs6z":"")+(a.progress!==100?" x6rwc2x x1y6jm75 xhyy0pa x1e62uox x1m9vv7p xa4qsjk x1ka1v4i x1esw782":" x6rwc2x x1y6jm75 x1kiw4pw x1502e0n"))})]}),a.showTos?null:i.jsx(c("InstantGamesLoadingCardContent.react"),{className:"x14ctfv xkzkwiv xcxhlts",progress:a.progress}),i.jsx("div",{className:"x10dhlfy x10siri3",children:b==null?void 0:b.socialContext})]})}a.displayName=a.name+" [from "+f.id+"]";var k={hidden:{visibility:"xlshs6z",$$css:!0},icon:{backgroundSize:"x1tbiz1a",borderTopStartRadius:"xlid4zk",borderTopEndRadius:"x13tp074",borderBottomEndRadius:"x1qns1p2",borderBottomStartRadius:"xipx5yg",display:"x1lliihq",height:"xjp8j0k",marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",position:"x10l6tqk",start:"xtzzx4i",top:"xwa60dl",transform:"x11lhmoz",width:"x13oubkp",$$css:!0},iconBorder:{borderTop:"x6rwc2x",borderEnd:"x1y6jm75",borderBottom:"x1kiw4pw",borderStart:"x1502e0n",borderTopStartRadius:"xlid4zk",borderTopEndRadius:"x13tp074",borderBottomEndRadius:"x1qns1p2",borderBottomStartRadius:"xipx5yg",display:"x1lliihq",height:"x9ukj8p",marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",width:"x183tlwk",$$css:!0},iconBorderLoading:{animationDuration:"x1m9vv7p",animationIterationCount:"xa4qsjk",animationName:"x1ka1v4i",animationTimingFunction:"x1esw782",borderTop:"x6rwc2x",borderEnd:"x1y6jm75",borderBottom:"xhyy0pa",borderStart:"x1e62uox",$$css:!0},iconWrapper:{position:"x1n2onr6",$$css:!0},loadingText:{color:"x14ctfv",fontSize:"xkzkwiv",marginTop:"xcxhlts",$$css:!0},socialContext:{color:"x10dhlfy",fontSize:"x10siri3",$$css:!0}};g["default"]=a}),98);
__d("InstantGamesLoadingViewStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={contentFlexCenter:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xo6aett",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"x1qughib",width:"xh8yej3",$$css:!0}};b=a.contentFlexCenter;c=a.root;g.contentFlexCenter=b;g.root=c}),98);
__d("IGPlatformToSLoadingView.react",["CometRelay","IGPlatformToSLoadingView_fragment.graphql","InstantGamesLoadingViewGameIcon.react","InstantGamesLoadingViewStyles","InstantGamesPlayerUtils","JSResourceForInteraction","lazyLoadComponent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("GamesServiceOauthDialogContainer").__setRef("IGPlatformToSLoadingView.react")),k=h!==void 0?h:h=b("IGPlatformToSLoadingView_fragment.graphql");function a(a){var b,e=d("CometRelay").useFragment(k,a.gameData);return a.canStart?i.jsx("div",{className:c("stylex")(d("InstantGamesLoadingViewStyles").root),children:i.jsx("div",{className:c("stylex")(d("InstantGamesLoadingViewStyles").contentFlexCenter),children:i.jsx(c("InstantGamesLoadingViewGameIcon.react"),{gameData:e==null?void 0:(b=e.application)==null?void 0:b.gameInfo,progress:a.progress,showTos:!a.canStart})})}):i.jsx(j,babelHelpers["extends"]({},a.cloudTOSProps,{isMobile:d("InstantGamesPlayerUtils").isCometOnMobile(),onCloudTOSClicked:a.onAllowStart,onCrossPlayToSClicked:a.onCrossPlayToS,onPlayerNameChange:a.onPlayerNameChange,onPlayerPhotoChanged:a.onPlayerPhotoChanged,orientation:a.orientation,shouldForceGrantSocialInformation:a.shouldForceGrantSocialInformation,socialContext:e==null?void 0:(b=e.application)==null?void 0:(a=b.gameInfo)==null?void 0:a.socialContext}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CloudGamingNetworkQualityDialog.react",["CloudGamingClientFbts","CometCardedDialogLegacy.react","TetraButtonGroup.react","TetraListCell.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b=i(!1),e=b[0],f=b[1];b=function(){a.closeCallback&&a.closeCallback(e)};var g=function(){f(!e)},j=a.clientAppID===String(256281040558)||a.clientAppID===String(2220391788200892);return h.jsx(c("CometCardedDialogLegacy.react"),{size:"small",title:d("CloudGamingClientFbts").CloudGamingClientFbts.NETWORK_QUALITY_TITLE_TEXT,titleHorizontalAlignment:"start",children:h.jsxs("div",{className:"x1qjc9v5 x78zum5 xdt5ytf xyamay9 x1pi30zi x1l90r2v x1swvt13",children:[h.jsxs("ul",{className:"xzsf02u x43c9pm xtaz4m5 x12nagc x1d52u69 x1yc453h",children:[h.jsx("li",{children:h.jsx(c("TetraText.react"),{type:"body3",children:d("CloudGamingClientFbts").CloudGamingClientFbts.NETWORK_QUALITY_TIP_0_TEXT})}),j?null:h.jsx("li",{children:h.jsx(c("TetraText.react"),{type:"body3",children:d("CloudGamingClientFbts").CloudGamingClientFbts.NETWORK_QUALITY_TIP_4_TEXT})}),h.jsxs("li",{children:[" ",h.jsx(c("TetraText.react"),{type:"body3",children:d("CloudGamingClientFbts").CloudGamingClientFbts.NETWORK_QUALITY_TIP_1_TEXT})]}),h.jsxs("li",{children:[" ",h.jsx(c("TetraText.react"),{type:"body3",children:d("CloudGamingClientFbts").CloudGamingClientFbts.NETWORK_QUALITY_TIP_2_TEXT})]}),h.jsxs("li",{children:[" ",h.jsx(c("TetraText.react"),{type:"body3",children:d("CloudGamingClientFbts").CloudGamingClientFbts.NETWORK_QUALITY_TIP_3_TEXT})]})]}),h.jsx("div",{className:"xexx8yu",children:h.jsx(c("TetraListCell.react"),{addOnSecondary:{on:e,onPress:g,type:"checkbox"},contentHorizontalPadding:0,headline:d("CloudGamingClientFbts").CloudGamingClientFbts.DONT_SHOW_AGAIN_TEXT,level:4,onPress:g,paddingHorizontal:0})}),h.jsx("div",{children:h.jsx(c("TetraButtonGroup.react"),{paddingHorizontal:0,paddingTop:0,primary:{label:d("CloudGamingClientFbts").CloudGamingClientFbts.CLOSE_TEXT,onPress:b,reduceEmphasis:!0,type:"primary"}})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstantGamesSplashScreen.react",["CometRelay","InstantGamesGameState","InstantGamesSplashScreen_gameInfo.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("InstantGamesSplashScreen_gameInfo.graphql");function a(a){var b=a.gameInfo,c=a.gameState;a=a.progress;b=d("CometRelay").useFragment(j,b);b=(b=b==null?void 0:b.splashURI)!=null?b:"";c=c===d("InstantGamesGameState").INITIAL||c===d("InstantGamesGameState").LOADING||c===d("InstantGamesGameState").READY;return!c?null:i.jsxs("div",{className:"x13xa001 x5yr21d x6ikm8r x10wlt62 x10l6tqk x17qophe x13vifvy xh8yej3",children:[i.jsx("div",{className:"x1xsqp64 x18d0r48 xg32yw2 x5yr21d x6ikm8r x10wlt62 xh8yej3",style:{backgroundImage:"url("+b+")"}}),i.jsx("div",{className:"x10l6tqk x17qophe x13vifvy xh8yej3",children:i.jsx("div",{className:"x38mehp x1ycjhwn x10l6tqk x19ddzpn",style:{width:a+"%"}})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GamesQuicksilverNotSupportedMessage.react",["GamesQuicksilverFunnelLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.children,c=a.funnelName,e=a.gameID,f=a.logMessage,g=j(!1);i(function(){if(g.current===!0)return;g.current=!0;d("GamesQuicksilverFunnelLogger").logGameNotSupported(c,e,f)});return h.jsx("div",{className:"x5yr21d x6ikm8r x10wlt62 x2b8uid xh8yej3",children:h.jsx("div",{className:"xal61yo x5yr21d x10l6tqk xh8yej3",children:h.jsx("div",{className:"x14ctfv xt0psk2 xylt984 x1n2onr6 xwa60dl",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstantGamesLoadingViewPrivacyContent.react",["fbt","ix","CometImage.react","CometLink.react","CometRelay","InstantGamesLoadingViewPrivacyContent_fragment.graphql","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l=j!==void 0?j:j=b("InstantGamesLoadingViewPrivacyContent_fragment.graphql");function a(a){var b=d("CometRelay").useFragment(l,a.privacyNotice),e=a.privacyUrl;b=b==null?void 0:(b=b.privacyNotice)==null?void 0:(b=b.description)==null?void 0:b.text;return k.jsxs("div",{children:[k.jsx("div",{className:c("stylex")(a.privacyTextXStyle),children:b}),e!=null?k.jsxs("div",{className:"x78zum5 x1q0g3np x1qughib x889kno xc73u3c x1a8lsjc x5ib6vp",children:[k.jsx("div",{className:"x14ctfv x78zum5 x10siri3",children:a.developerPrivacyNotice}),k.jsx("div",{className:"x78zum5",children:k.jsx(c("CometLink.react"),{"aria-label":h._("__JHASH__exN7t68MZo___JHASH__"),href:e,target:"_blank",children:k.jsx(c("CometImage.react"),{src:i("764750")})})})]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstantGamesStartPlayButton.react",["fbt","InstantGamesButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b;b=(b=a.title)!=null?b:h._("__JHASH__NPN-rkdC612__JHASH__");return i.jsx("div",{className:"xwnonoy xyi19xy x1ccrb07 xtf3nb5 x1pc53ja x9f619 x17z8epw x1ypdohk x1lliihq x1bhwmg6 xkzkwiv xdj266r x1emribx xat24cr x1i64zmx x1a2a7pz x2b8uid xxymvpz",children:i.jsx(c("InstantGamesButton.react"),{onClick:a.onClick,testid:void 0,title:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstantGamesWebHubTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:InstantGamesWebHubLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:InstantGamesWebHubLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:InstantGamesWebHubLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setButtonType=function(a){this.$1.button_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGdImpressionID=function(a){this.$1.gd_impression_id=a;return this};c.setOwnerUserID=function(a){this.$1.owner_user_id=a;return this};c.setPosition=function(a){this.$1.position=a;return this};c.setScreenHeightOverride=function(a){this.$1.screen_height_override=a;return this};c.setScreenWidthOverride=function(a){this.$1.screen_width_override=a;return this};c.setSection=function(a){this.$1.section=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStoreVisitSource=function(a){this.$1.store_visit_source=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={app_id:!0,button_type:!0,event:!0,gd_impression_id:!0,owner_user_id:!0,position:!0,screen_height_override:!0,screen_width_override:!0,section:!0,source:!0,store_visit_source:!0};f["default"]=a}),66);
__d("InstantGamesLoadingView.react",["CometRelay","GamesQuicksilverFunnelLogger","InstantGamesLoadingViewGameIcon.react","InstantGamesLoadingViewPrivacyContent.react","InstantGamesLoadingViewStyles","InstantGamesLoadingView_fragment.graphql","InstantGamesStartPlayButton.react","InstantGamesWebHubTypedLogger","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useEffect,k=e.useRef,l=h!==void 0?h:h=b("InstantGamesLoadingView_fragment.graphql"),m={buttons:{display:"x78zum5",$$css:!0},permissionContentFlex:{flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",marginBottom:"xieb3on",textAlign:"x1yc453h",width:"xh8yej3",$$css:!0},privacyText:{color:"x14ctfv",fontSize:"xrv4cvt",paddingTop:"x889kno",paddingEnd:"xc73u3c",paddingBottom:"x1a8lsjc",paddingStart:"x5ib6vp",$$css:!0}};function a(a){var b,e,f=d("CometRelay").useFragment(l,a.scopeData),g=k(!1),h=f==null?void 0:(b=f.application)==null?void 0:b.gameID;j(function(){if(g.current===!0)return;g.current=!0;(f==null?void 0:f.privacyNotice)&&(new(c("InstantGamesWebHubTypedLogger"))().setAppID(h).setButtonType("tos_accept").setEvent("impression").setSection("tos_accept_in_player_ig").setSource(a.entryPoint).log(),d("GamesQuicksilverFunnelLogger").logAction(a.funnelName,"gamer_profile_show_existing_tos_dark"))},[f==null?void 0:f.privacyNotice,h,a.entryPoint,a.funnelName]);b=function(){a.grantPermissions(2823630171291873),new(c("InstantGamesWebHubTypedLogger"))().setAppID(h).setButtonType("tos_accept").setEvent("click").setSection("tos_accept_in_player_ig").setSource(a.entryPoint).log(),d("GamesQuicksilverFunnelLogger").logAction(a.funnelName,"gamer_profile_grant_existing_tos_dark")};return i.jsxs("div",{className:c("stylex")(d("InstantGamesLoadingViewStyles").root),children:[i.jsx("div",{className:c("stylex")(d("InstantGamesLoadingViewStyles").contentFlexCenter),children:i.jsx(c("InstantGamesLoadingViewGameIcon.react"),{gameData:f==null?void 0:(e=f.application)==null?void 0:e.gameInfo,progress:a.progress,showTos:a.showTos})}),a.showTos?i.jsxs("div",{className:"x1c4vz4f xs83m0k xieb3on x1yc453h xh8yej3",children:[(f==null?void 0:f.privacyNotice)?i.jsx(c("InstantGamesLoadingViewPrivacyContent.react"),{developerPrivacyNotice:f==null?void 0:(e=f.application)==null?void 0:(e=e.gameInfo)==null?void 0:e.developerPrivacyNotice,privacyNotice:f,privacyTextXStyle:m.privacyText,privacyUrl:a.privacyUrl}):null,i.jsx("div",{className:"x78zum5",children:i.jsx(c("InstantGamesStartPlayButton.react"),{onClick:b,title:a.buttonTitle})})]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InteractivePluginTOSDialog.entrypoint",["InteractivePluginTOSDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.pluginAppID;a=a.sessionID;return b==null?{}:{queries:{rootQueryRef:{parameters:c("InteractivePluginTOSDialogQuery$Parameters"),variables:{pluginAppID:b,sessionID:a}}}}},root:c("JSResourceForInteraction")("InteractivePluginTOSDialog.react").__setRef("InteractivePluginTOSDialog.entrypoint")};g["default"]=a}),98);
__d("useInteractivePluginTOSDialogManager",["InstantGameGamePlayerContext","InteractivePluginTOSDialog.entrypoint","react","useCometTahoeSidepaneEntryPointDialogEnforcing"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect,j=b.useRef;function a(a){var b=a.onDenyAccess,d=a.onGrantAccess,e=a.pluginAppID,f=a.shouldShowTOS;a=h(c("InstantGameGamePlayerContext"));var g=a.environmentType,k=a.sessionID,l=j(!1);a=c("useCometTahoeSidepaneEntryPointDialogEnforcing")(c("InteractivePluginTOSDialog.entrypoint"),{pluginAppID:e,sessionID:k});var m=a[0];i(function(){if(!f||g!=="video_plugin"||e==null||l.current)return;l.current=!0;m({onDenyAccess:b,onGrantAccess:d,pluginAppID:e,sessionID:k})},[g,f,d,k,b,e,m])}g["default"]=a}),98);
__d("InstantGamesLoadingViewContainer.react",["fbt","CloudGamingLogUtils","CometRelay","GamesQuicksilverFunnelLogger","GamesQuicksilverNotSupportedMessage.react","IGPlatformToSLoadingView.react","InstantGamesLoadingView.react","InstantGamesLoadingViewContainer_fragment.graphql","InstantGamesPlayerUtils","gkx","react","stylex","useInteractivePluginTOSDialogManager"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useEffect,l=e.useRef,m=i!==void 0?i:i=b("InstantGamesLoadingViewContainer_fragment.graphql");function a(a){var b,e=d("CometRelay").useFragment(m,a.scopeData),f=l(!1),g=e==null?void 0:(b=e.application)==null?void 0:b.gameID;k(function(){if(f.current===!0)return;f.current=!0;(e==null?void 0:e.privacyNotice)&&d("GamesQuicksilverFunnelLogger").logAction(a.funnelName,"privacy_info_show")},[e==null?void 0:e.privacyNotice,g,a.entryPoint,a.funnelName]);c("useInteractivePluginTOSDialogManager")({onDenyAccess:a.denyPermissions,onGrantAccess:a.grantPermissions,pluginAppID:g,shouldShowTOS:a.showTos});b=function(){var b=a.cloudTOSParamsWithExtraInfo;if(b!=null&&b.cloudTOSParam!=null&&(b.cloudTOSParam.shouldUseCloudGamingTOS||b.cloudTOSParam.shouldUseCrossPlayToS===!0))return j.jsx(c("IGPlatformToSLoadingView.react"),{canStart:!a.showTos,cloudTOSProps:b.cloudTOSParam,gameData:e,onAllowStart:b.onAllowStart,onCrossPlayToS:a.grantPermissions,onPlayerNameChange:a.onPlayerNameChange,onPlayerPhotoChanged:a.onPlayerPhotoChanged,orientation:b==null?void 0:b.orientation,progress:a.progress,shouldForceGrantSocialInformation:a.shouldForceGrantSocialInformation});if(a.shouldUseOnPlatformTOS===!0&&a.showTos){d("CloudGamingLogUtils").logEvent("INCORRECT TOS",g,"","",null);return j.jsx(c("GamesQuicksilverNotSupportedMessage.react"),{funnelName:a.funnelName,gameID:(b=g)!=null?b:"",logMessage:"This game should use On Platform (CG) TOS, but is trying to load IG TOS.",children:h._("__JHASH__kN0phIfZ0md__JHASH__")})}return j.jsx(c("InstantGamesLoadingView.react"),{buttonTitle:a.buttonTitle,entryPoint:a.entryPoint,funnelName:a.funnelName,gameServiceUserStatus:a.gameServiceUserStatus,grantPermissions:a.grantPermissions,privacyUrl:a.privacyUrl,progress:a.progress,scopeData:e,showTos:a.showTos})};b=b();return j.jsx("div",{className:c("stylex")(a.xstyle),style:c("gkx")("676802")&&d("InstantGamesPlayerUtils").isCometOnMobile()?{height:-1}:null,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstantGamesRelayPermissions",["InstantGamesRelayPermissions_GrantPermissionsMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("InstantGamesRelayPermissions_GrantPermissionsMutation.graphql");g.GrantPermissionsMutation=a}),98);
__d("Interactive360CTA",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){switch(a){case"VIEW_NOW":return h._("__JHASH__erbczxLN0mr__JHASH__");case"TAKE_THE_TOUR":return h._("__JHASH__-jncYOpsbJ6__JHASH__")}return null}g.getButtonMessageFromType=a}),98);
__d("InstantGamesTOSContainer.react",["CometRelay","GamesInstantPlaySupportedOrientation","GamesQuicksilverFunnelLogger","InstantGamesLoadingViewContainer.react","InstantGamesRelayPermissions","InstantGamesTOSContainer_gameFragment.graphql","InstantGamesTOSContainer_scopeFragment.graphql","Interactive360CTA","PrivacyMutationToken","emptyFunction","react","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k={fullsizeContainer:{backgroundColor:"x1h6ucep",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"xzkaem6",$$css:!0}},l=h!==void 0?h:h=b("InstantGamesTOSContainer_gameFragment.graphql"),m=i!==void 0?i:i=b("InstantGamesTOSContainer_scopeFragment.graphql");function a(a){var b,e=a.contextKey,f=a.entryPoint,g=a.funnelName,h=a.gameInfo,i=a.isTosed,n=a.onDenyPermissions,o=a.onGrantPermissions,p=a.onPlayerNameChanged,q=a.onPlayerPhotoChanged,r=a.privacyUrl,s=a.progress,t=a.showTos;a=a.userScope;var u=d("CometRelay").useRelayEnvironment(),v=d("CometRelay").useFragment(l,h),w=v.cloudTOSProps,x=d("CometRelay").useFragment(m,a);(function(){var a;if((w==null?void 0:w.shouldUseCloudGamingTOS)===!0&&(x==null?void 0:(a=x.application)==null?void 0:a.instant_game_info)!=null){return(x==null?void 0:(a=x.application)==null?void 0:(a=a.instant_game_info)==null?void 0:a.is_cloud_game_tosed)===!0}else{a=x==null?void 0:x.privacyNotice;return!a||a.permissions.length===0}});h=function(a){var b,e;if(i)return;b=(b=v.gameID)!=null?b:"";if(x==null?void 0:(e=x.privacyNotice)==null?void 0:e.permissions){e=(e=x.privacyNotice)==null?void 0:e.permissions.map(function(a){return a.permission});d("CometRelay").commitMutation(u,{mutation:d("InstantGamesRelayPermissions").GrantPermissionsMutation,variables:{input:{app_id:b,client_mutation_id:c("uuid")(),enable_global_tos:!1,grant_permissions:e,privacy_mutation_token:d("PrivacyMutationToken").getPrivacyMutationTokenFromSourceID(a)}}})}d("GamesQuicksilverFunnelLogger").logAction(g,"privacy_info_grant_permissions");o()};a=v.interactive360;a=a?d("Interactive360CTA").getButtonMessageFromType(a.cta):null;b=x==null?void 0:(b=x.gamesServiceUser)==null?void 0:b.games_service_user_status;return j.jsx("div",{className:"x1h6ucep x5yr21d x6ikm8r x10wlt62 x10l6tqk x17qophe x13vifvy xh8yej3 xzkaem6",children:j.jsx(c("InstantGamesLoadingViewContainer.react"),{buttonTitle:a,cloudTOSParamsWithExtraInfo:{cloudTOSParam:(a=w)!=null?a:void 0,onAllowStart:o,orientation:v.orientation!=null?c("GamesInstantPlaySupportedOrientation")[v.orientation]:null},denyPermissions:(a=n)!=null?a:c("emptyFunction"),entryPoint:f,funnelName:g,gameServiceUserStatus:b,grantPermissions:h,onPlayerNameChange:p,onPlayerPhotoChanged:q,privacyUrl:r,progress:s,scopeData:x,shouldForceGrantSocialInformation:w!=null&&(w==null?void 0:w.shouldUseCrossPlayToS)&&!e.isSoloPlay(),shouldUseOnPlatformTOS:v.useOnPlatformAuth,showTos:t,xstyle:k.fullsizeContainer})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstantGamesMessageListener",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=!1;this.$2=null;this.$6=!1;this.$7=[];this.$4=a;this.$5=b!=null?(b=(a=d("ConstUriUtils").getUri(b))==null?void 0:a.getOrigin())!=null?b:"":"";this.$3=c}var b=a.prototype;b.setHandler=function(a){this.$3=a};b.lock=function(){this.$6=!0};b.unlock=function(){while(this.$7.length>0){var a=this.$7.shift();a&&a.data&&a.data.type&&this.$3(a.data.type,a.data.content||null)}this.$6=!1};b.init=function(){var a=this;if(this.$1)return;this.$2=function(b){if(a.$5!==""&&b.origin!==a.$5&&b.source!==window.self)return;if(b.data&&b.data.destination){if(b.data.destination!==a.$4)return;var c=b.data.type;if(!c)return;a.$6?a.$7.push(b):a.$3(c,b.data.content||null)}};window.addEventListener("message",this.$2,!1)};b.close=function(){if(this.$1)return;this.$2&&window.removeEventListener("message",this.$2);this.$1=!0};return a}();g["default"]=a}),98);
__d("InstantGamesCustomInviteGenericDialog.entrypoint",["InstantGamesCustomInviteGenericDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.appID,d=a.contextTokenID,e=a.logGamesUnifiedSharingEvent,f=a.logInstantGamesTournamentEvent;a=a.trigger;return{extraProps:{logGamesUnifiedSharingEvent:e,logInstantGamesTournamentEvent:f,trigger:a},queries:{query:{parameters:c("InstantGamesCustomInviteGenericDialogQuery$Parameters"),variables:{appID:b,contextTokenID:d}}}}},root:c("JSResourceForInteraction")("InstantGamesCustomInviteGenericDialog.react").__setRef("InstantGamesCustomInviteGenericDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("InstantGamesViewStreamersDialog.entrypoint",["InstantGamesViewStreamersDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=40;a={getPreloadProps:function(a){return{queries:{query:{parameters:c("InstantGamesViewStreamersDialogQuery$Parameters"),variables:{appID:a.appID,limit:h,profileImageSize:i}}}}},root:c("JSResourceForInteraction")("InstantGamesViewStreamersDialog.react").__setRef("InstantGamesViewStreamersDialog.entrypoint")};g.VIDEO_LIMIT=h;g.PROFILE_IMAGE_SIZE=i;g.InstantGamesViewStreamersDialogEntrypoint=a}),98);
__d("FleetBeaconStates",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getName=function(){return"initial"};b.getFleetBeaconRunner=function(){return this.$1};b.prepareFleetBeaconSucceed=function(){throw new Error("Invalid transition")};b.prepareFleetBeaconFailed=function(){throw new Error("Invalid transition")};b.subscribeIssued=function(){throw new Error("Invalid transition")};b.subscribeSuccessSignalReceived=function(){throw new Error("Invalid transition")};b.publishIssued=function(){throw new Error("Invalid transition")};b.publishFailed=function(){throw new Error("Invalid transition")};b.payloadReceived=function(){throw new Error("Invalid transition")};b.waitForPublishTimeout=function(){throw new Error("Invalid transition")};b.subscribeTimeout=function(){throw new Error("Invalid transition")};b.payloadTimeout=function(){throw new Error("Invalid transition")};b.cleanUpFinish=function(){throw new Error("Invalid transition")};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getName=function(){return"preparing"};c.prepareFleetBeaconSucceed=function(){var b=this;return{newState:new g(a.prototype.getFleetBeaconRunner.call(this)),action:function(){a.prototype.getFleetBeaconRunner.call(b).runFleetBeaconTest()}}};c.prepareFleetBeaconFailed=function(){var b=this;return{newState:new m(a.prototype.getFleetBeaconRunner.call(this)),action:function(){b.getFleetBeaconRunner().cleanUpFleetBeacon()}}};return b}(a);var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"before_subscribe"};c.subscribeIssued=function(){var a=this;return{newState:new h(b.prototype.getFleetBeaconRunner.call(this)),action:function(){b.prototype.getFleetBeaconRunner.call(a).startSubscribeTimer()}}};return a}(a),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"subscribe_issued"};c.subscribeSuccessSignalReceived=function(){var a=this;return{newState:new i(b.prototype.getFleetBeaconRunner.call(this)),action:function(){b.prototype.getFleetBeaconRunner.call(a).waitForNextPublish()}}};c.subscribeTimeout=function(){var a=this;return{newState:new k(b.prototype.getFleetBeaconRunner.call(this)),action:function(){a.getFleetBeaconRunner().cleanUpFleetBeacon()}}};return a}(a),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"waiting_to_publish"};c.waitForPublishTimeout=function(){var a=this;return{newState:new j(b.prototype.getFleetBeaconRunner.call(this)),action:function(){b.prototype.getFleetBeaconRunner.call(a).publish(),b.prototype.getFleetBeaconRunner.call(a).startPayloadTimer()}}};return a}(a),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"publish_issued"};c.publishFailed=function(){var a=this;return{newState:new m(b.prototype.getFleetBeaconRunner.call(this)),action:function(){a.getFleetBeaconRunner().cleanUpFleetBeacon()}}};c.payloadReceived=function(){var a=this,c,d;(function(){});b.prototype.getFleetBeaconRunner.call(this).isLastPayload()?(c=new l(b.prototype.getFleetBeaconRunner.call(this)),d=function(){a.getFleetBeaconRunner().cleanUpFleetBeacon()}):(c=new i(b.prototype.getFleetBeaconRunner.call(this)),d=function(){b.prototype.getFleetBeaconRunner.call(a).waitForNextPublish()});return{newState:c,action:d}};c.payloadTimeout=function(){var a=this;return{newState:new k(b.prototype.getFleetBeaconRunner.call(this)),action:function(){a.getFleetBeaconRunner().cleanUpFleetBeacon()}}};return a}(a),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"failed"};c.cleanUpFinish=function(){return{newState:new n(b.prototype.getFleetBeaconRunner.call(this)),action:function(){}}};return a}(a),l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"succeed"};c.cleanUpFinish=function(){return{newState:new n(b.prototype.getFleetBeaconRunner.call(this)),action:function(){}}};return a}(a),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"aborted"};c.cleanUpFinish=function(){return{newState:new n(b.prototype.getFleetBeaconRunner.call(this)),action:function(){}}};return a}(a),n=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"finish"};return a}(a);f.FleetBeaconState=a;f.FleetBeaconPreparingState=b;f.FleetBeaconBeforeSubscribeState=g;f.FleetBeaconSubscribedIssuedState=h;f.FleetBeaconWaitingToPublishState=i;f.FleetBeaconPublishIssuedState=j;f.FleetBeaconFailedState=k;f.FleetBeaconSucceedState=l;f.FleetBeaconAbortedState=m;f.FleetBeaconFinishState=n}),66);
__d("FleetBeaconRunner",["FleetBeaconStates","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a;this.$2=new(d("FleetBeaconStates").FleetBeaconState)(this);var b=new(d("FleetBeaconStates").FleetBeaconPreparingState)(this);this.$1.cleanPreviousFleetBeaconResult();this.$6(function(){return{newState:b,action:function(){}}});this.$3=0;this.$1.setFleetBeaconRunner(this)}var b=a.prototype;b.getPublishTimes=function(){return this.$3};b.prepareFleetBeaconTest=function(){this.$1.prepareFleetBeaconTest()};b.runFleetBeaconTest=function(){var a=this;this.$6(function(){return a.$2.subscribeIssued()});this.$7()};b.$7=function(){this.$1.subscribe()};b.publish=function(){this.$1.publish()};b.isLastPayload=function(){return this.$3>=this.$1.publishWaitIntervalsMS().length};b.waitForNextPublish=function(){var a=this,b=this.$1.publishWaitIntervalsMS()[this.$3];this.$3+=1;b===0?this.$8():c("setTimeout")(function(){a.$8()},b)};b.startSubscribeTimer=function(){var a=this,b=this.$1.subscribeTimeoutIntervalMS();this.$4=c("setTimeout")(function(){a.$9()},b)};b.startPayloadTimer=function(){var a=this,b=this.$1.payloadTimeoutIntervalMS();this.$5=c("setTimeout")(function(){a.$10()},b)};b.cleanUpFleetBeacon=function(){this.$1.cleanUpFleetBeacon()};b.onCleanUpFinish=function(){var a=this;this.$6(function(){return a.$2.cleanUpFinish()})};b.$8=function(){var a=this;this.$6(function(){return a.$2.waitForPublishTimeout()})};b.$9=function(){var a=this;this.$6(function(){return a.$2.subscribeTimeout()})};b.$10=function(){var a=this;this.$6(function(){return a.$2.payloadTimeout()})};b.onPrepareFleetBeaconSuccess=function(){var a=this;this.$6(function(){return a.$2.prepareFleetBeaconSucceed()})};b.onPrepareFleetBeaconFailed=function(){var a=this;this.$6(function(){return a.$2.prepareFleetBeaconFailed()})};b.onSubscribe=function(){var a=this;c("clearTimeout")(this.$4);this.$6(function(){return a.$2.subscribeSuccessSignalReceived()})};b.onPayloadReceived=function(){var a=this;c("clearTimeout")(this.$5);this.$6(function(){return a.$2.payloadReceived()})};b.onPublishFailed=function(){var a=this;c("clearTimeout")(this.$5);this.$6(function(){return a.$2.publishFailed()})};b.$6=function(a){a=a();var b=this.$2;this.$2=a.newState;var c=this.$2;this.$11(b,c);a.action()};b.$11=function(a,b){this.$1.onFleetBeaconStateTransition(a,b)};return a}();g["default"]=a}),98);
__d("FleetBeaconStateTransitionListener",[],(function(a,b,c,d,e,f){a=function(){function a(){}var b=a.prototype;b.onFleetBeaconStateTransition=function(a,b,c,d){throw new Error("Require implementation")};b.cleanState=function(){throw new Error("Require implementation")};return a}();f["default"]=a}),66);
__d("FleetBeaconTestBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=null,this.$2=[]}var b=a.prototype;b.addStateTransitionListener=function(a){this.$2.push(a)};b.cleanPreviousFleetBeaconResult=function(){this.$2.forEach(function(a){a.cleanState()})};b.getNumberOfPublishers=function(){var a;return(a=(a=this.$1)==null?void 0:a.getPublishTimes())!=null?a:-1};b.getTestID=function(){throw new Error("Require implementation")};b.setFleetBeaconRunner=function(a){this.$1=a};b.prepareFleetBeaconTest=function(){throw new Error("Require implementation")};b.onPrepareFleetBeaconSuccess=function(){var a;(a=this.$1)==null?void 0:a.onPrepareFleetBeaconSuccess()};b.onPrepareFleetBeaconFailed=function(){var a;(a=this.$1)==null?void 0:a.onPrepareFleetBeaconFailed()};b.subscribe=function(){throw new Error("Require implementation")};b.onSubscribe=function(){var a;(a=this.$1)==null?void 0:a.onSubscribe()};b.publish=function(){throw new Error("Require implementation")};b.cleanUpFleetBeacon=function(){throw new Error("Require implementation")};b.onCleanUpFinish=function(){var a;(a=this.$1)==null?void 0:a.onCleanUpFinish()};b.onPublishFailed=function(){var a;(a=this.$1)==null?void 0:a.onPublishFailed()};b.onPayloadReceived=function(){var a;(a=this.$1)==null?void 0:a.onPayloadReceived()};b.subscribeTimeoutIntervalMS=function(){return 1e4};b.payloadTimeoutIntervalMS=function(){return 2e4};b.publishWaitIntervalsMS=function(){return[1e4,5e3]};b.shouldStartTime=function(){return!0};b.onFleetBeaconStateTransition=function(a,b){var c=this,d=Date.now();this.$2.forEach(function(e){e.onFleetBeaconStateTransition(a,b,d,c)})};return a}();f["default"]=a}),66);
__d("FleetBeaconTestUIAnnouncer",["FleetBeaconStateTransitionListener"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.$FleetBeaconTestUIAnnouncer1=[];b.$FleetBeaconTestUIAnnouncer3=!1;b.$FleetBeaconTestUIAnnouncer4=!1;b.$FleetBeaconTestUIAnnouncer5=!1;b.$FleetBeaconTestUIAnnouncer6=!1;b.$FleetBeaconTestUIAnnouncer7=-1;b.$FleetBeaconTestUIAnnouncer8=-1;b.$FleetBeaconTestUIAnnouncer9=0;b.$FleetBeaconTestUIAnnouncer10=0;b.$FleetBeaconTestUIAnnouncer11=[];b.$FleetBeaconTestUIAnnouncer12=-1;b.$FleetBeaconTestUIAnnouncer13=-1;b.$FleetBeaconTestUIAnnouncer14=-1;return b}var c=b.prototype;c.cleanState=function(){this.$FleetBeaconTestUIAnnouncer3=!1,this.$FleetBeaconTestUIAnnouncer4=!1,this.$FleetBeaconTestUIAnnouncer5=!1,this.$FleetBeaconTestUIAnnouncer6=!1,this.$FleetBeaconTestUIAnnouncer7=-1,this.$FleetBeaconTestUIAnnouncer8=-1,this.$FleetBeaconTestUIAnnouncer9=0,this.$FleetBeaconTestUIAnnouncer10=0,this.$FleetBeaconTestUIAnnouncer11=[],this.$FleetBeaconTestUIAnnouncer12=-1,this.$FleetBeaconTestUIAnnouncer13=-1,this.$FleetBeaconTestUIAnnouncer14=-1};c.addSubscriber=function(a){this.$FleetBeaconTestUIAnnouncer1.push(a)};c.onFleetBeaconStateTransition=function(a,b,c,d){var e=d.getTestID(),f={oldState:a,newState:b,testID:e,timestamp:c,extra:{}};this.$FleetBeaconTestUIAnnouncer2==null&&(this.$FleetBeaconTestUIAnnouncer2=d);e="NONE";switch(b.getName()){case"initial":break;case"preparing":this.$FleetBeaconTestUIAnnouncer12=Date.now();this.$FleetBeaconTestUIAnnouncer3=!0;f.extra=babelHelpers["extends"]({},f.extra,{createIssued:!0});break;case"before_subscribe":this.$FleetBeaconTestUIAnnouncer13=Date.now();this.$FleetBeaconTestUIAnnouncer4=!0;f.extra=babelHelpers["extends"]({},f.extra,{createSuccess:!0});break;case"subscribe_issued":this.$FleetBeaconTestUIAnnouncer5=!0;f.extra=babelHelpers["extends"]({},f.extra,{subscribeIssued:!0,subscribeTimestamp:this.$FleetBeaconTestUIAnnouncer13,subscribeTimeoutIntervalMS:(d=(c=this.$FleetBeaconTestUIAnnouncer2)==null?void 0:c.subscribeTimeoutIntervalMS())!=null?d:-1});break;case"waiting_to_publish":a.getName()==="subscribe_issued"&&(this.$FleetBeaconTestUIAnnouncer6=!0,this.$FleetBeaconTestUIAnnouncer7=Date.now()-this.$FleetBeaconTestUIAnnouncer13,f.extra=babelHelpers["extends"]({},f.extra,{subscribeSuccess:!0,subscribeLatencyMS:this.$FleetBeaconTestUIAnnouncer7}));a.getName()==="publish_issued"&&this.$FleetBeaconTestUIAnnouncer15(f);break;case"publish_issued":this.$FleetBeaconTestUIAnnouncer9+=1;this.$FleetBeaconTestUIAnnouncer14=Date.now();f.extra=babelHelpers["extends"]({},f.extra,{publishIssued:!0,payloadTimeoutInterval:(c=(b=this.$FleetBeaconTestUIAnnouncer2)==null?void 0:b.payloadTimeoutIntervalMS())!=null?c:-1});break;case"failed":a.getName()==="subscribe_issued"&&(e="SUBSCRIBE_FAILED");a.getName()==="publish_issued"&&(e="RECEIVE_PUBLISH_FAILED");this.$FleetBeaconTestUIAnnouncer16(f,"FAILURE",e);break;case"succeed":a.getName()==="publish_issued"&&this.$FleetBeaconTestUIAnnouncer15(f);this.$FleetBeaconTestUIAnnouncer16(f,"SUCCESS","NONE");break;case"aborted":a.getName()==="preparing"&&(e="CREATE_TEST_FAILED");a.getName()==="publish_issued"&&(e="MUTATE_FIELD_FAILED");this.$FleetBeaconTestUIAnnouncer16(f,"ABORT",e);break;case"finish":f.extra=babelHelpers["extends"]({},f.extra,{cleanUpFinish:!0});break;default:}this.$FleetBeaconTestUIAnnouncer1.forEach(function(a){a(f)})};c.$FleetBeaconTestUIAnnouncer15=function(a){this.$FleetBeaconTestUIAnnouncer10+=1;var b=Date.now()-this.$FleetBeaconTestUIAnnouncer14;this.$FleetBeaconTestUIAnnouncer11.push(b);a.extra=babelHelpers["extends"]({},a.extra,{payloadSuccess:!0,payloadSuccessCnt:this.$FleetBeaconTestUIAnnouncer10,payloadLatency:b})};c.$FleetBeaconTestUIAnnouncer16=function(a,b,c){a.extra=babelHelpers["extends"]({},a.extra,{testResult:b,failureReason:c})};return b}(c("FleetBeaconStateTransitionListener"));g["default"]=a}),98);
__d("FleetBeaconSubscriptionNetwork",["CurrentUser","FleetBeaconSubscriptionNetwork_LogMutation.graphql","FleetBeaconSubscriptionNetwork_PublishMutation.graphql","FleetBeaconSubscriptionNetwork_Subscription.graphql","Promise","RelayFBSubscription","cr:1053","regeneratorRuntime","relay-runtime","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("cr:1053").addFBisms(d("relay-runtime").commitMutation),l=c("RelayFBSubscription").addFBisms(d("relay-runtime").requestSubscription);a=function(){function a(a){this.environment=a}var d=a.prototype;d.subscribe=function(a,c){return l(this.environment,{subscription:h!==void 0?h:h=b("FleetBeaconSubscriptionNetwork_Subscription.graphql"),variables:{input:{test_id:a}},onError:c.onError,onNext:c.onNext})};d.publish=function(a){var d=this;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new(b("Promise"))(function(e,f){k(d.environment,{mutation:i!==void 0?i:i=b("FleetBeaconSubscriptionNetwork_PublishMutation.graphql"),variables:{input:{client_mutation_id:c("uuid")(),actor_id:c("CurrentUser").getAccountID(),test_id:a}},onCompleted:function(a){return e()},onError:f})}));case 1:case"end":return e.stop()}},null,this)};d.log=function(a){var c=this;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:return d.abrupt("return",new(b("Promise"))(function(d,e){k(c.environment,{mutation:j!==void 0?j:j=b("FleetBeaconSubscriptionNetwork_LogMutation.graphql"),variables:{input:a},onCompleted:function(a){return d()},onError:e})}));case 1:case"end":return d.stop()}},null,this)};return a}();g["default"]=a}),98);
__d("FleetBeaconTestSubscriptionLogger",["CurrentUser","FleetBeaconStateTransitionListener","RelayRTIUtils","uuid"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this)||this;e.$FleetBeaconTestSubscriptionLogger1=null;e.$FleetBeaconTestSubscriptionLogger2=b;e.$FleetBeaconTestSubscriptionLogger3=!1;e.$FleetBeaconTestSubscriptionLogger4=!1;e.$FleetBeaconTestSubscriptionLogger5=!1;e.$FleetBeaconTestSubscriptionLogger6=!1;e.$FleetBeaconTestSubscriptionLogger7=-1;e.$FleetBeaconTestSubscriptionLogger8=-1;e.$FleetBeaconTestSubscriptionLogger9=0;e.$FleetBeaconTestSubscriptionLogger10=0;e.$FleetBeaconTestSubscriptionLogger11=[];e.$FleetBeaconTestSubscriptionLogger12=-1;e.$FleetBeaconTestSubscriptionLogger13=-1;e.$FleetBeaconTestSubscriptionLogger14=-1;e.$FleetBeaconTestSubscriptionLogger15=c;e.$FleetBeaconTestSubscriptionLogger16=d;return e}var e=b.prototype;e.cleanState=function(){this.$FleetBeaconTestSubscriptionLogger3=!1,this.$FleetBeaconTestSubscriptionLogger4=!1,this.$FleetBeaconTestSubscriptionLogger5=!1,this.$FleetBeaconTestSubscriptionLogger6=!1,this.$FleetBeaconTestSubscriptionLogger7=-1,this.$FleetBeaconTestSubscriptionLogger8=-1,this.$FleetBeaconTestSubscriptionLogger9=0,this.$FleetBeaconTestSubscriptionLogger10=0,this.$FleetBeaconTestSubscriptionLogger11=[],this.$FleetBeaconTestSubscriptionLogger12=-1,this.$FleetBeaconTestSubscriptionLogger13=-1,this.$FleetBeaconTestSubscriptionLogger14=-1};e.onFleetBeaconStateTransition=function(a,b,c,d){this.$FleetBeaconTestSubscriptionLogger1==null&&(this.$FleetBeaconTestSubscriptionLogger1=d);c="NONE";switch(b.getName()){case"initial":break;case"preparing":this.$FleetBeaconTestSubscriptionLogger12=Date.now();this.$FleetBeaconTestSubscriptionLogger3=!0;break;case"before_subscribe":this.$FleetBeaconTestSubscriptionLogger13=Date.now();this.$FleetBeaconTestSubscriptionLogger4=!0;break;case"subscribe_issued":this.$FleetBeaconTestSubscriptionLogger5=!0;break;case"waiting_to_publish":a.getName()==="subscribe_issued"&&(this.$FleetBeaconTestSubscriptionLogger6=!0,this.$FleetBeaconTestSubscriptionLogger7=Date.now()-this.$FleetBeaconTestSubscriptionLogger13);a.getName()==="publish_issued"&&this.$FleetBeaconTestSubscriptionLogger17();break;case"publish_issued":this.$FleetBeaconTestSubscriptionLogger9+=1;this.$FleetBeaconTestSubscriptionLogger14=Date.now();break;case"failed":a.getName()==="subscribe_issued"&&(c="SUBSCRIBE_FAILED");a.getName()==="publish_issued"&&(c="RECEIVE_PUBLISH_FAILED");this.$FleetBeaconTestSubscriptionLogger18("FAILURE",c);break;case"succeed":a.getName()==="publish_issued"&&this.$FleetBeaconTestSubscriptionLogger17();this.$FleetBeaconTestSubscriptionLogger18("SUCCESS","NONE");break;case"aborted":a.getName()==="preparing"&&(c="CREATE_TEST_FAILED");a.getName()==="publish_issued"&&(c="MUTATE_FIELD_FAILED");this.$FleetBeaconTestSubscriptionLogger18("ABORT",c);break;default:}};e.$FleetBeaconTestSubscriptionLogger17=function(){this.$FleetBeaconTestSubscriptionLogger10+=1;var a=Date.now()-this.$FleetBeaconTestSubscriptionLogger14;this.$FleetBeaconTestSubscriptionLogger11.push(a)};e.$FleetBeaconTestSubscriptionLogger18=function(a,b){var e,f=this,g=this.$FleetBeaconTestSubscriptionLogger12=Date.now()-this.$FleetBeaconTestSubscriptionLogger12,h=parseInt(this.$FleetBeaconTestSubscriptionLogger11.reduce(function(a,b){return a+b},0)/this.$FleetBeaconTestSubscriptionLogger10,10);e=(e=this.$FleetBeaconTestSubscriptionLogger1)==null?void 0:e.getTestID();if(e==null)return;this.$FleetBeaconTestSubscriptionLogger2.log({client_mutation_id:c("uuid")(),actor_id:c("CurrentUser").getAccountID(),test_id:e,test_name:"Web_Manual",test_result:a,failure_reason:b,subscribe_issued:this.$FleetBeaconTestSubscriptionLogger5,subscribe_success:this.$FleetBeaconTestSubscriptionLogger6,subscribe_latency_ms:this.$FleetBeaconTestSubscriptionLogger7,subscribe_timeout_interval_ms:(e=this.$FleetBeaconTestSubscriptionLogger1)==null?void 0:e.subscribeTimeoutIntervalMS(),publish_success:this.$FleetBeaconTestSubscriptionLogger10>0,publish_latency_ms:h,publish_timeout_interval_ms:(a=this.$FleetBeaconTestSubscriptionLogger1)==null?void 0:a.payloadTimeoutIntervalMS(),test_duration_ms:g,triggering_subscription:(b=this.$FleetBeaconTestSubscriptionLogger15)!=null?b:"manual",app_id:d("RelayRTIUtils").GRAPH_SERVICES_SDK_APP_ID}).then(function(a){f.$FleetBeaconTestSubscriptionLogger16(!0)})["catch"](function(a){f.$FleetBeaconTestSubscriptionLogger16(!1)})};return b}(c("FleetBeaconStateTransitionListener"));g["default"]=a}),98);
__d("FleetBeaconTestSubscription",["FleetBeaconTestBase","FleetBeaconTestSubscriptionLogger","FleetBeaconTestUIAnnouncer","uuid"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e){var f;f=a.call(this)||this;f.onCleanUpFleetBeaconFinish=function(a){f.onCleanUpFinish()};f.$FleetBeaconTestSubscription1=b;f.$FleetBeaconTestSubscription3=null;f.$FleetBeaconTestSubscription4=e;f.$FleetBeaconTestSubscription6=new(c("FleetBeaconTestSubscriptionLogger"))(b,d,f.onCleanUpFleetBeaconFinish);f.$FleetBeaconTestSubscription5=new(c("FleetBeaconTestUIAnnouncer"))();a.prototype.addStateTransitionListener.call(babelHelpers.assertThisInitialized(f),f.$FleetBeaconTestSubscription6);a.prototype.addStateTransitionListener.call(babelHelpers.assertThisInitialized(f),f.$FleetBeaconTestSubscription5);f.cleanPreviousFleetBeaconResult();return f}var d=b.prototype;d.cleanPreviousFleetBeaconResult=function(){a.prototype.cleanPreviousFleetBeaconResult.call(this),this.$FleetBeaconTestSubscription2=c("uuid")()};d.getTestID=function(){return this.$FleetBeaconTestSubscription2};d.getFleetBeaconUIAnnouncer=function(){return this.$FleetBeaconTestSubscription5};d.prepareFleetBeaconTest=function(){this.onPrepareFleetBeaconSuccess()};d.subscribe=function(){var a=this,b=this.$FleetBeaconTestSubscription2;if(b==null)return;this.$FleetBeaconTestSubscription3=this.$FleetBeaconTestSubscription1.subscribe(b,{onNext:function(){a.onPayloadReceived()},onError:function(){}});this.onSubscribe()};d.publish=function(){var b=this,c=this.$FleetBeaconTestSubscription2;if(c==null)return;this.$FleetBeaconTestSubscription1.publish(c)["catch"](function(c){a.prototype.onPublishFailed.call(b)})};d.cleanUpFleetBeacon=function(){};d.$FleetBeaconTestSubscription7=function(){var a;(a=this.$FleetBeaconTestSubscription3)==null?void 0:a.dispose()};d.onFleetBeaconStateTransition=function(b,c){a.prototype.onFleetBeaconStateTransition.call(this,b,c);b=c.getName();b==="finish"&&(this.$FleetBeaconTestSubscription4(),this.$FleetBeaconTestSubscription7())};return b}(c("FleetBeaconTestBase"));g["default"]=a}),98);
__d("FleetBeaconSubscriptionLauncher",["FleetBeaconRunner","FleetBeaconSubscriptionNetwork","FleetBeaconTestSubscription"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){a=new(c("FleetBeaconTestSubscription"))(new(c("FleetBeaconSubscriptionNetwork"))(a),b,d);return a}function b(a){var b=new(c("FleetBeaconRunner"))(a);a.setFleetBeaconRunner(b);b.prepareFleetBeaconTest()}g.CreateFleetBeaconTestSubscription=a;g.LaunchFleetBeaconTestSubscription=b}),98);